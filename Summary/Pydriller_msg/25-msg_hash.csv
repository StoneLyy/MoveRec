commit_id,msg
8f542a1517cf559963cffe7697964678edf3acac,"trunk for main development tree

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@188674 13f79535-47bb-0310-9956-ffa450edef68"
a3421d7212130b84a185dce41944636ec645b446,"initial commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@189597 13f79535-47bb-0310-9956-ffa450edef68"
93fe0f162ca2aca14a8c3fd7a6ca91d25e9b3404,"initial commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@189602 13f79535-47bb-0310-9956-ffa450edef68"
541cd180a8924925b45a0b48b0993c6f21d0a112,"Wrong version

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@189685 13f79535-47bb-0310-9956-ffa450edef68"
dd185e273616e2db03a8140ded52b4877f8c305d,"Initial commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@189695 13f79535-47bb-0310-9956-ffa450edef68"
922fb3ee6483f74c66a369954860456c477c1edc,"Roller 2.0 branch creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@189808 13f79535-47bb-0310-9956-ffa450edef68"
86b56a9b0d831623df7ae5f26c9244e8e8e0a20c,"2.0 branch, initial commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@189811 13f79535-47bb-0310-9956-ffa450edef68"
b9cd8dec9dbf0e38e54ddf4e0a2320bc97eb3599,"Oops, was missing XML-RPC 2.0 jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@189813 13f79535-47bb-0310-9956-ffa450edef68"
1cadfda34dff4a5743775d8c07ab97cdec941e92,"recreating Roller 2.0 branch in SVN

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@190005 13f79535-47bb-0310-9956-ffa450edef68"
2495c8337d0cb3ef7a6b50aa17c6859684c7424e,"recreating Roller 2.0 branch in SVN

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@190006 13f79535-47bb-0310-9956-ffa450edef68"
ab4f154c8ead15f9097b8f2bfdd76abad6af3fdd,"recreating Roller 2.0 branch in Subversion

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@190007 13f79535-47bb-0310-9956-ffa450edef68"
3333d65a3cc01caf41a5b2501a0856cd9d015dbe,"recreating Roller 2.0 branch in SVN

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@190010 13f79535-47bb-0310-9956-ffa450edef68"
555318af959391ac85d1c8423ef9a0ead44574cc,"Now that PermissionsData exists to create many-to-many releationships 
between websites and users, it's time to break the old one-to-one
relationship. Here's what I've done so far:

- removed WebsiteData.getUser()
- removed RollerRequest.getUser()
- added RollerSession.getAuthenticatedUser()
- added RollerSession.getCurrentWebsite()
- picked up the pieces and make the Java classes compile again

What's next? Make the JSP pages compile again, get all the unit tests
running again and bring up the old UI on the new data model.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@201564 13f79535-47bb-0310-9956-ffa450edef68"
de22a5418095c980d0524c6826e34c15ad6b098d,"still cleaning up after breaking website/user relationship

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@201565 13f79535-47bb-0310-9956-ffa450edef68"
6463acdf7c237c7a32a01fd88b380e07a3b41a14,"Roller 1.2 final



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@201785 13f79535-47bb-0310-9956-ffa450edef68"
56e8d71b23db654d1491ca3a0c4c3136ae91b4da,"refactored PageData class to now be WeblogTemplate 



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@208802 13f79535-47bb-0310-9956-ffa450edef68"
3677c7ed91b685b1ba0f03ec9ad42a2730a87f76,"New classes for Theme Management.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209350 13f79535-47bb-0310-9956-ffa450edef68"
9ee501c48d5e6cf7605d467a4a5e8e71fde6e182,"Adding methods for Roller.getThemeManager()



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209351 13f79535-47bb-0310-9956-ffa450edef68"
adf0756e0e7a008c2c26fff36af76f1769538592,"A couple slight refactorings for WeblogTemplate.java which affected some other classes. namely ...
  - changed getTemplate() to getContents() to conform to Template interface
  - changed getUpdateTime() to getLastModified() to conform to Template interface
  - changed member access levels from protected to private



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209352 13f79535-47bb-0310-9956-ffa450edef68"
5c76bca3567561c9f65aeb093048f6efd2af6b22,"Added a set of new WebsiteData.getPageByXXX() methods for returning
Template objects which are sensitive to the state of a Website object.

Many classes were modified to make use of the new website
centric getPage...() methods in support of the new theme management code.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209354 13f79535-47bb-0310-9956-ffa450edef68"
d180ba0c060788675b181b4befc5d741c16de66a,"A few changes to the process of new user registrations.

UserManagerImpl.addUser() forces users to select a theme and does not copy templates from that theme to a users custom templates.  This means that users now start out with 0 weblog templates.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209355 13f79535-47bb-0310-9956-ffa450edef68"
99de5f009a0a27b7cb468224a82b39fda69af7c2,"Was still trying to use the old RollerConfig.  Updated to use new RollerRuntimeConfig.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209356 13f79535-47bb-0310-9956-ffa450edef68"
6547bf1eb885abce8295f86ad600148c982b1076,"Removed old theme related methods.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209357 13f79535-47bb-0310-9956-ffa450edef68"
443c812f554a4e36f83f38dbf8debc763c8d86dc,"Disabled old evaluateString() method.  Too dangerous.  The method still works, but we don't actually pass the contents into velocity anymore.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209358 13f79535-47bb-0310-9956-ffa450edef68"
8a4fb6ddae21a58e5083a425481a2fded79cc1de,"Rewrote ThemeEditorAction and PreviewServlet for new theme management stuff.

PreviewServlet now works completely independently and can provide full page previews of any theme at any time simply by setting ?theme=<theme> on the url


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209360 13f79535-47bb-0310-9956-ffa450edef68"
f54101580c48087b9ec86660bce1e91d0a2b0db6,"A few config changes for theme management.

RollerConfig now has a setRuntimeContext() method for setting the real path to the roller context to make it available to business classes.

Created new ""Themes"" section in Admin settings page and added new property ""themes.customtheme.allowed""

Removed ""preview"" from velocity resource loader list


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209361 13f79535-47bb-0310-9956-ffa450edef68"
0b46dd3cc309d76223c4bc3f11490bb3aa6ee213,"Small change to use website.getPageByName()


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209362 13f79535-47bb-0310-9956-ffa450edef68"
e0f8615835a24d77a019de0ebca5921b9aee79b1,"Fixing the endline problem with these files.  changed from macOS (\r) endlines to windows style (\n\r) ... hopefully this works for everyone.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209366 13f79535-47bb-0310-9956-ffa450edef68"
b76b789850516bdca200607ead489fc788937572,"Added a little extra debugging + code to ensure the default page id gets properly set when a user is copying down templates for customization.

Removed a check for defaultpageid != defaultdaypageid from WebsiteForm because it was causing a null pointer with websites that don't have any page templates.

Fixed a display bug in theme editor jsp so that the customize options is not showed when custom themes are disabled.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@209964 13f79535-47bb-0310-9956-ffa450edef68"
e2ee3d8fd0b6ea1e27f0156f9c74b0f8baf9b0e1,"Preliminary draft.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@210025 13f79535-47bb-0310-9956-ffa450edef68"
25bebb2805fcac9caccb4e200a6ac0aebd00623e,"Added mentor names. No addresses for anyone yet.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@210055 13f79535-47bb-0310-9956-ffa450edef68"
101c0929159c5023648c1a31a9ce2e23e8e9b33f,"small bug fix.  we now explicitly close all files ... this was causing a problem for ppl using nfs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@216010 13f79535-47bb-0310-9956-ffa450edef68"
0e65b3965b2e3b5c1cee93d3fef4f59d03a11958,"Most unit tests working now. Still working on a couple of sticklers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@216016 13f79535-47bb-0310-9956-ffa450edef68"
9a8fe097ca6e7f579c4130078fd495fc27879c98,"Roller 2.0 backend unit tests are looking good. Time to turn attention to the frontend tests and the UI.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@216224 13f79535-47bb-0310-9956-ffa450edef68"
6f70c93fba8e764dc0ead0b5b675663b8a69d8d8,"Most of the UI unit tests are now running.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@219080 13f79535-47bb-0310-9956-ffa450edef68"
9ef988fe9cabab6425ccd97ea70aadd0710ab273,"removed a little old code that was added for theme management, but eventually abandoned.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219099 13f79535-47bb-0310-9956-ffa450edef68"
3e6975ed27917cdac55377c2f432618b0f659dc9,"bug fix for null pointer which handles case when no themes are found on disk.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219101 13f79535-47bb-0310-9956-ffa450edef68"
cf7476b6f569c524d9de945818358ef3aafb7865,"making sure that it uses context sensite website.getPageByXXX() method instead of old userMgr.getPageByXXX() method.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219102 13f79535-47bb-0310-9956-ffa450edef68"
51f68760e29994c3cbfb17a8ff7e143295aa36e2,"bug fix for case when someone trys to preview a ""custom"" theme but has no page templates.  we now return a 404 in this case.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219104 13f79535-47bb-0310-9956-ffa450edef68"
1a0f9ee3d65cc0c6ee48ef8618e2d0427bb556c3,"label for theme form ""customize"" button.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219106 13f79535-47bb-0310-9956-ffa450edef68"
57d016e8a7f504d4468865b27275137828aa52c5,"new plugin which converts plain text paragraphs into html paragraphs.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219139 13f79535-47bb-0310-9956-ffa450edef68"
7f97c0c2a9e98196b6c0d16a13492117bcad2812,"Atom 1.0 support

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219222 13f79535-47bb-0310-9956-ffa450edef68"
e4102f0b3bf316c795253c78b85f5b0912a64711,"Website-to-user many-to-many relationship is now in place and old Roller functionality works again in the roller_2.0 branch. I was able to register a user and make a blog post. Now it's time to start group blogging UI development.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@219335 13f79535-47bb-0310-9956-ffa450edef68"
b58b3abcb870ae234c51ebb15d4021ddc361385c,"Fix for ROL-760.  Extracted the setting of character encoding and synchronization of JSTL and Struts locale from RequestFilter and put it in CharEncodingFilter, which is mapped for all URIs.

Removed setting of character encoding in the SearchServlet, which was happening too late.  An earlier getParameterMap() call in BasePageServlet was causing the request encoding used for parameters to be determined by that point.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219427 13f79535-47bb-0310-9956-ffa450edef68"
7370e8ea04b7757ad03674a5d935ed99e29d3ce0,"Menu now respects website permissions

Plus: RollerRequest refactoring (removed getRoller() and auth. and auth. related methods)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@219437 13f79535-47bb-0310-9956-ffa450edef68"
f300cfce5ffbfd16da930c2f7790925907783327,"<feed> MUST have <id>
<feed> MUST have <link> with rel=""self""

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219456 13f79535-47bb-0310-9956-ffa450edef68"
cfd632f3d60da544a9ce1ada8c07f7b015a218d9,"Missed some references to RollerRequest.getRoller()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@219488 13f79535-47bb-0310-9956-ffa450edef68"
3dbd172ab52930aee18f1fde029375c6ac7d33a0,"New actions, forms and JSPs for group blogging UI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@219574 13f79535-47bb-0310-9956-ffa450edef68"
81d1fd4b31e609cb249111854889dc750fed18f0,"a couple small alterations to junit tests due to changes for theme management.  the big one being that some tests assume users have page templates after a new registration which is no longer true.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219732 13f79535-47bb-0310-9956-ffa450edef68"
61e8b89fadc3af9a78e75246c4dc4f2f8bd37543,"refactoring org.roller.model.Template to org.roller.pojos.Template

this is a little more consistent since Template is really a pojo related interface, plus this required so that the Template interface can have a pojo wrapper.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219813 13f79535-47bb-0310-9956-ffa450edef68"
65583dde2158a51118dcc2dd35701784322d3f5e,"had tried to honor the skip flag, but it's use is unclear so we just render in all cases now.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@219959 13f79535-47bb-0310-9956-ffa450edef68"
452b2661e374cba9b3729563f0f60c35ea3e6473,"added a couple new messages used by admin config form.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224384 13f79535-47bb-0310-9956-ffa450edef68"
b2a7fc8667cfe9e4a8701af1fc49836adae059bb,"new xdoclet template for creating pojo wrapper classes and a new ant target for generating the wrappers.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224387 13f79535-47bb-0310-9956-ffa450edef68"
648934c20d0aa916145c0b983fa93db90f3df787,"adding initial pojo wrapper xdoclet markup


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224388 13f79535-47bb-0310-9956-ffa450edef68"
a586e41e75f5c2124b08e40481261ac44b6f23a5,"removing old preview resource loader since we don't need it anymore.
the page servlet has also been rewritten because all of it's old logic was about dealing with the preview resource loader.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224389 13f79535-47bb-0310-9956-ffa450edef68"
27c1f625fbbcbaef0d51ba40f74227132522e764,"modifying velocity rendering process to ensure that all pojos are properly wrapped.

removed old TemplateWrapper object because we have a new one that gets generated via xdoclet.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224390 13f79535-47bb-0310-9956-ffa450edef68"
408aac368d0a6e1b01818bee6041aec371b7fcfc,"added a message that reminds users that editing page templates won't affect their blog display *if* they are using a shared theme.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224391 13f79535-47bb-0310-9956-ffa450edef68"
eeb5e5f1e2d48d2d4bcee7af86b76338430ee370,"set roller version to 1.3 


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@224395 13f79535-47bb-0310-9956-ffa450edef68"
f6649ca99ef7fbae5546527439a0bd2c396709a0,"fixing bug where the entries map was not maintaining its proper ordering after we wrapped its contents.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225150 13f79535-47bb-0310-9956-ffa450edef68"
4b1165ad23e94637fd597dbd3280d2e9d01aa41c,"new database upgrade code.  this removes the very old pre-1.0 upgrade code and adds a little bit of 1.3 upgrade code.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225156 13f79535-47bb-0310-9956-ffa450edef68"
d7c03a5dc80a5f523b93a7e70f2e69d480f2e54e,"First cut of group blogging actions and JSP.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@225230 13f79535-47bb-0310-9956-ffa450edef68"
950b06b41a4cd409f335fc914bcc7aa606d759dd,"Group blogging LIVES! Enough rough UI is in place to allow a user to have multiple websites and a website to have multiple users. Next up: completing and polishing up the UI.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@225383 13f79535-47bb-0310-9956-ffa450edef68"
5296e3f3636b7547525c11cbfda842110e51ce67,"apply blacklist check to incoming trackbacks.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225414 13f79535-47bb-0310-9956-ffa450edef68"
07f94186ea34cc24907c039dfa23c37e43046a74,"setting default comment days to unlimited.  this is mainly for folks using metaweblogapi, etc, who can't set this value and always end up with only 7 days of comments :/


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225538 13f79535-47bb-0310-9956-ffa450edef68"
7996a98db8961fce85b2c07d94c1bf2ce24c7fe0,"Website Member Permissions page complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@225579 13f79535-47bb-0310-9956-ffa450edef68"
37dcd0ae7ff822e721d78503d63f48f3de817ec7,"fixed bug in customize method where an error would get thrown if someone managed to try and customize their ""custom"" theme.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225817 13f79535-47bb-0310-9956-ffa450edef68"
cddd3093ecc913a950aeb7a88928f1a39630e893,"no longer used.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@225818 13f79535-47bb-0310-9956-ffa450edef68"
a5d961265c8b37425a7ac074b1c6f0380fb2c35f,"Group blogging UI almost complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226354 13f79535-47bb-0310-9956-ffa450edef68"
b7543340d6ec18184897a370931afb9c0623b7b0,"Group blogging UI almost complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226356 13f79535-47bb-0310-9956-ffa450edef68"
0a43de900f1fffdec4d7a9af2095def674813078,"Group blogging UI almost complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226366 13f79535-47bb-0310-9956-ffa450edef68"
8e36f5118f7b21b9c6464c9e25c3bb6285eae123,"Group blogging UI almost complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226367 13f79535-47bb-0310-9956-ffa450edef68"
6ab1581b96e64c58e5c1a5b2a366e439d76774fe,"Group blogging UI almost complete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226368 13f79535-47bb-0310-9956-ffa450edef68"
93fd72020d7785cc132d8959f80737c623a9220f,"Further refinements of group blogging UI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226546 13f79535-47bb-0310-9956-ffa450edef68"
01022f7450b82bd31d84d7e7fdce380084703db1,"Group blogging: support for LIMITED users

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@226733 13f79535-47bb-0310-9956-ffa450edef68"
256b32d7172df7dee3ae820ecc1db7f6903ee2a4,"Further refinements to group blogging UI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@227232 13f79535-47bb-0310-9956-ffa450edef68"
e179858b26b8ad168c6c030ff4da00fe108cca8c,"further group blogging UI refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@227237 13f79535-47bb-0310-9956-ffa450edef68"
513cd92932796165040d7461e87d58b5c3c37025,"Further refinements to group blogging UI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@227446 13f79535-47bb-0310-9956-ffa450edef68"
a15e9e7950f50c389bd3571dc2192cbd7e6d8cca,"Further refinements to group blogging UI and it's now possible to disable group blogging features

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@227447 13f79535-47bb-0310-9956-ffa450edef68"
195579b7bceaff1262934b07b9a95ee6dd655387,"Further refinements to group blogging UI and it's now possible to disable group blogging features

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@227449 13f79535-47bb-0310-9956-ffa450edef68"
01f24ded79476ad6623d0b8ac7b0118fea126c21,"more group blogging UI work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@230484 13f79535-47bb-0310-9956-ffa450edef68"
24877e8b9e2c8ce825c2947a21e6419a6e267c42,"further group blogging UI refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@230512 13f79535-47bb-0310-9956-ffa450edef68"
31b8f055dd13a85c23e1be30c9bd2a1af5fee2d0,"Converting to Windows style linefeeds to match trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@230555 13f79535-47bb-0310-9956-ffa450edef68"
6f2098eaf184aef2233d02fcbca33fd242629b17,"Merging from trunk to roller_2.0 branch, revs 190010:225818

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@230810 13f79535-47bb-0310-9956-ffa450edef68"
15dcc8a578af3ecfd5e6d07438e667ab073c4a04,"adding some null checks to prevent null pointers in cases where the runtime config defs file can't be read in properly, like running tasks outside the webapp.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@230917 13f79535-47bb-0310-9956-ffa450edef68"
4a038be1c5e64bb94a494bb17438665d2fd6a55e,"More post-merge fixes.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@231067 13f79535-47bb-0310-9956-ffa450edef68"
f8eb9562e16046578e2bec6596d9ed6523e918de,"Better prompts on bookmarks and categories pages, added #showBlogrolle() macro and made initial blogroll and categories configurable via roller.properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@231087 13f79535-47bb-0310-9956-ffa450edef68"
f88888351634269c6281d3d3dae9da48725fdf72,"Adding tiles config so we can assign differnet headers, footers, banners and sidebars for different classes of pages as we experiment with different simplified UIs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@231301 13f79535-47bb-0310-9956-ffa450edef68"
d5f1b9dfd9e3dc9910c20c8000c2c87904ce167a,"Adding tiles config so we can assign differnet headers, footers, banners and sidebars for different classes of pages as we experiment with different simplified UIs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@231302 13f79535-47bb-0310-9956-ffa450edef68"
3435740c9cd143364f47c277d88517a2d3524360,"first cut at new landing page UI, still a bit more to do

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232367 13f79535-47bb-0310-9956-ffa450edef68"
3f48005a4ee57d0debf559443797bc74b21320bd,"minor color/layout tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232444 13f79535-47bb-0310-9956-ffa450edef68"
6cbd2c40d52c9280b9d5c46646031ef6cdf1d029,"Fixes for ROL-754.  Change column named condition to conditioncode to avoid conflicting with new keyword in MySQL 5.x.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@232624 13f79535-47bb-0310-9956-ffa450edef68"
54a5922a6d7de9933fd219e11adadaab1aaab33a,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232817 13f79535-47bb-0310-9956-ffa450edef68"
d88eca7efa13866ae8906c7926a2ec4debe8c542,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232818 13f79535-47bb-0310-9956-ffa450edef68"
e76c915d072751b7642d4739b707a6989bd9f00c,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232820 13f79535-47bb-0310-9956-ffa450edef68"
92094b520ed1a2a144ef8dc3866c85ee2b3acf56,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232821 13f79535-47bb-0310-9956-ffa450edef68"
7d8126c4873d04fa70b226676886c07eeb5ae401,"For ROL-775.  Updated ApplicationResources_de.properties using version submitted by Axel Kramer.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@232823 13f79535-47bb-0310-9956-ffa450edef68"
f80afdb28fcb27e21784576100b3e673cc639116,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232825 13f79535-47bb-0310-9956-ffa450edef68"
12abdc5bec773735d6796151ba5f03106dea997b,"Roller 2.0 UI work mostly done

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232903 13f79535-47bb-0310-9956-ffa450edef68"
6ec842167aeef32463d30597edf2dc210726beea,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232922 13f79535-47bb-0310-9956-ffa450edef68"
765a80b9e64439b291f248d3e05eda3701fac18d,"More tweaks to 2.0 pages, look and feel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232923 13f79535-47bb-0310-9956-ffa450edef68"
c67085a5b5662510829d5dc8ce1b63ebc69e12af,"More tweaks to 2.0 pages, look and feel, we're ready for some screenshots

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@232994 13f79535-47bb-0310-9956-ffa450edef68"
5e5519821604515191fe801c4352049ea669be10,"Back out fixes for ROL-754 from trunk. DB changes are currently excluded from release 1.3.  These need to be put on the Roller 2.0 branch.  This reverses the effect of revision 232624.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@233006 13f79535-47bb-0310-9956-ffa450edef68"
e2e2acda362c9d7d89f8a4d7b3c6056c2324d6d6,"More tweaks to 2.0 pages, look and feel, final preps before screenshots

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@233007 13f79535-47bb-0310-9956-ffa450edef68"
6409f307be4d202a571c3657166e2bbe2fe15da1,"Fixes for ROL-754.  Moved from trunk to Roller 2.0 branch.  This renames the column condition to conditioncode in the pingtarget table.  Added to existing db upgrade script; changed in full db build script; changed in doclet tag of PingTargetData.java.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@233011 13f79535-47bb-0310-9956-ffa450edef68"
0d4d733ddd22cccffce0a980dc95bbe1670e599b,"Made UI color-scheme 'pluggable' via colors.css

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@233186 13f79535-47bb-0310-9956-ffa450edef68"
8594f7b275206d7bc42edd2c6c16e658f28c0404,"Example theme that uses blue colors

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@233191 13f79535-47bb-0310-9956-ffa450edef68"
648c2f1da834b75c3df64b3d7b21de57d7aa4004,"Fixed bug that was causing Planet feed's lastBuildDate to get stuck at startup time

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@233370 13f79535-47bb-0310-9956-ffa450edef68"
aa8ffdb87dfbb79b9953529f05ac38836873ecd2,"Fixed bug that was causing Planet feed's lastBuildDate to get stuck at startup time

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@233403 13f79535-47bb-0310-9956-ffa450edef68"
2847cb1ad622843880bd920a28d8911b3eb720b3,"Fixed problems with feed level links in Atom 1.0 feed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@233404 13f79535-47bb-0310-9956-ffa450edef68"
e584ad1393481e51227349f1dabcdb71039545d1,"fixing ROL-780: next/prev links link to single entry

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@233499 13f79535-47bb-0310-9956-ffa450edef68"
4ac243b5e7aa39970b8e578752b76c2cc0697982,"adding trackback autodiscovery velocity macro.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@239719 13f79535-47bb-0310-9956-ffa450edef68"
7909d4de08dc80ff09cb5aae30e398a86d4299d6,"Changes to allow page title to be known outside of content, plus some UI polishing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@239735 13f79535-47bb-0310-9956-ffa450edef68"
e008155d220af834eef32057711e83ce06d3f05c,"Changes to better support multiple browser windows in same Roller session

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@240407 13f79535-47bb-0310-9956-ffa450edef68"
47ee32f023abbcffd669b4c5506c107c896d1a6d,"Use forward and mapping to determine if menu item is selected

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@263866 13f79535-47bb-0310-9956-ffa450edef68"
56b07b385c2104a50f60d9089ebf7aefbc805932,"Fixed current-website related  bugs in file upload and theme editor

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@263878 13f79535-47bb-0310-9956-ffa450edef68"
2e451709cd1fac13d37b2015404b579ec1da73d6,"Fixed current-website related  bugs in file upload and theme editor

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@263881 13f79535-47bb-0310-9956-ffa450edef68"
629053abc1e87cbbd24b707da5a427ecdc328d5f,"support for tabbed menu on frontpage when planet is enabled

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264173 13f79535-47bb-0310-9956-ffa450edef68"
e648d70a71e15267597444e27461a3a9682f2e17,"support for tabbed menu on frontpage when planet is enabled

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264179 13f79535-47bb-0310-9956-ffa450edef68"
27e1dd00e2712e80abe3aeb60af260317711638c,"allow editor theme to be specified by startup config property

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264630 13f79535-47bb-0310-9956-ffa450edef68"
cf9d3d4e4136c9850cdf53ec9b5eaa2ca9159b2e,"adding convert line breaks plugin to page plugins list.  we talked a little about not having any plugins enabled by default, but we haven't settled on how we plan to do that so i'm adding this to the plugin list for now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@264645 13f79535-47bb-0310-9956-ffa450edef68"
aab8c702ee307bb904a20c030af31ae8e6975887,"Fixed breakages caused by elimination of RollerSession.getCurrentWebsite()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264673 13f79535-47bb-0310-9956-ffa450edef68"
4354febbbdb9640e54a2313f88482a00a40edeb3,"NPE fixes in template pages, ping pages and website settings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264823 13f79535-47bb-0310-9956-ffa450edef68"
c181f4c2e36e7efed3b34c8295c648fb16b85b2d,"NPE fixes in ping pages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264827 13f79535-47bb-0310-9956-ffa450edef68"
522b3a94d18ea76964ef5b8d42611197b59bb535,"Better error message for entry not found

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264853 13f79535-47bb-0310-9956-ffa450edef68"
6eaa34630648fca7f311e950e984424a683441af,"Rearrange status banner

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@264854 13f79535-47bb-0310-9956-ffa450edef68"
46f4557bb3c72b5cdf84a7b4377d71e76c6b329e,"Removing unused file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@265034 13f79535-47bb-0310-9956-ffa450edef68"
0c7d359dd99649452d2ccbf8c78337dbe54ff34b,"Global admins can now edit any weblog

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@265546 13f79535-47bb-0310-9956-ffa450edef68"
71492369a33855842f8b653f65368f34c665cdb8,"selected menu tab and item links should be bold


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@265551 13f79535-47bb-0310-9956-ffa450edef68"
32b1e5625af62179e8431ba69dc99efb42049720,"Added weblog remove to Weblog Settings page and tried to improve JSP page error handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@265814 13f79535-47bb-0310-9956-ffa450edef68"
611a22c7f9a82bee947b8cf6ba8a18da6cd46554,"UI styles and layout changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@278996 13f79535-47bb-0310-9956-ffa450edef68"
b927c18ce9c5faca05b51b4ed3197bafc4a0d9d6,"Bug fix: its not userrole.handle, its website.handle

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279021 13f79535-47bb-0310-9956-ffa450edef68"
ee03d189d7fe3159dafaa6507093706ca2cc9fe2,"updating log4j default config to use the DailyRollingFileAppender and removing stdout appender.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@279119 13f79535-47bb-0310-9956-ffa450edef68"
ef1bd8f6326b19789bba6e11f5c01ea0e2acaceb,"Fixed bug that causing post-webog create page to lose style

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279134 13f79535-47bb-0310-9956-ffa450edef68"
160b9105639cf239d8256098082f334ac599c809,"Added database 1.3 to 2.0 upgrade code, plus (untested) Derby support

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279136 13f79535-47bb-0310-9956-ffa450edef68"
ce50755892e8feb8b91f6ee3986ed166f45e1f0c,"rollerweb.jar was excluded from build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279151 13f79535-47bb-0310-9956-ffa450edef68"
03387cf0156b30921df054217957bd453420fbad,"Removing absolute paths from .classpath (for Eclipse users)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279350 13f79535-47bb-0310-9956-ffa450edef68"
65284d7bd1630be1366457c487fa011eb5284739,"Hibernate3 replaces 2 and all backend unit tests working again

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279745 13f79535-47bb-0310-9956-ffa450edef68"
58d83505cba4470035baf59692386a8a6a83dea5,"oops, we still need saxpath

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279768 13f79535-47bb-0310-9956-ffa450edef68"
f6f48761a07391bea80ba0de081b56b1ba625723,"Short index names patch from Elias Torres

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279791 13f79535-47bb-0310-9956-ffa450edef68"
c5973ee98dc4c5b109c590a933ae00d68d5b3600,"fixed offset calendar placement on entries page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@279859 13f79535-47bb-0310-9956-ffa450edef68"
866094ff3c2272f4884c0c932f32314b4b8e0989,"Property expander utility and unit test.  Will be used for system property expansion of config property values.  Part 1 of checkin for ROL-613.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@280214 13f79535-47bb-0310-9956-ffa450edef68"
22fce4e7dbfc7885c862bc11960e1a7590a10d57,"Part 2 of checkin for ROL-613.  Expand system properties in configuration property values after loading in RollerConfig.  The list of configuration properties whose values get the expansion treatment is itself controlled by a configuration property config.expandedProperties that is defined in the roller.properties file.  Remove the specific expansions in FileManagerImpl and IndexManagerImpl.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@280215 13f79535-47bb-0310-9956-ffa450edef68"
51cc1541ec447b12c8e042fe0e8c2565f27f80b9,"Merged rev range 225819:280410 from trunk to roller_2.0 branch

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280552 13f79535-47bb-0310-9956-ffa450edef68"
55b479413b2fc934ad0174429e3ed56b11c74ac1,"Example test shows weblog create and remove

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280582 13f79535-47bb-0310-9956-ffa450edef68"
bed0a82ed4e378c6803d3488c0e80da579e3e1de,"Made release name shorter

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280583 13f79535-47bb-0310-9956-ffa450edef68"
8d93667b5676b889cac56b0dbd793eeef5d840ff,"Hack to use Hibernate3 DTD seems to speed-up Hibernate init

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280584 13f79535-47bb-0310-9956-ffa450edef68"
15207e781fa3a571a7f9dda3cbed1665e704e580,"Hibernate config should refer to Hibernate 3.0 DTDs too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280624 13f79535-47bb-0310-9956-ffa450edef68"
94ea08a4b83326d912a05fc884e05ebfc14f5d8b,"Turns out the Hibernate3 DTD references are *very* important

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280635 13f79535-47bb-0310-9956-ffa450edef68"
a1564e1bc0fa4793fe16494a2b40ea2a6f430f7e,"Correcting merge problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280649 13f79535-47bb-0310-9956-ffa450edef68"
df4ce7ea040b416ce319ea6b5af7e639a709e3a3,"Updating demo build files in sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280732 13f79535-47bb-0310-9956-ffa450edef68"
8c4e3055bb17922b99e2b1de4bf4affe6c9e3418,"Updating demo build files in sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280733 13f79535-47bb-0310-9956-ffa450edef68"
f658d8e18cf27069c4bca821d3b0a40f1f4bc201,"Don't need JSPWiki in the repo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280734 13f79535-47bb-0310-9956-ffa450edef68"
e4505cc3776fe689ceb3a7238b5a51efae0c687d,"Cleaning up

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280735 13f79535-47bb-0310-9956-ffa450edef68"
436e0b4f3d01b472c0a70315fe3e1cc317ffe753,"Cleaning up

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280737 13f79535-47bb-0310-9956-ffa450edef68"
2d311a70fd7261f130f5a020e0715619a5096648,"custom props for demo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280746 13f79535-47bb-0310-9956-ffa450edef68"
6af52388991a728db38724491b3ede7db92948ec,"Just comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280763 13f79535-47bb-0310-9956-ffa450edef68"
c31d597abcf38ac224cfd8b549e022445335e5ea,"JSPWiki 2.2.33 deps

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280764 13f79535-47bb-0310-9956-ffa450edef68"
a29756744dc16686927d003d37f073b1da08651a,"demo properties, wiki template fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280765 13f79535-47bb-0310-9956-ffa450edef68"
ace85676a45557f40e98b2b1208235cae2f05225,"Using transparent logo for easier customization, but need fix for IE

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280931 13f79535-47bb-0310-9956-ffa450edef68"
7a899259bb4f11f5e41042fe798c4258ff9b506d,"Fix for ROL-814 (edit links not appearing on blog pages)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280961 13f79535-47bb-0310-9956-ffa450edef68"
6cf396b446e9afa1ffc0bab8b9f074cc5d156cdd,"Made weblog handle in bannerStatus into a link to weblog

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@280965 13f79535-47bb-0310-9956-ffa450edef68"
7503c3628db11dcd8eac413dde540d83062ee1a7,"Kenneth Kolano's fix for for transparent PNG logo in IE

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289235 13f79535-47bb-0310-9956-ffa450edef68"
0f33f1011ed71036f7145ae1468a862f90fc6096,"CommentSpamChecker was killing our persistence session :(



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289291 13f79535-47bb-0310-9956-ffa450edef68"
991b9cafdfba4b5b8ac4b3eca55a74ffbea38601,"allow page servlet to render comment popup requests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289292 13f79535-47bb-0310-9956-ffa450edef68"
6cc7da18e29aa37be93eac74ab4f9ca3d7d03d3e,"new comments architecture.

we've defined a new CommentServlet which only handles posted comments.  the old CommentServlet has been rewritten to forward/redirect requests as appropriate.  the comments.vm macros have been updated with new links.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289293 13f79535-47bb-0310-9956-ffa450edef68"
eb2874347b1036b2e71353656e9684cbc75c187f,"new process for setting entry pubtime.  pubtime is now NULL by default until it is set manually by the user, or the entry is first published.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289295 13f79535-47bb-0310-9956-ffa450edef68"
6f089f259192e0dcb600ed7cf97fa65b58f93599,"theme editor bug fix.  ""custom"" is not on the themes option list unless the user already has a default page template.  



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289325 13f79535-47bb-0310-9956-ffa450edef68"
c962fbddff0ab8d9696e9c4a9501fb14e3fdc5f7,"Style/layout tweaks and fixups for blue theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289607 13f79535-47bb-0310-9956-ffa450edef68"
6f7eb379054142a1c98ed2c0c8e987a6a1aeb9a3,"added 2 new runtime properties which control enabling/disabling of comments and trackbacks
for the entire site.  this was mainly brought on by the need to quickly disable trackbacks
when spam becomes an issue.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289644 13f79535-47bb-0310-9956-ffa450edef68"
dc1b979ac5ecda5b80c1a51c16a0bf2dc4bd4141,"More UI tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289650 13f79535-47bb-0310-9956-ffa450edef68"
2e6f17b5e0290b0f6df4aa649c8d7c70d12877d8,"Even more minor layout tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289675 13f79535-47bb-0310-9956-ffa450edef68"
30fb55a93620575ffab859f120b80c89036b01c9,"Upgraded to ROME 0.7, moved Atom protocol impl. to sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@289954 13f79535-47bb-0310-9956-ffa450edef68"
96fc86d447d1e4fbd52f127a2881d7aa911db3d0,"oops.  i removed the site.emailnotify property thinking it was a dupe.  adding it back now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290243 13f79535-47bb-0310-9956-ffa450edef68"
588825cac8af0e0e26c95dc43763fb4887a0c86a,"updating velocity macros which use references to $userName for urls to use $website.handle now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290277 13f79535-47bb-0310-9956-ffa450edef68"
3f7158b030ae57fef4613f7e448a239f3640b8f6,"modified weblogentry.pubtime field type from ""timestamp"" to ""datetime"".

migration script now has an alter table statement to modify the existing column for upgrades.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290279 13f79535-47bb-0310-9956-ffa450edef68"
6bb1e4a0f24893bfe3685857abf0f608ba1029fe,"commenting out a constraint line that isn't working properly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290531 13f79535-47bb-0310-9956-ffa450edef68"
fce77ac8f610361a3fdfba68b526422c3c1677a0,"Correcting comment about permissions mask

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290535 13f79535-47bb-0310-9956-ffa450edef68"
e88a7298fad869de833f34902c65a60074eae393,"Several minor bug fixes and UI tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290536 13f79535-47bb-0310-9956-ffa450edef68"
033bb4e24bef204b64a90ecb3af1be1b5fc1b957,"Fix for ROL-804, new template field too wide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290550 13f79535-47bb-0310-9956-ffa450edef68"
6f81a034196b871f3d1484532c29a5de3a0b96a9,"Fixing ROL-767, math authenticator on by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290563 13f79535-47bb-0310-9956-ffa450edef68"
2617e7653d626d3faa8bc1240cb313604f9114da,"Fixes ROL-806, template remove broken

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290564 13f79535-47bb-0310-9956-ffa450edef68"
19b4e506837254d163c0fc477a615ff28c546afc,"Fix for ROL-816, draft entries available by permalink

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290566 13f79535-47bb-0310-9956-ffa450edef68"
6afab7462054bbfdc1cee416d10203c7a4b8cc04,"replacing a few instances of text refering to ""website"" with ""weblog""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290567 13f79535-47bb-0310-9956-ffa450edef68"
f15bf6df0d3742c01d6c2e4b5324128fea6cddc6,"adding secure login logic which got misplaced.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290593 13f79535-47bb-0310-9956-ffa450edef68"
ed8743acff5571f2763c5df628d17854e1a365e6,"new scheme enforcement filter.
this is a new filter that can be configured to only allow certain urls to be accessed under https for Roller sites that use scheme switching for logins, etc.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290594 13f79535-47bb-0310-9956-ffa450edef68"
6d6b84d6326fc463e89cdb67f09e0018a3a95cf9,"oops, bad forward  name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290694 13f79535-47bb-0310-9956-ffa450edef68"
005f5d1de2e922c16a1e07155a4d95f5827a2a39,"Fixing ROL-751, must specify either title OR text

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290708 13f79535-47bb-0310-9956-ffa450edef68"
111221fdae2e388b10af8e5ce902879f3257af02,"Fixed ROL-782, bad paths in some Ekit and DHTML editor plugins

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290714 13f79535-47bb-0310-9956-ffa450edef68"
a17c6b240f2be1d45e7eaaad9f675afe4f9b1488,"Cropped javadoc graphic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290717 13f79535-47bb-0310-9956-ffa450edef68"
015ef7de324d86d79c7901d08c58c44a172536f0,"Starting new Atom Protocol impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290739 13f79535-47bb-0310-9956-ffa450edef68"
5cb87ab2a3b8a1d1031ab2c56c9bdc74a8f0bdcb,"Starting new Atom Protocol impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@290745 13f79535-47bb-0310-9956-ffa450edef68"
b37d53c8d026f579db22a052ed4bf77dd9cc7e59,"adding ""weblog"" param to forms because it was being lost.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291060 13f79535-47bb-0310-9956-ffa450edef68"
099c6e25f1b76ccd5cc5c31f80ea0bb70cfc1312,"adding ""email"" to UserManager.createWebsite()



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291061 13f79535-47bb-0310-9956-ffa450edef68"
4fef3ab1aa09f31fd4a522097336df5d869531e3,"oops ... missed this one.  also part of updating UserManager.createWebsite() to include ""email"" property.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291062 13f79535-47bb-0310-9956-ffa450edef68"
2aee2350726bb4ed5db58fd79b85d84ce1c6cadf,"Updated Atom Protocol 04 updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291064 13f79535-47bb-0310-9956-ffa450edef68"
883217d8bea97f18a0c6c80d69fb40dfdeced3e2,"UI style/layout tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291065 13f79535-47bb-0310-9956-ffa450edef68"
57963e01467b47c3d3037e9dabbdc712481cd050,"UI style/layout tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291071 13f79535-47bb-0310-9956-ffa450edef68"
8b5af9c0a210cfbaa836d9523b40df446c5d62d5,"UI style/layout tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291072 13f79535-47bb-0310-9956-ffa450edef68"
0abf94e5c0850af861d38cc2772727cd5befac99,"User *must* enter valid handle to create weblog

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291101 13f79535-47bb-0310-9956-ffa450edef68"
a4384002b9f3b356dd759296dfbdaf1fa922370f,"oops ... we don't need atomapi debugging by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291164 13f79535-47bb-0310-9956-ffa450edef68"
29eccca2e091ebeb73514a2c837d41c6a085666b,"force referer turnover when being run from the scheduled task.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291331 13f79535-47bb-0310-9956-ffa450edef68"
7c34a8ac9bd2e1741c6996f80a1604a470719757,"slight modification to simply force a weblog entry to have a title, but body can be empty.  having an empty title can't be allowed because we wouldn't have a way to get to that permalink.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291332 13f79535-47bb-0310-9956-ffa450edef68"
2e264239fb6ef1c736b6303f7c794624a0e8d0cb,"changed most page subtitles from ""[{0}]"" to ""<span>{0}</span>"" so that we can highlight weblog names in page subtitles.

also a handful of text edits and rewording.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291333 13f79535-47bb-0310-9956-ffa450edef68"
b010d72f4c4ac2e5110bcd7990d3a714c8c220b5,"removing minimum height hack ... doesn't work on IE.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291344 13f79535-47bb-0310-9956-ffa450edef68"
6f534952ce58d69dd0f2dbef017cf486041b1aad,"updated MT Blacklist class.  basically just reworked the methods that deal with
downloading and reading in the file, plus added some debugging.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291379 13f79535-47bb-0310-9956-ffa450edef68"
745a84ab181b6111ae607e6f038e2dd13ff3d8d3,"pushing ""footer"" div to the very bottom of the page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291380 13f79535-47bb-0310-9956-ffa450edef68"
b5a062929cbceb05096c55834bbd284d1935424d,"users.registration.enabled is already defined in the runtime config.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291381 13f79535-47bb-0310-9956-ffa450edef68"
829f499219811725dbb63a995a61eb02c73a40b7,"adding new config property ""users.registration.url"" to support a configurable external registration url for those roller users who are tying into external systems.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291382 13f79535-47bb-0310-9956-ffa450edef68"
8c5131fce329baf628ddd9dbe34c77872637ffb8,"bump up line height for page title.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291383 13f79535-47bb-0310-9956-ffa450edef68"
b911ebb7963419a302a8a08f22a5c3c5fc00c912,"updated layouts for Entry Edit page and Main Menu page, along with slightly modified banner status layout.  all with corresponding css tweaks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291384 13f79535-47bb-0310-9956-ffa450edef68"
4180ea7448619e5f625995a28dfaf67251702afe,"updated colors.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291385 13f79535-47bb-0310-9956-ffa450edef68"
d4bb76a26142d143b9eb4be75a96b0533a8ff2fc,"updated colors.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291387 13f79535-47bb-0310-9956-ffa450edef68"
36f5abfd3f5b2d56cadb343e45b714ccb348ae50,"Revised ROME patch in accordance with Alejandro's requests

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291438 13f79535-47bb-0310-9956-ffa450edef68"
f2c0e715b242929921ff638d537748a74674c985,"Updated Atom Protocol code for new ROME

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291439 13f79535-47bb-0310-9956-ffa450edef68"
f6c41580cef0a92e375f495db297c78bfc35b947,"Fix in database upgrade logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291459 13f79535-47bb-0310-9956-ffa450edef68"
c1b318d8888ba4eafa4838fb7482f7e341921e5c,"Fixing search, which was broken by 2.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291460 13f79535-47bb-0310-9956-ffa450edef68"
01de48178c050f45bae03049aa0f31ccfddb2aa9,"Allow LIMITED bloggers to edit pending entries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291461 13f79535-47bb-0310-9956-ffa450edef68"
c71726e165e1a8c24284d09935af625c79f99cd9,"TBD: tests for Atom Protocol impl

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291462 13f79535-47bb-0310-9956-ffa450edef68"
898cb63316bec929f621beddddfa54f7bc9e2293,"a few layout tweaks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291549 13f79535-47bb-0310-9956-ffa450edef68"
e277c3dcf2f4d1dbfe0c576d65fb596e34a35622,"moving #footer definition to layout.css



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291553 13f79535-47bb-0310-9956-ffa450edef68"
e071f940f2126cac1dfb5e152af06ad08910d91a,"sidebar via relative positioning.
small tweak to banner to support relative positioning.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291556 13f79535-47bb-0310-9956-ffa450edef68"
d0f6da88883a2452e778c750cf874b49e6ebc42e,"a few tweaks to tiles defs.
move ""error"" message div up a bit on login page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291557 13f79535-47bb-0310-9956-ffa450edef68"
34c88f117405c0484ef6de78c19c3b6c44475bee,"Added Clear link to calenadar control

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291635 13f79535-47bb-0310-9956-ffa450edef68"
890339454704812f382704a5670d35717c98659a,"Removing old ROME jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291675 13f79535-47bb-0310-9956-ffa450edef68"
a27b8cb6ead5dd04771f584d95cfa4d3d38e8a82,"Preview weblog URL as user types handle

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291698 13f79535-47bb-0310-9956-ffa450edef68"
b791997e0fd2195257a13f606df9124d0438a5af,"Hot blogs list was still using username rather than weblog handle

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291727 13f79535-47bb-0310-9956-ffa450edef68"
6bbee57a6647b5324cdd7aa20a300b6483b53297,"Couple fixes to search results display

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@291736 13f79535-47bb-0310-9956-ffa450edef68"
5f8f240d5ea9dcd767aba8a88dabc3d03822237d,"changing link so it's just on ""Roller Weblogger"".



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292018 13f79535-47bb-0310-9956-ffa450edef68"
21dc4f69212410d95952bf14d38fb39f18a421fe,"Comment typo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292031 13f79535-47bb-0310-9956-ffa450edef68"
91fcc37fb8254d0be67eb6a55954ef939804cd2a,"Don't show folder combo when there are no folders, spelling correction, and slight mod to tan color theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292032 13f79535-47bb-0310-9956-ffa450edef68"
d68991677b05d6323678bc83bf263954b0c3301e,"Spelling fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292048 13f79535-47bb-0310-9956-ffa450edef68"
275b608f3fa2dc92ea94954837ad64a91618046a,"adding semicolon that was missing from last line.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292053 13f79535-47bb-0310-9956-ffa450edef68"
f204d42f14168226c4dac1a9dc8f857ab564cc69,"It's really nice for the edit page template textarea to be nice and wide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292057 13f79535-47bb-0310-9956-ffa450edef68"
feec51ed5fc03e0f465df16e12d97ab0078f90db,"renaming 2.0 upgrade script



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292062 13f79535-47bb-0310-9956-ffa450edef68"
2aa5f55bbd8e73a8bb2e2d920062e9fb50b00935,"css tweaks to deal with IE.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292073 13f79535-47bb-0310-9956-ffa450edef68"
88e368bf116aa5b0d107f31a3e99083c26458d38,"slight tweaks plus a little additional messaging on remove website pages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292074 13f79535-47bb-0310-9956-ffa450edef68"
d9cb349f6735f0e368b465c0e91bc11bf669a7b2,"dropping foreign keys first because mysql innodb tables won't allow this if the indexes are missing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292081 13f79535-47bb-0310-9956-ffa450edef68"
a8f242baf2b129e4b362bc9a6bee3c0c4d72754d,"Fixed bug in display of hot blogs list

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292721 13f79535-47bb-0310-9956-ffa450edef68"
feb12198251cccee6d10d809843f776c9b41ee81,"Tweaks to tan theme colors

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292794 13f79535-47bb-0310-9956-ffa450edef68"
fd4fb6a1d97654509d8709638d2a63cfa98d87a6,"Updating the footer links

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292795 13f79535-47bb-0310-9956-ffa450edef68"
fbbd4e8b16fe6b642be1586e4f5b57c32c5889f4,"Planet page didn't have the divs needed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@292839 13f79535-47bb-0310-9956-ffa450edef68"
62d52b6566fd50cd2e0ee25cd7ea904605d7bc6d,"Fixes to planet manager tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@293491 13f79535-47bb-0310-9956-ffa450edef68"
b1cb32085f3a1f7e76374ba88d2c0278744be472,"updated patched rome jar (in sandbox)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@293492 13f79535-47bb-0310-9956-ffa450edef68"
005c7da9e362614772149167595bad4d822a3c13,"Fixes ROL-834, planet not refreshing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@294920 13f79535-47bb-0310-9956-ffa450edef68"
37400dad98bc351293e9fe7d0462aef4d1cf8854,"Refresh tasks must be run as system user

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@294921 13f79535-47bb-0310-9956-ffa450edef68"
e4d6db739f72bd7c710561ce0404fde2af45c100,"adding user registration disabled message.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@306814 13f79535-47bb-0310-9956-ffa450edef68"
2345c675b5bc32a4571a669b1e0417ba33339413,"Fixes for ROL-836 and ROL-835

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@306876 13f79535-47bb-0310-9956-ffa450edef68"
faa265475c78fb66be03a5fc42cb8dc53959a18d,"fixing spelling error: subsriptions to subscriptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@312517 13f79535-47bb-0310-9956-ffa450edef68"
f53e5e392eaac2b755f8c0745c5564bed188a1bf,"The properties refer to the term as weblog nearly everywhere except these 5 lines that say blog. So I am making them say weblog too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@312521 13f79535-47bb-0310-9956-ffa450edef68"
211433edf2820dbc887022c0acfc28d58b47f858,"fixing a handful of spelling mistakes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@312522 13f79535-47bb-0310-9956-ffa450edef68"
18060690d26e72fbca8aea0e8d54d54e3970802f,"'You cannot passwords when logging' is obviously wrong. I'm going to guess that it means 'You cannot change passwords' based on the rest of the text. I have also switched from 'logout and log back in' to 'logout and login again' to match another message that used that form instead. I chose the latter as the winner simply because I didn't like having logout joined but log and in separate, felt odd

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@312524 13f79535-47bb-0310-9956-ffa450edef68"
00ced5b7a0dc4b48467486073e8033ad62c455b0,"DB2/Derby patch from Elias Torres

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@312910 13f79535-47bb-0310-9956-ffa450edef68"
748110bfda67184b7821016face144d806744441,"Fixes ROL-837 'calendar doesn't reflect date on entry page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@312928 13f79535-47bb-0310-9956-ffa450edef68"
6d4326f0851db035d4a0aaa7b10daecc7a9111ae,"Fixed ROL-838 comment form shown when comments disabled

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@312940 13f79535-47bb-0310-9956-ffa450edef68"
c9a3027d9d5b71e13b2f4acca4fd3144488e0183,"Improvement ROL-839 'Allow configuration of list of allowable trackbacks (for internal corporate blogs)'

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@312945 13f79535-47bb-0310-9956-ffa450edef68"
efc8156d02962db5d991a88e29ad535ba6a8f0ac,"the file /theme/css-banner.jsp doesn't exist, so i'm setting this to use /theme/empty.jsp instead.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@314972 13f79535-47bb-0310-9956-ffa450edef68"
9c3e945cd4c294e5644259a596d6b721209d22ec,"adding ""posted by $author"" to each weblog day template so that group blogs make a bit more sense.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@314977 13f79535-47bb-0310-9956-ffa450edef68"
67440c187682b0ede8d25d72e57df0babb60f3b4,"Bug in HSQLDB specific query string

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@314993 13f79535-47bb-0310-9956-ffa450edef68"
b9bd77cf535901c48a4709b4de4f3e481c77181c,"set the trackbacks.allowedURLs property to be empty by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315000 13f79535-47bb-0310-9956-ffa450edef68"
6a844725b6250fe00590c0b8a9e92c44ed3dcc20,"removing ""site.emailnotify"" property from runtime config because it's a dupe of ""users.comments.emailnotify"".

also removing duplicate entry field for default from email on weblog settings page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315002 13f79535-47bb-0310-9956-ffa450edef68"
86eca7cf80d4db2e6ecb58b5501b7ceb1e61e80c,"just moving a few standalone servlets into a single location.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315003 13f79535-47bb-0310-9956-ffa450edef68"
a31294e5db5b4438c3e181ccb9281779c9177eb3,"Simple grey and white favicon

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315004 13f79535-47bb-0310-9956-ffa450edef68"
dc79f40f18ce796c27ac59bde1c198828ac88529,"reverting to old favicon until we can come up with something better

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315019 13f79535-47bb-0310-9956-ffa450edef68"
634fb17f3ab3552f40ad89be84d20030b3c53fb6,"replacing some old references to $userName with $website.handle in a handful of the themes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315031 13f79535-47bb-0310-9956-ffa450edef68"
a71de34548af28f834ea8cdfec5f31d592d28745,"Email notification of comments should work for trackbacks too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@315060 13f79535-47bb-0310-9956-ffa450edef68"
f73c50f488e4c28fe0fd63026c60b4957145bdd7,"New ROME jars fixes problem with xml:base feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320763 13f79535-47bb-0310-9956-ffa450edef68"
fb19867744c0bc7c66b8e72de2c289526c9c7c44,"Expanded comment for trackback protection

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320765 13f79535-47bb-0310-9956-ffa450edef68"
d7bdbf98a4c732093ccb8b900907abf6b8771b9f,"Resolves ROL-811: unnecessary JSESSIONIDs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320807 13f79535-47bb-0310-9956-ffa450edef68"
3b1360e3f8ccddaea11a51bb5dac23563c7ee6eb,"update comments url sent out in email notifications.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320864 13f79535-47bb-0310-9956-ffa450edef68"
fe01736778f9d643d748dcb7614620aa414a10b8,"With new JSPWiki jar, need to specify absolute URLs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320875 13f79535-47bb-0310-9956-ffa450edef68"
f56debf6f711a9b88946bacc9f336ef0284b734b,"Made Atom feed available at /atom, added  atommacros.vm, fixed category specific Atom feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@320930 13f79535-47bb-0310-9956-ffa450edef68"
67633e77de0501944dc839bf885dbf744384ca67,"Remove default blogroll entry for me.  Remove duplicate Music category entry from default category list.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@321482 13f79535-47bb-0310-9956-ffa450edef68"
81faafa7a2d1d46ffbd8c0de509d1f15be6c5291,"commenting werner's link out rather than removing it in case the DNS errors are temporary

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@322446 13f79535-47bb-0310-9956-ffa450edef68"
83cd4f8c8b3e0b4fe0a6a20ce64ab45e13dc904f,"http://www.joehewitt.com/content/blog.dtd is a 404

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@322447 13f79535-47bb-0310-9956-ffa450edef68"
35f48baabd44c28d4e4ef5224b9fba84d40fe9d6,"the comatised.com link now goes to a domain name hoarder/popup spammer page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@322448 13f79535-47bb-0310-9956-ffa450edef68"
9ea41cd139c7eca43d44d78a750cd4089b9edd9c,"removed BrowseProject.jspa from the urls. While this now takes the reader to the dashboard and not the browse project page, it makes it more future-proof. The reason for changing was that the CSS was not loading correctly without the secure/ in the url. An alternative would be to add secure/, but that seems more likely to have these issues again than just sending them to the dashboard

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@322449 13f79535-47bb-0310-9956-ffa450edef68"
d4d2861ef5b70bfd3f6417bca517f07a3efa840a,"removed 'Dashboard.jspa' from Jira urls because it causes the Jira site to load with broken CSS. Going to the directory auto-redirects to the correct place

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@322450 13f79535-47bb-0310-9956-ffa450edef68"
6a8996c54ee3ee04a256152f7821021d1aa2ef8b,"better to link to the directory than directly to where the directory redirects to for the Jira url

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@325841 13f79535-47bb-0310-9956-ffa450edef68"
33c9443e1bbc53eeb55d2221837daaca7c823c68,"fixing pubtime conversions to handle various timezones better.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@326197 13f79535-47bb-0310-9956-ffa450edef68"
04f5893348b4552106cf9cc72008e21332fdc9b6,"users need to be able to modify the locale and timezone for a weblog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@326218 13f79535-47bb-0310-9956-ffa450edef68"
8fd7efc3e33b93e1242adb338b7bceb1485fdd30,"oops, changed a little too much with the timezone fix.  reverting a couple changes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@326259 13f79535-47bb-0310-9956-ffa450edef68"
d4328934fbe66a66d73e59c0373e873d026694fa,"fix for bug that was clobbering the main rss feed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@326631 13f79535-47bb-0310-9956-ffa450edef68"
c728be078320358c02aea6361314ca68630f7064,"Improved Atom 1.0 parser (in sandbox only) relative URI handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@326904 13f79535-47bb-0310-9956-ffa450edef68"
a1bd726b41cf7069e62444e22796f6712e3f5f38,"STATUS.txt file replaced by roller.html file on the incubator website

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@327025 13f79535-47bb-0310-9956-ffa450edef68"
2e3c6910377cd4a9817f8e01848237b7384adef1,"Merging from trunk to branches/roller_2.0 revs 280410:327195

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@327207 13f79535-47bb-0310-9956-ffa450edef68"
fb5e5aa0c7553e7d188811125ca0194fb9b2ee0f,"Fixing ROL-843 by eliminating the redundant and unconfigurable caches in MainPageAction and the PlanetManager impl.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@327220 13f79535-47bb-0310-9956-ffa450edef68"
d501e81e916ec586fc5187304c452d3b07458904,"Don't allow trackbacks on a blog if blog doesn't allow comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@327247 13f79535-47bb-0310-9956-ffa450edef68"
e78379f6eac32cac8a094798f97279838441ac8e,"Updated Netbeans project file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_2.0@327259 13f79535-47bb-0310-9956-ffa450edef68"
bc20fcf2682b71a99b14f8aecf1d5dc8685a9174,"roller_2.0 moved to trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@327582 13f79535-47bb-0310-9956-ffa450edef68"
bf329915141b016ac9666d980a391d4d77a7a3b9,"Isolated and very low risk fix for #showNewsfeed() macro (disabled by default in 2.0)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@327843 13f79535-47bb-0310-9956-ffa450edef68"
d7c6522efe66c8c50a91c6d799db111590b455a6,"Fix for ROL-683.  Applied patch submitted by David Graff. Reviewed. Tested.  Believe correct.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@327946 13f79535-47bb-0310-9956-ffa450edef68"
b51bf8f91e26d160aeac752e61dcf642e22d1035,"fixing bug mentioned by Will Gorman where you can't create websites when groupblogging.enabled=false



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@328484 13f79535-47bb-0310-9956-ffa450edef68"
5a8cb9a4e88c9465e06d7314ca582b34a7158e2f,"make sure users can't invite weblog participants when group blogging is disabled.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@328485 13f79535-47bb-0310-9956-ffa450edef68"
a33fa20dcc9db9de9016104f23b8b7c638d216fb,"modifications for pubtime column fix.

NOTE: the ALTER_PUBTIME_ALLOW_NULL variable needs to be set for the derby, hsql, and db2 properties files at the time of this commit.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@328506 13f79535-47bb-0310-9956-ffa450edef68"
a45cdb639dea218b496d085091dd705583efc944,"Updating footer links

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@328705 13f79535-47bb-0310-9956-ffa450edef68"
6baeb2bde849353abe6ecb9054f56f8941e0ad4a,"Don't allow users to be removed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@328715 13f79535-47bb-0310-9956-ffa450edef68"
1795836396d68def82d6870fa55c2f2484005f85,"Updated for 1.3 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329203 13f79535-47bb-0310-9956-ffa450edef68"
b1cdde0866e30fb7b0b7621965b3f18a1df6ac79,"Updating docs for 2.0 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329243 13f79535-47bb-0310-9956-ffa450edef68"
1c74ce5e52fb8108bd23bd61a2ed5e149db4eee5,"Doc changes for 2.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329259 13f79535-47bb-0310-9956-ffa450edef68"
736ab987498dbec0018d5b81ca2ecdcabce00646,"removing myself from the default blogroll.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329303 13f79535-47bb-0310-9956-ffa450edef68"
3c798979096a0755a2f12fab2b20eb9bb03dc297,"disabling call to applyRefererFilters() because it was causing OutOfMemory errors



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329304 13f79535-47bb-0310-9956-ffa450edef68"
74ed2f17620d4595932bab1674514d8e5e9fdc93,"simply return ""false"" from getCommentsStillAllowed if the entry is either a DRAFT or PENDING.  this fixes bug ROL-870.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@329872 13f79535-47bb-0310-9956-ffa450edef68"
e1688ddfa57f3519bcd720ae404daf521b8846ab,"Fixes ROL-869 (problem saving website settings on PostgreSQL for Roller 2.x

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330069 13f79535-47bb-0310-9956-ffa450edef68"
5ec04455418ac5e2398f1ed747fc8622aad1d059,"Added a null pointer check to errorBody.jsp

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330070 13f79535-47bb-0310-9956-ffa450edef68"
52adde78a928587d2bcbc90fed7d94829a2f3560,"Added lazy=true to @hibernate.class tag for all POJOs, should have no effect until we upgrade to XDoclet 1.2.3 (coming soon)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330311 13f79535-47bb-0310-9956-ffa450edef68"
d2b2f76662f7decf407beeca82ffad69617bad3b,"Upgrading to XDoclet 1.2.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330377 13f79535-47bb-0310-9956-ffa450edef68"
a24a148a14ab8f124a9d690819a1c1699cdffa83,"Fix to use getters in POJO setData() methods (part I)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330574 13f79535-47bb-0310-9956-ffa450edef68"
3db1a3588821d0a7d5008d0dcd2caf3536e7d05b,"ROL-871 fix: Work around Moz 1.4/SPARC problem with XmlHttpRequest.abort() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330593 13f79535-47bb-0310-9956-ffa450edef68"
720c94a1e82c810972a233d672ef4a30d84d5d55,"Making properties private in my share of the POJOs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330615 13f79535-47bb-0310-9956-ffa450edef68"
ed64ab3584f5a23c7d41a8c0956d7dabea7d1e1e,"fix for intermittent ""null"" bug (part II)

* changed attribute access levels to private
* changed setData() method to use getters instead of direct access
* changed equals() method to use getters instead of direct access



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330617 13f79535-47bb-0310-9956-ffa450edef68"
fc66bcdaf8637e8d4d028d65fc8a87a65dab775a,"Using getters in the equals methods too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330624 13f79535-47bb-0310-9956-ffa450edef68"
b61d0d618029bb3782ceb0d0982d78579bcc0f89,"Added note and MySQL specific alter table syntax

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330814 13f79535-47bb-0310-9956-ffa450edef68"
69f67f5325bcc76c046afb15f89fcc6962b6da54,"Added additional disclaimers about incubation and LGPL compoenents

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330821 13f79535-47bb-0310-9956-ffa450edef68"
2c28814b5ecb6209df49312f234be99063722fc5,"Better way to handle removal of not null constraint

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330858 13f79535-47bb-0310-9956-ffa450edef68"
a3c302cd0beda6acb6622a8cd93be36935573b36,"Better way to handle removal of not null constraint

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330860 13f79535-47bb-0310-9956-ffa450edef68"
4f82bc35f98c3a5985a18f1e23889d491f7f9e8b,"deleting unused wrappers directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@330868 13f79535-47bb-0310-9956-ffa450edef68"
310a05e905bc4d4df9ca5cc905af10160d3679dc,"small fix for trackback auto-discovery macro



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@331077 13f79535-47bb-0310-9956-ffa450edef68"
472364b7be98e93fb7b92075460fee898de75007,"removing the /comments/* url pattern from the RefererFilter since we no longer use the comments servlet for rendering any pages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@331079 13f79535-47bb-0310-9956-ffa450edef68"
410318dd8ae64934fca99827d11c083d33cddedb,"Atom Pub. Protocol Draft 06 implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@331195 13f79535-47bb-0310-9956-ffa450edef68"
1d0b5819e8619944292343244ae8b14de10cee7c,"Atom Pub. Protocol Draft 06 implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@331196 13f79535-47bb-0310-9956-ffa450edef68"
4db885626ddc564b149fad54616e779466009908,"Oracle patch from Max Rudman. Tested against PostgreSQL, HSQLDB and MySQL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332312 13f79535-47bb-0310-9956-ffa450edef68"
4746c6a86fc57b1f47db840ea9bb7bc450d6ab0c,"Added log4j-1.2.11.jar and changed properties.xmlf to use it.  Removed log4j-1.2.4.jar.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332342 13f79535-47bb-0310-9956-ffa450edef68"
e6f3318eaa9583b475343c05d35e279fa92a37b6,"fixing droptables so it drops roller_comments.
modified roller_audit_log create table statement to use ""comment_text"" for oracle compatability



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332349 13f79535-47bb-0310-9956-ffa450edef68"
2354cf618090b1408e708416cff3cebe9adfa941,"all unit tests running (again)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332579 13f79535-47bb-0310-9956-ffa450edef68"
286253bfabb7c0a2b2b04136a671fb204ed96b19,"Tweaking license warning in README

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332624 13f79535-47bb-0310-9956-ffa450edef68"
11e9ceddbb876cc7cd23df6456867a009e193eaf,"Fixing version string

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332629 13f79535-47bb-0310-9956-ffa450edef68"
fa0f94d70a3405115ff6d6a5686d4620846ec5d6,"Fixing source and tools bundle packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332637 13f79535-47bb-0310-9956-ffa450edef68"
73ae3aea7874d820fc7a92f22b19d961696681eb,"Removing unnecessary comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332693 13f79535-47bb-0310-9956-ffa450edef68"
6dce6452595b092eaedeb09ed08d47b0d8b57fb2,"Minor correction to wording to be more accurate for new group blog model.  OK if this doesn't make 2.0.  If there's another candidate build, it should get in.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332792 13f79535-47bb-0310-9956-ffa450edef68"
221a131e1b2a9bd9d908da721d16e78ae9141c53,"Allow admins to create users, as we did before

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332851 13f79535-47bb-0310-9956-ffa450edef68"
e5b16fb0cbebd1b9d9b07eb29cadd514e2901325,"Latest ROME patch in sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332852 13f79535-47bb-0310-9956-ffa450edef68"
a22bb47348e111539c92a088a18b61db0043e860,"Latest ROME patch in sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332853 13f79535-47bb-0310-9956-ffa450edef68"
baa5b8d2a0255f2cb33a1498bb80a02d815a8e48,"Added missing verb.  Removed <strong> tags which were showing up verbatim in the display.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332871 13f79535-47bb-0310-9956-ffa450edef68"
ed5b93e44cfceb5c9f2d669d39158785e2b20d00,"Removed JNDI name.  Context in which it binds is not necessarily writable and we don't seem ever to look it up by JNDI name anyway.  Eliminates a warning message (normally masked by our log4j.properties settings).

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@332941 13f79535-47bb-0310-9956-ffa450edef68"
97377b80ac6bc09f885ba548b525fdc9c457fadc,"Removing unnecessary session-factory name argument from test config as well

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@333025 13f79535-47bb-0310-9956-ffa450edef68"
417c4fd7deffc50b29c17c740639de5c34238486,"no longer needed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@333053 13f79535-47bb-0310-9956-ffa450edef68"
ef0e35eb0a209c999077d54c058c22169df5d3b9,"Add page cache invalidation on actions related to bookmarks, folders, and referrers.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@333105 13f79535-47bb-0310-9956-ffa450edef68"
48dc9fb70fbbf844f0e2b48869abd154a9b933c1,"Corrected spelling of referrer on the RHS of all properties in ApplicationResources.properties.  Incorrect spellings on LHS remain intact to prevent breakage.  That can be handled in a later refactoring.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@333110 13f79535-47bb-0310-9956-ffa450edef68"
8bc6a0d52c457fff41bc2aa186ef6b2f2fdd9722,"Restored missing weblog maintenance page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344031 13f79535-47bb-0310-9956-ffa450edef68"
67c04afbea5e499c21466aea7f633ae7f400b1c7,"Fix for ROL-881 An ArrayIndexOutOfBoundsException is thrown when newuser.blogroll property has no value

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344032 13f79535-47bb-0310-9956-ffa450edef68"
6c2bef457bdd5cad7d755200d7d210efede7215f,"Manage menu now called Preferences

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344033 13f79535-47bb-0310-9956-ffa450edef68"
82baf73bc7c8a30fac662f2c40dcdaa5c6ea3705,"adminstrator to administrator in numerous locations

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344038 13f79535-47bb-0310-9956-ffa450edef68"
cb8684538ac09c975a4e81b3ee77cf93d59204db,"missing space between account. and Please

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344039 13f79535-47bb-0310-9956-ffa450edef68"
015c968890cd34501abf3404854b437723db39fb,"Don't escape XML on the blog description (http://opensource2.atlassian.com/projects/roller/browse/ROL-889)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344040 13f79535-47bb-0310-9956-ffa450edef68"
a865e0b5e490cec13cf1cfff5ca269f6fcd36802,"fixing typo of prefered to preferred

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344041 13f79535-47bb-0310-9956-ffa450edef68"
eb91911143c564ff18448c1ce52574f7bb68c67e,"Front Page reads very weirdly as a default name for the mainPage.frontPage property, because it is a misnamed property. It behaves a lot more like a site.short-name property; so changing to Roller to make it less confusing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344045 13f79535-47bb-0310-9956-ffa450edef68"
57bd7af2d0acdfb7d4510b73d381e2a476f166d4,"removing findbugs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344427 13f79535-47bb-0310-9956-ffa450edef68"
8116c6cd75c4b2873a11810cad194c3b7ff3b014,"Ensure license listed for each component

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344434 13f79535-47bb-0310-9956-ffa450edef68"
f2362f71de27ac19d758145e2f45e9e7bf59ec4e,"Merging missed changes from 1.x to trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@344451 13f79535-47bb-0310-9956-ffa450edef68"
a14af303d2d5d04855988d00f7463d464da96033,"Instantiate plugins on every request to resolve ROL-893 topic tag uneliable

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@345303 13f79535-47bb-0310-9956-ffa450edef68"
6d484bdfaebc0539b7b6282804e4e43806dca149,"Tiny Derby and DB2 specific fix from Elias

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@345486 13f79535-47bb-0310-9956-ffa450edef68"
9a4c86bb58f6e629498563517403909cef105e8f,"Fixing problem introduced in plugin-instantiation fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@345539 13f79535-47bb-0310-9956-ffa450edef68"
68fd48173c159027f8cf5a4d31379a713ec12ec8,"Improve error reporting for MediaCast url problems.  Leaves a bug/undesirable behavior in place: the MediaCast url is not saved if there is any problem with it.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@345844 13f79535-47bb-0310-9956-ffa450edef68"
e7fb3d7e6757fa4ed57e7021632d34e7d387f252,"Fixing ROL-886 incomplete page titles

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@348069 13f79535-47bb-0310-9956-ffa450edef68"
ba48f85929fb4ee88e82f939bf13aad2a8fbb108,"Fix suggested by Sean Gilligan to fix Blogger API newPost method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@348070 13f79535-47bb-0310-9956-ffa450edef68"
f517c2af993183c8a98d630989e4d4a523f08783,"Fixes to allow for clean migration 1.0 to 1.1 to 1.2 to 1.3 to 2.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@348160 13f79535-47bb-0310-9956-ffa450edef68"
ab4e3cadf1731742899441a09b576073b5f22b64,"Fixing critical ordering problem in plugin maps

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@348864 13f79535-47bb-0310-9956-ffa450edef68"
c71b5159bcac92bbefd026e68705a7dd13359b11,"new caching code.

- new org.roller.presentation.cache package with new caching implementations
- 4 new caching filters in org.roller.presentation.filters
- a new lightweight ParsedRequest object with 2 subclasses
- deleted old caching code except for a few classes which moved to org.roller.presentation.util
- updated roller.properties with new cache controlling properties




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349478 13f79535-47bb-0310-9956-ffa450edef68"
493b6abdee21ddbabc042cfb0c057d1e43f90dc1,"Replaced CMA with Acegi Security (http://www.rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_AcegiSecurity)



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349481 13f79535-47bb-0310-9956-ffa450edef68"
ceb78ac690ca4725249d01c560022d2518cda593,"Removed debug logging for rememberme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349482 13f79535-47bb-0310-9956-ffa450edef68"
f65f79d428bed86c67a5f1b124db327ed5b222a2,"more changes for caching rewrite.

- update struts actions and servlets to invalidate using the CacheManager
- add toBase64() method in Utilities class



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349483 13f79535-47bb-0310-9956-ffa450edef68"
47c0302605eb4bf729beb5e9c679a9ab0ca13278,"more caching rewrite code.

- modify struts actions to use CacheManager for invalidations



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349486 13f79535-47bb-0310-9956-ffa450edef68"
57187dda43442b46999bf80e35ab318be4c35368,"more code for caching rewrite.

- invalidate changes to template pages



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349487 13f79535-47bb-0310-9956-ffa450edef68"
f9b11c0eb5b5b469c699c5aaba5607e040a16c2e,"caching rewrite.

- modified filter definitions and mappings to put the new cache filters to use.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349497 13f79535-47bb-0310-9956-ffa450edef68"
595d11c07e1dc9d70dca92726ebc56f896ac45dc,"Added missing security.xml configuration file for Acegi


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349508 13f79535-47bb-0310-9956-ffa450edef68"
1246afa9ac6f7208509d560ce9ad73ee7fe56ae0,"updating version tag.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349514 13f79535-47bb-0310-9956-ffa450edef68"
399e8b1b2fb0165587518513c96192c9b0f7ec9f,"Local feed fetching in plant aggregator

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349595 13f79535-47bb-0310-9956-ffa450edef68"
960b44ba5ff9cf9693bf842da1c2c0d08dead002,"Comment moderation/management

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349596 13f79535-47bb-0310-9956-ffa450edef68"
40cbcb96522739760fde72b702badccaca2f8582,"Missed these in previous commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349597 13f79535-47bb-0310-9956-ffa450edef68"
beea8e30f3fc78e618fca0cb8d8d6cb36df43d59,"Oops, backing out Atom protocol related change

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349598 13f79535-47bb-0310-9956-ffa450edef68"
e4adb522a8448c7015de589403e745fcb2494c23,"Database script fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349601 13f79535-47bb-0310-9956-ffa450edef68"
3d00954e38b6b6d61aed460648cac76eb4b87bf5,"Using default comment settings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349604 13f79535-47bb-0310-9956-ffa450edef68"
b0ea4293e3e6100933a50aaa7d47d463f35f3fbd,"moving roller-caching diagram to docs directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349778 13f79535-47bb-0310-9956-ffa450edef68"
181f9851ff8754dddae1086ee04ae2519b11a552,"standardized templates code.

includes:
- new isRequired() method in WeblogTemplate pojo
- update template editing jsps to reflect which templates are required
- 200 to 210 database upgrade path for ensure all weblogs have a 'Weblog' template
- tweak to theme editor action



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349799 13f79535-47bb-0310-9956-ffa450edef68"
36f4825ceb38ced6708e096b5f5fb59c08019a30,"removing some old code and directories.

- removed old if-modified filter, which has been replaced
- removed old pagecache package directory
- removed old forms package directory



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349800 13f79535-47bb-0310-9956-ffa450edef68"
562ec058a557a7d1e540a4c5402dc571cdb48745,"Polishing up comment moderation/management

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349826 13f79535-47bb-0310-9956-ffa450edef68"
3724fb196e44a47fdd461a003e1eb76ea136b358,"Comment management tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@349827 13f79535-47bb-0310-9956-ffa450edef68"
d827bedee502e42ca823612dfe0d06a6831e8081,"Done with unified blacklist, may still need way to migrate old ignore words to new blacklist

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350046 13f79535-47bb-0310-9956-ffa450edef68"
74e23b68404a2830713484c79b6d05180b74259f,"Minor tweaks and error handling improvements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350182 13f79535-47bb-0310-9956-ffa450edef68"
be63c1aa2acf353e68d6b8f9e82eda5bbfdd1bd5,"More error handling tweaks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350256 13f79535-47bb-0310-9956-ffa450edef68"
187fccc09379a106b9df81c4d1e571c8800cfd0f,"Consistent use of try-catch and exit in command-line tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350264 13f79535-47bb-0310-9956-ffa450edef68"
69a75dca2a22376c8164d326951d36b6ece88188,"Ability to manage comments across all weblogs in system

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350283 13f79535-47bb-0310-9956-ffa450edef68"
3b1901bd3c0bf5c13f85a52fb8bd4d2bf0a3d6f7,"Typo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350284 13f79535-47bb-0310-9956-ffa450edef68"
7cf1e292b49484a3196d19fbc244ecb710df4844,"Fixed a comment, that's all

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350298 13f79535-47bb-0310-9956-ffa450edef68"
bac99e797900875bb7e6c5f2e375c5172f088ad8,"Column name fix in createdb, thanks Allen

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@350308 13f79535-47bb-0310-9956-ffa450edef68"
2f57df92ad11777307eae786ba67ea8dad49bc0e,"Optional trackback linkback verification

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351479 13f79535-47bb-0310-9956-ffa450edef68"
3d028b0e9b5ca2fb5a667783e9a625e7e0d9ad10,"- allow the cache manager to clear cache handlers.
- added some additional metrics to the current handlers.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351488 13f79535-47bb-0310-9956-ffa450edef68"
5953aaacbe947bb9df448438ccb64c5238b45dfe,"adding cache info page to admin section.  it's crude, but functional :/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351502 13f79535-47bb-0310-9956-ffa450edef68"
5a49a8d21b377a2bafe0aa0c8dc0addcebf29ee0,"Fixes and style tweaks in comment management page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351506 13f79535-47bb-0310-9956-ffa450edef68"
231b22d558538b56e30bf492499348e7c27b6e63,"Fixing navigation in global comment mgt

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351513 13f79535-47bb-0310-9956-ffa450edef68"
0f6d1d9547fe08362d76c4d2ea730de48691c1af,"comma missing from last line.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351527 13f79535-47bb-0310-9956-ffa450edef68"
97485009a03bcb4f26a53c179c46fdc4d371595d,"send HTTP 500 if we encounter an unexpected exception.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@351804 13f79535-47bb-0310-9956-ffa450edef68"
924e0415e882f554995a18c0928b14dd66a53fb7,"Fixing small bug that prevented editor menu from rendering on blog pages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353808 13f79535-47bb-0310-9956-ffa450edef68"
6562f1b6345ba11e7ae1f2a90a4bfceca9af1c45,"Added web resource refs.  Unfortunately, XDoclet's webdoclet wants them to be in the improperly-named ejb-resourcerefs.xml file).

Added back web-security.xml but with a comment only.  If you don't have any file here, XDoclet puts in a default filler comment that could be misleading to people installing/editing the generated file.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353809 13f79535-47bb-0310-9956-ffa450edef68"
bf66897d31a904bd00f947132b1c847ffcb78f50,"forgot to checkin resource-refs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353818 13f79535-47bb-0310-9956-ffa450edef68"
15a097b6826291ac5472892470d7d73ff4abf725,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353821 13f79535-47bb-0310-9956-ffa450edef68
f77b16307d1a713e7c0e3396eb017e4df639ee64,"Couple more minor fixes in comment management/moderation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353894 13f79535-47bb-0310-9956-ffa450edef68"
70f9744f9c34fd9d9b98fdd742d5b6d2b0f2a3fc,"Fix for ROL-910, needs to be backported to roller_2.0 branch

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@353964 13f79535-47bb-0310-9956-ffa450edef68"
d195b103926446e2745ba35f235bee08b3462798,"Removing System.exit calls from run() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354092 13f79535-47bb-0310-9956-ffa450edef68"
495ca23fb2a1d9d281d501bb7a65121bbce97407,"- put IfPlanetModified filter mapping in our xdoclet filter-mappings file
- modified request filter to set request attribute ""DisplayException"" if it gets an exception while constructing the RollerRequest object.
- moved IfModified filters before gzip filters in the filter chain




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354105 13f79535-47bb-0310-9956-ffa450edef68"
39ce2cee5ee5c2754f0f27ff0357d7140c0d70ba,"Velocity based database script generation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354112 13f79535-47bb-0310-9956-ffa450edef68"
96036f53c41c0565a2e9f666beee5c1dd8ec26bf,"oops, commited wrong file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354113 13f79535-47bb-0310-9956-ffa450edef68"
4f0709414b364e9305e06756dad8f11f5c50fab1,"Need ability to specify comment ordering

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354120 13f79535-47bb-0310-9956-ffa450edef68"
7dd6557d3726b600c0833ed754bca60637d7d644,"Removing debug stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354129 13f79535-47bb-0310-9956-ffa450edef68"
dc0977f66955bfb2c328a8fd4d2d2c15c1427da9,"Unused files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354159 13f79535-47bb-0310-9956-ffa450edef68"
55b0e3c37385037a6a05b408d15581702a67a53a,"Fixing ROL-911, referrer turnover very slow on large systems

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354229 13f79535-47bb-0310-9956-ffa450edef68"
96b96da1c9bcee979c2964118a39129b3bb9307d,"more detailed exception handling and error reporting for page servlets.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354232 13f79535-47bb-0310-9956-ffa450edef68"
30b05cac927acd21492989c3e07cac58c6b16667,"updated code formating.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354234 13f79535-47bb-0310-9956-ffa450edef68"
23d04b5d9a2eede740825b882875ba6204ad8d76,"a couple tweaks to the logging messages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354241 13f79535-47bb-0310-9956-ffa450edef68"
fef5ec7b7672d8360c26e8fc0a939c526b07ae82,"more detailed exception handling and error reporting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354242 13f79535-47bb-0310-9956-ffa450edef68"
4b97733247d8a85ed2b68d34cee7150c59eaeaac,"make sure ""DisplayException"" request attribute is set when there is a problem constructing the RollerRequest.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354245 13f79535-47bb-0310-9956-ffa450edef68"
4e3d47f140edbc3f6ba2d69a13d041671c8821af,"handleRequest() can no longer throw an exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354269 13f79535-47bb-0310-9956-ffa450edef68"
71406100db0999d69ace59a7ca3440ef710934b6,"Fixing comment preview

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354446 13f79535-47bb-0310-9956-ffa450edef68"
ebf13eb9764ea5e8598ba683b5d4ec88a59e2084,"Formatting/style changes to make entry and comment pages consistent

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354458 13f79535-47bb-0310-9956-ffa450edef68"
14f97cbe7ad22b7760192604b05c9fcfde5e1621,"Roller task script and a readme explaining the contents of the personal directory

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354459 13f79535-47bb-0310-9956-ffa450edef68"
67e601ef4a2945ef7cf381ce4f365a92a8b84206,"Small bug fix in refresh local entries and a title fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354600 13f79535-47bb-0310-9956-ffa450edef68"
312e243abd9bc2adfd10810a6b500d6eea935266,"updating code formatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354894 13f79535-47bb-0310-9956-ffa450edef68"
198bb307033ab20efa29440c3de2856d8cb3c573,"updating code formatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354899 13f79535-47bb-0310-9956-ffa450edef68"
4c53885b7355be9da70c38dc14a14800f28ba22d,"making method getRollerRequest(pageContext) throw a RollerException.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354902 13f79535-47bb-0310-9956-ffa450edef68"
bb3814ecb9627a9e9da8d8c45bdde9dfac791740,"taking another stab at some better exception handling and error reporting.

- switched uses of response.setStatus() to response.sendError()
- handleRequest() method now throws IOException because of the call to response.sendError()
- RollerRequest objects are constructed at beginning of servlet and cause a 404 if there is an exception during construction.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354903 13f79535-47bb-0310-9956-ffa450edef68"
a248fa056623ec877a496590069b9869cd7da463,"only logging display exception notice at DEBUG level because it is really only meant to serve as an indication that the response should not be cached, we expect that someone else who originally caught the exception has already logged it if it was important.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@354905 13f79535-47bb-0310-9956-ffa450edef68"
534cc24a891c88b1ea81e216b802a8dac33e5b68,"Fix for ROL-919: option to turn off bookmark queries in Topic Tag

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355127 13f79535-47bb-0310-9956-ffa450edef68"
a8451ff948a167d845789ae85acb90de25ac9f87,"Fix in page model's per-request category cache

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355129 13f79535-47bb-0310-9956-ffa450edef68"
9bd71cd28218df6e15e92d2b734ae6af37689b14,"Fixed ROL-876 javascript error in comments.vm

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355182 13f79535-47bb-0310-9956-ffa450edef68"
f844250186ffe88dc1b4549f485c318936a6e6c8,"Fixing ROL-559 by switching to plain old comments, for now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355184 13f79535-47bb-0310-9956-ffa450edef68"
b2253fe6e1e7f953db71ce266b0af89c9f432a66,"Fixes ROL-874 wrong welcome message in german translation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355185 13f79535-47bb-0310-9956-ffa450edef68"
aef86d32a3ab5d700c20fa8cc4e85ecd40a93d35,"ROL-879 added to both main and planet pages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355193 13f79535-47bb-0310-9956-ffa450edef68"
f12c536bbcca704d08dd1fd4a83d0c58832e78f1,"Fixed ROL-900 by removing text that said user delete is possible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355194 13f79535-47bb-0310-9956-ffa450edef68"
89efe43222e4c2760f514bc4edf564a5e0deb6cc,"Fixed ROL-517: white spaces in calendar

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355195 13f79535-47bb-0310-9956-ffa450edef68"
82a162467a4b3b18a726f9a1949e1e97168cc00e,"Fixes to autodisco changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355217 13f79535-47bb-0310-9956-ffa450edef68"
56a8a566774f1eaa0c1b1ae8fb1268fc1a4dfeb4,"Put unverified trackbacks into moderation queue instead of rejecting them outright

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355278 13f79535-47bb-0310-9956-ffa450edef68"
05df62ea60b4e43ba3f0bb430282baeadaac4a0b,"use weblog description, not page description.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355358 13f79535-47bb-0310-9956-ffa450edef68"
7c60eac1ff41009ab133f2fe465325847c00089f,"Incorrect type in update

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355378 13f79535-47bb-0310-9956-ffa450edef68"
c0c6aa9240cb1f1d18b0de3d74068b004ddc7a28,"Added search link plugins.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355536 13f79535-47bb-0310-9956-ffa450edef68"
649f3a68562a0d3bcdb84931ca6bb4ff3893ca53,"Added search link plugins to properties.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355541 13f79535-47bb-0310-9956-ffa450edef68"
92960fbcf28708516af0228599f7358e02899cda,"Order CharEncodingFilter before securityFilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355563 13f79535-47bb-0310-9956-ffa450edef68"
d90039ca617d4087f7fa6840b953e5409e12526b,"make readmore plugin link to the proper permalink url rather than an old comments url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355611 13f79535-47bb-0310-9956-ffa450edef68"
61470af6d053bf6fd981a524b5318c7da3bdc736,"setting Acegi log level to ERROR by default.  even at WARN level Acegi will log a couple messages for each login attempt which floods the log files with unnecessary messages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355616 13f79535-47bb-0310-9956-ffa450edef68"
a5e2c6d2949442b025fa864c66f54278119f2ac2,"Cleaning up old docs, adding 2.1 user guide in OpenOffice.org format

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355635 13f79535-47bb-0310-9956-ffa450edef68"
fde0d160378b4a08bc4f90affbc50ce460f0c464,"more with exception handling.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355667 13f79535-47bb-0310-9956-ffa450edef68"
4c5b43b8c3995720c24c124cee0a873cb8405b54,"removed INFO level logging line that says ""Invalid PathInfo: ...""  This message is thrown in a RollerException, so we can let the handler of that exception report it if they want.  Otherwise this message floods the logs on sites with large numbers of users.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355759 13f79535-47bb-0310-9956-ffa450edef68"
ea8b65fb73eacaaedb2e92e4c68ceba6f8d6fca7,"Needed for PostgreSQL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355801 13f79535-47bb-0310-9956-ffa450edef68"
b99aded3a9dd541f72a019e923dbc7337111158e,"Better error reporting for XML-RPC APIs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355890 13f79535-47bb-0310-9956-ffa450edef68"
a7283c49dbbcba8287e0bc0a9c573aaa703b4bc4,"Put login-redirect.jsp under authentication scope.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@355963 13f79535-47bb-0310-9956-ffa450edef68"
cb27892d77723539c62315b19e12efc597e79a64,"uncommenting the validateUser() method.  i'm not sure why this was commented out, but this method is still needed by BloggerAPIHandler.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356327 13f79535-47bb-0310-9956-ffa450edef68"
0dfeba30496f1f1690f36ff489eeb7dcd385e009,"some request processing improvements.

- A ParsedRequest now throws an InvalidRequestException when there is a problem parsing a request, rather than the more generic RollerException.
- Created a PlanetRequest object to handle all Planet requests.
- Removed logic about handling planet rss feed from WeblogFeedRequest.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356328 13f79535-47bb-0310-9956-ffa450edef68"
0461ab0dcd5f9bff47a63e56c2752c0ebf69c6fb,"Adding Planet Cache.

- new cache specifically for Planet page and rss feed.
- modified old caches to not handle planet pages.
- updated filter mappings and properties



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356331 13f79535-47bb-0310-9956-ffa450edef68"
c000088756943db318302c81b8ba19498b24701d,"removing the ""comments"" link on the Main Menu page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356614 13f79535-47bb-0310-9956-ffa450edef68"
b87614eb77ccad893abd3126a40616b2634e55d3,"making ""invalidate()"" methods synchronized because they loop through keys and that can cause ConcurrentModificationExceptions.  this should probably be revisiting to see if we can find a better way to do this.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356794 13f79535-47bb-0310-9956-ffa450edef68"
d3b066338107b2e7d4583c35bd2f5b9988df9740,"trying to ignore socket exceptions thrown by velocity servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356795 13f79535-47bb-0310-9956-ffa450edef68"
d40589be77ccccced3830bf44b22907ef53e6e70,"more synchronization.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356808 13f79535-47bb-0310-9956-ffa450edef68"
9ee9ba51a7a76e4efa6cfc69917a83d42ec1144c,"one more synchronization.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356810 13f79535-47bb-0310-9956-ffa450edef68"
1a697d42e170e0bf9d7768a6a743aae413e0c352,"the map used for the cache should be synchronized itself, and while iterating over the cache keys we should be synchronized against the cache.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356837 13f79535-47bb-0310-9956-ffa450edef68"
24e8d034be34da5d48ed2e0caf3b1a31fa752733,"Derby timestamp fix, plus index for weblogentry.status

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356859 13f79535-47bb-0310-9956-ffa450edef68"
4a99376d9e2dd1ed17bf9f0edbfcb75e538bac93,"missed a synchronization block.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@356874 13f79535-47bb-0310-9956-ffa450edef68"
77aab6dabe55ba4c89c29d9798938c44daa0daf9,"Reformatted per new conventions.  Fixed mac line endings.  Added svn:eol-style=native prop.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357036 13f79535-47bb-0310-9956-ffa450edef68"
e301cc64f49ee60cd640068e0ca184754ee5aa79,"Added functionality for disabling indexing of comments, based loosely on patch suggested by Matt Schmidt.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357101 13f79535-47bb-0310-9956-ffa450edef68"
c5663793966fdc298535dd8441468e1b9325271e,"simple weblog request object.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357128 13f79535-47bb-0310-9956-ffa450edef68"
22c9587202b40074ab58174c3dc6e4f508c997c1,"Almost done with 2.1 doc update

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357188 13f79535-47bb-0310-9956-ffa450edef68"
8b6a800669ac6941d34479cefcb75a9baaaa50e4,"updated 2.1 upgrade procedure.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357196 13f79535-47bb-0310-9956-ffa450edef68"
163b46b8b109746f4bca8b15f74e29365fb403a2,"User guide updated for 2.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357221 13f79535-47bb-0310-9956-ffa450edef68"
bb40221117ddaccfd92ac22511f5c11a06c63a29,"Beginnings of JDO sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357249 13f79535-47bb-0310-9956-ffa450edef68"
69d62142288064b6c894ae1ba341511ca8ddb5d6,"Upgrading to Feb 24, 2005 release of RTE

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357361 13f79535-47bb-0310-9956-ffa450edef68"
ea2182c3e55596e42ac89b9cdc4fe73b023e9586,"Fixing invalid CSS

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357362 13f79535-47bb-0310-9956-ffa450edef68"
cac66c9a481dc342bebec3c15d59469319462673,"Fixing incorrect character count in excerpted feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357363 13f79535-47bb-0310-9956-ffa450edef68"
aff318c66e540795f0a312a96f42f3d7bc4bec5f,"Oops, forgot this RTE file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357402 13f79535-47bb-0310-9956-ffa450edef68"
59619a6571eee51fcc80c645d9b52e4e445994a6,"Fixing problems in unit tests, PlanetManagerTest still failing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357404 13f79535-47bb-0310-9956-ffa450edef68"
37ae351122aeb8098f31a4564a7fdd566e130dea,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357406 13f79535-47bb-0310-9956-ffa450edef68"
8a8eb47a8e8a57282141553ea3d219360109376f,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357464 13f79535-47bb-0310-9956-ffa450edef68"
e1554f19c530cc1893fcdfc8e9a9fd9eb83d05ed,"For ROL-934.  Support robot user-agent check in RefererFilter.  The property to configure this has been added to roller.properties with the setting commented out.  To enable, uncomment it and edit the pattern if/as desired.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357482 13f79535-47bb-0310-9956-ffa450edef68"
00b1caecbced6bed7aa6b6d0e874409a32150640,"Removed unused import.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357483 13f79535-47bb-0310-9956-ffa450edef68"
fb9f41fae31e97ce8234e8710ab37c95234ea77b,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357522 13f79535-47bb-0310-9956-ffa450edef68"
9d925ddf4da94054da3714ea8900df95a0c8c0bf,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357523 13f79535-47bb-0310-9956-ffa450edef68"
884c13cd66abe2c4f12c11bcdf8761774188efa0,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357525 13f79535-47bb-0310-9956-ffa450edef68"
7fa7ce81b63ea50c0b97da7983fb95e8016ed644,"More unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357526 13f79535-47bb-0310-9956-ffa450edef68"
7398a4974cd3b87ea274642eebfcc47a2528d0f6,"Even more unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357619 13f79535-47bb-0310-9956-ffa450edef68"
5c7990ad921c08b978b4c51e28fdec0302b4461b,"Still more unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357623 13f79535-47bb-0310-9956-ffa450edef68"
437726f1fead3d5e02e50bf9ff4c2c8decc37db6,"All unit tests working (again)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357631 13f79535-47bb-0310-9956-ffa450edef68"
26b1ae100e38d05b8c1eab8611707afa2b5f76ff,"Cleaning up docs and personal directories

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357745 13f79535-47bb-0310-9956-ffa450edef68"
4be9a3ae2aa59c9d305f83ddd33a1434d61fd7f0,"Cleaning up docs and personal directories

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357746 13f79535-47bb-0310-9956-ffa450edef68"
1a2c74e4baf44334a0667f6cf2559bd8a9421533,"Cleaning up docs and personal directories

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357747 13f79535-47bb-0310-9956-ffa450edef68"
9bc7b087f9bd5c7f938fe61d7978df0b2f3c937f,"Parameterized JMeter test

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357748 13f79535-47bb-0310-9956-ffa450edef68"
a133f9c25115f216fe1713c6d2db37216067676d,"Docs cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357750 13f79535-47bb-0310-9956-ffa450edef68"
8edcdb9d37345fc798a152d7f300c6619a125cf7,"Docs cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357751 13f79535-47bb-0310-9956-ffa450edef68"
9044af79f822ad14939cf10b53cdd91b4d26cc0d,"Docs cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357752 13f79535-47bb-0310-9956-ffa450edef68"
7cd2035485c6903c37590bf43b94cb2cd0c87e7d,"Examples for building JDO backend

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357753 13f79535-47bb-0310-9956-ffa450edef68"
5067427f14b0507c0c2e3776dc808a8721363d1f,"Couple of Atom protocol chnages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357754 13f79535-47bb-0310-9956-ffa450edef68"
d0632fc355a0e1d484808dc7f5a98f8955a4a141,"Spanish translation of 2.1 from Patricio Martinez Ros (silencium@wanadoo.es)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357834 13f79535-47bb-0310-9956-ffa450edef68"
f962a4328500fbe15a335360bd4e28888923d5d4,"Derby fix from Craig Russell

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357854 13f79535-47bb-0310-9956-ffa450edef68"
ed87148281b935851f49ccaa592c0fae7fb3e797,"Updated Eclipse .classpath

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357875 13f79535-47bb-0310-9956-ffa450edef68"
d0b20e5fa4924cea97d9b9fd173c8e3f604d8528,"DB script generation fixes, tested with MYSQL and HSQLDB

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357912 13f79535-47bb-0310-9956-ffa450edef68"
1836381d929f0290c519e38eff1bf7a99bc3bb05,"In sandbox: updating Hibernate config file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357913 13f79535-47bb-0310-9956-ffa450edef68"
c334a8b2f857fc306c867c1abc6d77ed91afccc1,"In sandbox: standalone build script

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@357915 13f79535-47bb-0310-9956-ffa450edef68"
ba9b3050d2843b015734a422039090a108c35245,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358083 13f79535-47bb-0310-9956-ffa450edef68"
b4db21608000b18b9bcba2127e6d0aecdfb40ae1,"new rsd servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358087 13f79535-47bb-0310-9956-ffa450edef68"
8fd2c5f8b59dca226d494b938f50a111826695ad,"fixing math comment authenticator.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358093 13f79535-47bb-0310-9956-ffa450edef68"
fea572b086e7b86ef88b34df73f35d230da92558,"sandbox: Atom 1.0 xml:base handling fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358095 13f79535-47bb-0310-9956-ffa450edef68"
be9d4745f20e24167d563af73e5ac1031a2e686e,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358170 13f79535-47bb-0310-9956-ffa450edef68"
2fce71d4e13524432f0351742f510eb880c3613b,"We now have a properties file for each database (again), a master control template and the addColumn() macro is defined centrallly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358301 13f79535-47bb-0310-9956-ffa450edef68"
058539ba1a828b7ce05f83187ce3908840b045a9,"Added weblogentry.status index, just in case

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358309 13f79535-47bb-0310-9956-ffa450edef68"
23d9bcde1cebd5458892e7e01cdc84b3b7c33ee2,"Checking in old migraton scritps for databases supported before 2.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358311 13f79535-47bb-0310-9956-ffa450edef68"
bb531d5fa1e856b03986c9c903d7dced3c7ceb73,"Oops, forgot the key of the db script generation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358382 13f79535-47bb-0310-9956-ffa450edef68"
8c5de172750bee42d58b5c8aa8862ccd72251ef5,"Enclose classpath in quotes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358563 13f79535-47bb-0310-9956-ffa450edef68"
c671c0a3d5ac973760613ab902685b5d46d39120,"a bit of cache property cleanup.  the process is now more generic so that props can be defined in the config file and easily passed along to a CacheFactory for use.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358609 13f79535-47bb-0310-9956-ffa450edef68"
a4b3a092458eb510c23b0977719966754b0c7121,"updated caching properties.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358640 13f79535-47bb-0310-9956-ffa450edef68"
5e3c9cc4d8dbcf57e7081086dc47785ae54a0b94,"one more null pointer problem.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358641 13f79535-47bb-0310-9956-ffa450edef68"
2fcd35c3d10f549a7b1027a0baee5852ab2509a6,"Definition of macro #showRSDLink and addition of #showRSDLink() and #showRSSAutodiscoveryLink() to all themes.  Resolves ROL-899, ROL-930, and ROL-945.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358682 13f79535-47bb-0310-9956-ffa450edef68"
86f35573bff745efa6f7b8f250e9b2097038c49f,"- Removed extra incorrect BOOLEAN_SQL_TYPE_TRUE from all affected .properties files
- Modified createdb.vm to use Quiet Reference Notation for certain variables such as $ADD_FK_PARAMS

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358831 13f79535-47bb-0310-9956-ffa450edef68"
61fd7817ec8ca3d5d6c466f4d6426b6b7bbcf866,"-Modified RefererData construction to use an empty string instead of a null because of Derby bug.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358832 13f79535-47bb-0310-9956-ffa450edef68"
d5d9efbf58180b8555b612ddba4771c2c8d250c4,"- fixed a couple of paths that were pointing to hsql instead of hsqldb in tests targets

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@358845 13f79535-47bb-0310-9956-ffa450edef68"
2abf5f14ec6b04da4d1cf254ab07129a4f5c0a0f,"Let's make sure we're catching all throwables in the page servlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359074 13f79535-47bb-0310-9956-ffa450edef68"
73a529f027ec1a1d2f0b16da558d37ca1f88f98e,"Let's make sure we're catching all throwables in the request filter too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359075 13f79535-47bb-0310-9956-ffa450edef68"
d4fdbeee9bfd106c0424a81bdeff03e9d3450875,"Don't cache null or zero length content in page cache (fixes, but does not explain blank page problem)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359076 13f79535-47bb-0310-9956-ffa450edef68"
9ad8b6cf869f0f28e305b5de2cfa1fc47a333d28,"Sandbox: fixing bugs in APP draft 6 implementation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359659 13f79535-47bb-0310-9956-ffa450edef68"
310b0f0e3ddb411db44f7710385cbb4eefb37391,"Updated with latest Atom format 1.0 fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359882 13f79535-47bb-0310-9956-ffa450edef68"
d39f61c74078f1e42b0ff5996cb7f8a1a4218e81,"Sandbox: APP implementation now sets response content types, defaults to non-draft for new entries and no longer throws exception on a successful file upload

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@359982 13f79535-47bb-0310-9956-ffa450edef68"
75315ee63c7abb5bf5b330a3d650e0bd66021694,"Sandbox: bug fixes in APP put entry and in edit link creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@360242 13f79535-47bb-0310-9956-ffa450edef68"
f7dc76a9b7c48678de0ad1791ad9e53cb900c399,"Compiles under JDK 1.5 without warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365351 13f79535-47bb-0310-9956-ffa450edef68"
4caccb0dedff4931c52fba853f7682bf6a80128c,"source now unpacks under roller-src, so does tools, and tools now includes README

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365456 13f79535-47bb-0310-9956-ffa450edef68"
0d0664fd714ff2c9263f21f514340ddd06282bf5,"Updating for APP draft 7

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365539 13f79535-47bb-0310-9956-ffa450edef68"
f089501a8ef873ed66b3cf9e98a5826347bebf5c,"Cleaning up APP implementation, removing draft 4 stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365540 13f79535-47bb-0310-9956-ffa450edef68"
7afa04d181bc0954fd5b26d9286f44d759475805,"Cleaning up APP implementation, removing draft 4 stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365541 13f79535-47bb-0310-9956-ffa450edef68"
db345943c2ce24469a768131a3346d639be08474,"Couple of small bugs in APP draft 7 implementation, client tests are working (again)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365544 13f79535-47bb-0310-9956-ffa450edef68"
3293780c6729d0ee68ae41698bdcb9ddf6c8a5c8,"Friendlier language for comments disabled and a couple of other places we say 'disabled'

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@365964 13f79535-47bb-0310-9956-ffa450edef68"
ae7df0d3bf0a074c6d3a1672479c6a7e1f245a91,"First JDORoller patch

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366209 13f79535-47bb-0310-9956-ffa450edef68"
b86566ab84b44e87022c7f336d78cd180b4ca2fe,"Bad import

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366260 13f79535-47bb-0310-9956-ffa450edef68"
08771d9066ad4e2f8853aea8185e0195b35a8ddc,"Cleaning up

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366264 13f79535-47bb-0310-9956-ffa450edef68"
e82f1aaa260c10ab6fd4a783bae59a787e92270e,"Making manager fields common (so JDO implementation can share them)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366267 13f79535-47bb-0310-9956-ffa450edef68"
c1be321058935c228ecfa170f013f75677e2f7c4,"XDoclet JDO task support in build script

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366269 13f79535-47bb-0310-9956-ffa450edef68"
4727c01285cf4d6c0e8e98ae6b15aa41f205ca58,"Ant task for generating JDO mappsings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@366272 13f79535-47bb-0310-9956-ffa450edef68"
897a215380327f5ed9598d293020760bc5083710,"Fixes for ROL-988. Fix bugs in getNextEntry and getNextPrevEntries().   For the next=true case getNextPrevEentries must be sorted ascending in order to allow a bounded maxEntries (as used in code) on finding the next.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367045 13f79535-47bb-0310-9956-ffa450edef68"
056de538ebbef0dbd8947284ef1db2326d66824d,"Removing pinnedtomain field from website, how the heck did it get in there\!

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367183 13f79535-47bb-0310-9956-ffa450edef68"
3c4fd213c1e23cabe046a1647d9a10caf3f3f8ed,"NPE checks from Matt Schmidt

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367184 13f79535-47bb-0310-9956-ffa450edef68"
b5973c0201634ada5763158156522d7a3b684c8d,"Fixed a couple checkbox false = null problems

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367187 13f79535-47bb-0310-9956-ffa450edef68"
8b39a86acdbcb0f9cb6d0135d6e77fb4f6138578,"Scheme enforcement now done via Acegi but still configured via roller.properties, also: some cleanup of unused classes and properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367638 13f79535-47bb-0310-9956-ffa450edef68"
2635c60ce5b36abfd21689ad7e0be4119840160a,"fixing file format

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@367658 13f79535-47bb-0310-9956-ffa450edef68"
cebbd0f425de656a6d9513f87d398d8225e6939a,"Committing ROME v0.8 so we can support Atom 1.0 feeds in planet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368036 13f79535-47bb-0310-9956-ffa450edef68"
bca36208fa9d26b946f8a0130e4411670a9364e0,"Moving property access to Roller-specific constructor so that planet-tool can work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368037 13f79535-47bb-0310-9956-ffa450edef68"
fe720ec5b0bc5a4d9c12841ccd8fa3ccd282a7f3,"First part of fix for ROL-969

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368170 13f79535-47bb-0310-9956-ffa450edef68"
a36ffec9f804d9de3868080714744d30595e6ef3,"updating profile page for better security.

- removed hidden html form fields for user id and password.
- updated profile action to be more robust.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368290 13f79535-47bb-0310-9956-ffa450edef68"
4afff17765b09c25bc63219bf233e78212d8fecb,"added new runtime prop ""site.debugMode"" which enables extra debugging.
error page should not show stacktraces by default.  if debug mode is enabled then error page will print stacktraces.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368291 13f79535-47bb-0310-9956-ffa450edef68"
e65860cabc8b178f761808d23b102032ce5e3d43,"Couple of additional permissions checks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368440 13f79535-47bb-0310-9956-ffa450edef68"
0654bf7e6dddc4657b070aef819ff4186167d912,"search servlet can extend VelocityServlet instead of BasePageServlet.
other misc bits of tidy up.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368478 13f79535-47bb-0310-9956-ffa450edef68"
cd2ad4ae183b5ac7b05deb3b1f99b6e8ddcec3fc,"make PreviewServlet extend PageServlet instead of BasePageServlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368483 13f79535-47bb-0310-9956-ffa450edef68"
b046895fbe772511a2d1c981ef2e59439304290c,"deleting old navbar tag that is no longer used.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368584 13f79535-47bb-0310-9956-ffa450edef68"
adb9c8fd06db7f3d78dbb8412d8e8c93dbfe4359,"MenuTag doesn't need to use the full ContextLoader.setupContext() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368587 13f79535-47bb-0310-9956-ffa450edef68"
db4b7a8b0ce7e3d159a36bee1764533380a366a7,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368600 13f79535-47bb-0310-9956-ffa450edef68"
9a43aa429c057e5b8a01ae5647ca13e01a3aae99,"restoring navbar macro

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368763 13f79535-47bb-0310-9956-ffa450edef68"
3010b8ac5011bc0d979f3bb64bae9374f633ab42,"restoring previous inheritance for preview servlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368764 13f79535-47bb-0310-9956-ffa450edef68"
4d622f7f5afc7d5e44dfd246d3bb0f5f30e583f8,"restoring previous inheritance for preview servlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368766 13f79535-47bb-0310-9956-ffa450edef68"
e0d2d05b693838f400b481dc4eeae6875852454e,"Fixes ROL-969 date filter doesn't work for one day date spans

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368780 13f79535-47bb-0310-9956-ffa450edef68"
89996698f19ac2bf92843a291057da58e5f9796e,"removing old navbar jsp tag.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368796 13f79535-47bb-0310-9956-ffa450edef68"
5bfb4646a862f7455d28729e2bed483cefef7b08,"hibernate level 2 cache.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368809 13f79535-47bb-0310-9956-ffa450edef68"
ef83e98d5c61fd78997cc69df8c4f3750cbf1665,"comment authentication via client side javascript.  this is to fix jira issue ROL-935.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368813 13f79535-47bb-0310-9956-ffa450edef68"
3ff19a6edabc4e3b0bbbe106b0f3f93624f01db4,"asynchronous referrer processing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368814 13f79535-47bb-0310-9956-ffa450edef68"
54dbc448ea59b1bddca86ce85c5a2ed46b584121,"Fixes ROL-967 comment mod page problems with wide comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368821 13f79535-47bb-0310-9956-ffa450edef68"
49a00c4937b8fa245405dd47211f8e7866992e48,"moving BasePageServlet logic into PageServlet.
preview and language servlets now extend PageServlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368825 13f79535-47bb-0310-9956-ffa450edef68"
6f9e6b0be1458d9c6883afd916e32e236401a82e,"Fixes ROL-993: spelling error

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368854 13f79535-47bb-0310-9956-ffa450edef68"
2cbe0d9dfa25ce9fa74cf3a2de95d424e54712c3,"optionally disable referrer processing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368862 13f79535-47bb-0310-9956-ffa450edef68"
5f4d1ed1e7479478fb59dc94ec34743522dfe94b,"doesn't appear to be used for anything.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368894 13f79535-47bb-0310-9956-ffa450edef68"
7adb35db8aacca6e6c5b4c377727c09b5ceec8b9,"adding page servlet since webdoclet allows servlet-mapping tags to being inherited :/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368895 13f79535-47bb-0310-9956-ffa450edef68"
93a7db2db23a307abfc751f558e394dc85367b58,"need to commit after saving the updated website.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368926 13f79535-47bb-0310-9956-ffa450edef68"
822c89d4c5abc0b6516667335c7f4148a3a2e3ff,"allow users to control the number of entries displayed via the weblog settings page.

- added a new column ""displaycnt"" to website table
- updated WebsiteData to hold new entryDisplayCount attribute
- updated edit-website.jsp to include new form field for display count
- update showWeblogEntries macros to use website display count



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368930 13f79535-47bb-0310-9956-ffa450edef68"
a9c1501f6800f8d27e102322bacf8448508367fb,"updating themes to use the new #displayWeblogEntries() macro which no longer takes an argument for day page or number of entries.  the _day template is the new standard and shouldn't need to be changed, and the number of entries is now controled in the UI on the website settings page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368933 13f79535-47bb-0310-9956-ffa450edef68"
a06adf44d53f37224c663610c1baebf66063ed26,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368943 13f79535-47bb-0310-9956-ffa450edef68"
454b5a12a7321d71052580e0c37b1f0fa6fa2def,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368944 13f79535-47bb-0310-9956-ffa450edef68"
f4695f9ec4e32fca2caa4de0d16bc0111a9514c6,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368945 13f79535-47bb-0310-9956-ffa450edef68"
c3e0cf9883af13e19f04dc5628274b97dc7d08e3,"EOLing the old RollerContext.getRoller() method.  The Roller instance is always available via RollerFactory.getRoller().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368947 13f79535-47bb-0310-9956-ffa450edef68"
1dabaca045eaa1620580e4626a8fe07139c91a68,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@368949 13f79535-47bb-0310-9956-ffa450edef68"
1254abc97dc0219ec6fc468796988315db9f4b89,"fix the way the jstl fmt locale is set so that the editing interface is based on the locale selected by the user who is logged in.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369081 13f79535-47bb-0310-9956-ffa450edef68"
5c2a3f178d3635912444f7b2a90d17acd84d5d4f,"Fix for ROL-923.  Updated overlib.js to version 4.21.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369176 13f79535-47bb-0310-9956-ffa450edef68"
5af162df2d88057e8ab0277bfd753d3b1aa5fd54,"refactoring RollerContext.getRollerContext(request) to just RollerContext.getRollerContext().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369254 13f79535-47bb-0310-9956-ffa450edef68"
4ec68fca103774e1f15782316c74df3ec393221e,"refactoring RollerContext.getRollerContext(context) to RollerContext.getRollerContext().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369259 13f79535-47bb-0310-9956-ffa450edef68"
9f6d626a65b47b56efa086868bc4026ae758b025,"removing old memory debug flag ... we can just use our normal logger instead.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369261 13f79535-47bb-0310-9956-ffa450edef68"
5771e9591dfda83ca4ff048fd459b6dbc1818c22,"removing RollerContext.getUploadXXX() methods because the preferred method is to use the FileManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369262 13f79535-47bb-0310-9956-ffa450edef68"
9c0f4e04fd479d92f75367dad79d10e5547bfd62,"removing old 0.9.8 to 1.0 synchronization script.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369264 13f79535-47bb-0310-9956-ffa450edef68"
16da32044b9563094b7706cecc5e0d817bf93ce3,"removing unused exception.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369268 13f79535-47bb-0310-9956-ffa450edef68"
c64afaed5daf869d429ba88a37e2d9641d867627,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369269 13f79535-47bb-0310-9956-ffa450edef68"
b409680859a2fbd6868ccad282e16efd432a64e9,"remapping CompressionFilter to CompressionFilter instead having duplicate PageGzipFilter and RssGzipFilter which are not needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369272 13f79535-47bb-0310-9956-ffa450edef68"
d70b1e0bbf9dee5e38aeb1795abb7462dbc756ae,"a little code tidy up.  removing check on OWNING_WEBSITE, which doesn not appear to be used anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369878 13f79535-47bb-0310-9956-ffa450edef68"
0c79fc3676bf537ff8161e5447d98ebc64da73ed,"switching to lazy (passive) cache expiration strategy.  this eliminates the overhead of iterating through the list of cache keys to find the right ones purge and gives us a better chance at supporting Memcached, which doesn't provide a way to get the list of cache keys.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369957 13f79535-47bb-0310-9956-ffa450edef68"
a65eaecbeca05ad6d872c7a6efeecc19317aa95e,"cache entry objects should be Serializable.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@369986 13f79535-47bb-0310-9956-ffa450edef68"
952412d18aeb15d5093507cebbe171a0df97f7e2,"Refactoring in upload file page, removed monlithic JSP tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370060 13f79535-47bb-0310-9956-ffa450edef68"
b1399bb7028e1350e7e8afa0480d871ea0396fe0,"Log exception with the error.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370069 13f79535-47bb-0310-9956-ffa450edef68"
fd4c3d320511afa9af2ade885ef8eb2cbbddc9e5,"last-modified-since checking for weblog pages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370070 13f79535-47bb-0310-9956-ffa450edef68"
a40699d0f95b36c9b9c34e0d9a265304ac89ad80,"updating some comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370271 13f79535-47bb-0310-9956-ffa450edef68"
70158e29afc3f4191c26a603447ac17daf8089e7,"constructors should be protected.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370272 13f79535-47bb-0310-9956-ffa450edef68"
bff4d5977e3adac9e99cd4c4eddc92e2aa0ec88f,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370288 13f79535-47bb-0310-9956-ffa450edef68"
c400a7736cdd468232f13146ab5064abadfc2cc3,"Fixes ROL-1002 better error reporting in send trackback

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370513 13f79535-47bb-0310-9956-ffa450edef68"
fad8983afdaf4fa689f50ee2b63d097baa9f96fa,"Fixes ROL-858 mutli-file upload

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370514 13f79535-47bb-0310-9956-ffa450edef68"
a2469e22bc153504bce2c05f02d5b61842aebf18,"New icons!

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370515 13f79535-47bb-0310-9956-ffa450edef68"
8bcb9f32ebcb659ad2a4da4609033fe425597376,"Fixes ROL-957, smilies now XHTML compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370550 13f79535-47bb-0310-9956-ffa450edef68"
e4fddb835a013b4d1fee891d614d6ac5de518ef7,"make default cache size 1000, not 10,000.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370567 13f79535-47bb-0310-9956-ffa450edef68"
54dc2c53754563e46b41c9b7d64d3262a9f6bb9f,"updated to cache the last modified date rather than fetch it from the db on every request.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370568 13f79535-47bb-0310-9956-ffa450edef68"
618c99b16098be708aee358fa537ea9104a81b2b,"log Hibernate messages at INFO level.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370580 13f79535-47bb-0310-9956-ffa450edef68"
171134f5b240edd2cb14b55f5c88e6422f09a511,"adding filter mapping for weblog page if-modified filter.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370582 13f79535-47bb-0310-9956-ffa450edef68"
2b12ce28dd67a87a352caf3743a9afc3ab4b7aac,"Incorporated Sean Gilligan's overriding Roller macros section and Ted Husted's copy edits

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370845 13f79535-47bb-0310-9956-ffa450edef68"
c78bf0bf06a32451804a8433fb6a7dc7a0bddda8,"Additional debug logging in XML-RPC servlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370846 13f79535-47bb-0310-9956-ffa450edef68"
72acc142f3db1fb0f896e9c796003c9c92a2c977,"Alphabetical ordering for uploaded files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370847 13f79535-47bb-0310-9956-ffa450edef68"
1d3cf79b5f004a96f15d1ceabe2a34102801fcae,"Removing comment about Atom protocol and password encryption

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@370848 13f79535-47bb-0310-9956-ffa450edef68"
993b41ef73fbca70f7c7f514ee297eaf58bc8da4,"fixing broken main feeds which were not being properly handled after adding the
lazy expiration code.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371130 13f79535-47bb-0310-9956-ffa450edef68"
78144e0bedf221c3fe30de8c2b96242cc34b15b8,"Atom protocol was broken by my recent file manager changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371159 13f79535-47bb-0310-9956-ffa450edef68"
06c82fb297088e0c5a65223d6ad9908479f3a0d1,"Support for encrypted passwords in APP

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371162 13f79535-47bb-0310-9956-ffa450edef68"
5a304c5ed40fba0bc6d64f262729003c60942f32,"Reject unverifiable trackbacks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371171 13f79535-47bb-0310-9956-ffa450edef68"
03c7d7cdc0cc2de0503575e235c6eed1945d2b4b,"Accept both boolean an int for MetaWeblog API publish flag

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371306 13f79535-47bb-0310-9956-ffa450edef68"
c1a226bf9ab7e8fe0928f80dc435de9871c2a43e,"Fixing linkback extraction, linkback display and linkback toggle action. Also fixed turnover task to delete entries with no linkback excerpt (as it did before Elias changed excerpt from null to '') and removed unused class ParsedRequest.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371335 13f79535-47bb-0310-9956-ffa450edef68"
6e5c2d796cd144fc88e872563ceb0a1144b4ee32,"Another fix to linkback extraction

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371350 13f79535-47bb-0310-9956-ffa450edef68"
27c61f6cdb479a650656751e0172120f4eb549c2,"removing debug lines that snuck in.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371380 13f79535-47bb-0310-9956-ffa450edef68"
619e9c76f23df4b13e22b2129e317027267199b9,"Fixed focus to be on first element in form.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371833 13f79535-47bb-0310-9956-ffa450edef68"
c976f8566b29d67d0d6f8ad435a1867f6a30b5a9,"jython uses a combined asl/jpython 1.1/jython(bsd) license

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371916 13f79535-47bb-0310-9956-ffa450edef68"
8dc5610d31e263549d92ef7e42d60d5dbbfa5c1b,"added note on acegi use

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@371918 13f79535-47bb-0310-9956-ffa450edef68"
ea48bdae31fd4053470edd609468718020d23451,"Open Document format for user and installation guides

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372028 13f79535-47bb-0310-9956-ffa450edef68"
4bfcf68c52405ffbba5910edfffb3d291028690e,"Upgraded to Acegi Security 1.0 RC1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372298 13f79535-47bb-0310-9956-ffa450edef68"
e9962111ecf0eef7879c370540b1c46b77fd767b,"reimplementing our custom scheme enforcement.  this should only be until we figure out how to get Acegi scheme enforcement fully functioning.  scheme enforcement is still disabled by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372349 13f79535-47bb-0310-9956-ffa450edef68"
e1d6b5aae3bd70e48b9e493f6befd8ab62941659,"small fix in cache keys to prevent spaces when categories are part of the key.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372584 13f79535-47bb-0310-9956-ffa450edef68"
700cf38aed600425d35b9b9e60723f33a80c9887,"a warning to notify admins if the referrer queue is overly full.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372586 13f79535-47bb-0310-9956-ffa450edef68"
ef8ec4ee8cccb64153ac04cfcef8ea3aae11a863,"it appears that exceptions caught by the VelocityServlet error() method are always some form of SocketException, so they should be safe to ignore.

however, we do want to set the ""DisplayException"" request attribute so that our cache filters know not to cache the broken response.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372703 13f79535-47bb-0310-9956-ffa450edef68"
09f11e729dcb0d4350d457117740d9eb53c9e744,"fixing null pointer exception in getPageIdByName() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372704 13f79535-47bb-0310-9956-ffa450edef68"
4adb1c5e405ea389c4e7862f80903dd3d5e603a0,"Fixing a couple of broken tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372720 13f79535-47bb-0310-9956-ffa450edef68"
adc3818255677630964bd08ca8200037c1497019,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372765 13f79535-47bb-0310-9956-ffa450edef68"
8303161b2baeb9ed6394bbe61608f373b4ca9fbf,"switching log messages to debug level.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372766 13f79535-47bb-0310-9956-ffa450edef68"
e2fd417379ab2b78fbf8fcaa0cfe78a9732614c3,"better handling for the case when the weblog entry is null, so we don't print a long stacktrace.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372770 13f79535-47bb-0310-9956-ffa450edef68"
2aced2c193876ba91ad136b1dd17e1fd2ad6ff1f,"Checking in generated output of user and install guide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372863 13f79535-47bb-0310-9956-ffa450edef68"
0a4555d305b9c3d2a43b9835cf320e70d0dc6780,"Updating readme and changelist for release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372878 13f79535-47bb-0310-9956-ffa450edef68"
cbf6ee804e281adf4d52cb06a7e53eac7867b084,"Fixes ROL-1007, <lastBuild> date missing from main RSS feed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372882 13f79535-47bb-0310-9956-ffa450edef68"
20465762a3db42494a4468b4f44dc40717ee8c51,"Fixed connector example per Anil

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372889 13f79535-47bb-0310-9956-ffa450edef68"
4acdee201875e53680e571316811fd988346c07e,"Ship docs in release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372896 13f79535-47bb-0310-9956-ffa450edef68"
01ae383bccd18b84bb5fe80a377d1792859a1fb6,"Don't allow release builds to be done with Java 1.5 (yet)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372904 13f79535-47bb-0310-9956-ffa450edef68"
b3789c755790e04f69901c34254d3545053df38d,"don't invalidate a website just because of a referrer, that is not good for performance.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372928 13f79535-47bb-0310-9956-ffa450edef68"
5aa3e77300d34b09b6af33a2020401c4a1130498,"make sure to Roller.release() after thread execution.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372936 13f79535-47bb-0310-9956-ffa450edef68"
7ea3630d6e987281deff1c2df33b11dafabb426e,"check that the weblog being referenced actually exists to prevent a null pointer once we pass things on to the SpamChecker.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@372964 13f79535-47bb-0310-9956-ffa450edef68"
34a310ff732b3b89b2207ee2cae9b4c973578274,"fixing minor layout problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@373901 13f79535-47bb-0310-9956-ffa450edef68"
6cc8f7888243142d0b15c04bb8943c824a467538,"Added back the sections on Roller, Planet and ping admin

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@374105 13f79535-47bb-0310-9956-ffa450edef68"
3663d9bd27729dd839832f0135e005062397939a,"Minor formatting changes only, no changes in text

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@374108 13f79535-47bb-0310-9956-ffa450edef68"
97fdab89ea77389105eb34e88bac754d3845da1f,"Reformat of code

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@374537 13f79535-47bb-0310-9956-ffa450edef68"
8bc332c5548e2c06d9a630484213dde6a399f6d9,"some error message trimming.  we don't need to print an error every time we get an invalid page request.  



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@374701 13f79535-47bb-0310-9956-ffa450edef68"
2d8e444b174163ecb3b9117cf5a7cac803d3ca68,"Made entry queries sortable by updateTime or pubTime (ROL-1009), make entries page pagable (ROL-1036), fixed comment sorting in getRecentComments() (ROL-1035)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375289 13f79535-47bb-0310-9956-ffa450edef68"
dfb3cc4fc11856a3fa7577d6cc09ada6e077d8f8,"Technorati limit is configurable (ROL-938)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375290 13f79535-47bb-0310-9956-ffa450edef68"
0027e69e16f84ff9a6929d28ef60983a9e2db44f,"Copy example configs and scripts  into docs dir too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375291 13f79535-47bb-0310-9956-ffa450edef68"
445f36fb5c00da7e457de98112004788e8f8fbab,"Made entry queries sortable by updateTime or pubTime (ROL-1009)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375292 13f79535-47bb-0310-9956-ffa450edef68"
347c655c3ebc4691dc263dc1eb9194fc2ab12c21,"ROL-736: made it possible to add one feed to multiple groups

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375297 13f79535-47bb-0310-9956-ffa450edef68"
8af64602fc032909b12ab80c259794710473a7b3,"Jeff Blattman's Atom Admin Publishing Protocol (AAPP)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@375629 13f79535-47bb-0310-9956-ffa450edef68"
646cdf1e13c5314dd04267672be009bc74f6b08d,"Fixes ROL-485: abilty to set weblog inactive

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376155 13f79535-47bb-0310-9956-ffa450edef68"
b2593770012235bf12e8da2ee2dc36613db51ca9,"Fixes ROL-1032: confirmation message when moderated comment is submitted

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376156 13f79535-47bb-0310-9956-ffa450edef68"
f9de5923ce488e07ed7416cf2f7a7bc8ba33c3a3,"Fixes ROL-1015: consistent use of icons

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376157 13f79535-47bb-0310-9956-ffa450edef68"
13c127a27b5c30360e7f7ae8b7648129473c917a,"Fixes ROL-1038: generated mails have no date header

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376158 13f79535-47bb-0310-9956-ffa450edef68"
47a4d780ce4131a094b304fa5ae6c7afa55be27b,"Fixes ROL-473 (page view for date should show all entries for date) and ROL-1041 (fix next/prev links)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376159 13f79535-47bb-0310-9956-ffa450edef68"
c29b2eb8de5e0004cbab091edbdf98dcb09c885d,"Fixes ROL-473 (page view for date should show all entries for date) and ROL-1041 (fix next/prev links)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376160 13f79535-47bb-0310-9956-ffa450edef68"
08116640cb09294f60a51d400e8e1f652f554065,"Fixes ROL-1040: in-line search results broken

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376161 13f79535-47bb-0310-9956-ffa450edef68"
4fb1b6ecfb49bf0bf716fb8afb9b961867859caf,"Missing value in 2.1 upgrade method was causing error w/PostgreSQL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376744 13f79535-47bb-0310-9956-ffa450edef68"
30ef8633fa2e707d77d336583739f2cb0335f8d0,"Feeds obey weblog entry count, but don't exceed site-wide maxEntries setting

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376921 13f79535-47bb-0310-9956-ffa450edef68"
c455ea58d6c2b99991e7f909ad555c71ecf429e7,"default website.isactive to true

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376923 13f79535-47bb-0310-9956-ffa450edef68"
b25bf65bea921128fc2bc4e9dd20d45c64aa222d,"Minor changes to userdocs from Sean Gilligan

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@376985 13f79535-47bb-0310-9956-ffa450edef68"
d750b201bd118939b5ba9b05da8865d4883a0f2c,"Oops forgot to checkin with website.inactive stuff

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377427 13f79535-47bb-0310-9956-ffa450edef68"
200afea93a75048e026da1f958b4550e3d41aaf4,"Adding active setting to weblog settings page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377505 13f79535-47bb-0310-9956-ffa450edef68"
92ab01c0a66a8062c0e5ae6e1a14e78a29de9b5a,"Fix for ROL-1026: problem with file-upload page on Mozilla

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377610 13f79535-47bb-0310-9956-ffa450edef68"
3621f0ed6f5d63f719720b0034b59dc60ad14b90,"Fixes ROL-473 (day page should show all entries for day) and ROL-1039 (show 404 instead of exception page)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377611 13f79535-47bb-0310-9956-ffa450edef68"
84861826f8443f0a05c8dd2711b3ee890c3cbaac,"Bug fix for previous commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377634 13f79535-47bb-0310-9956-ffa450edef68"
4e7f86d190068aa1e3d539542441fc32f6dc3528,"Comments and a small fix in the next/prev control

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377722 13f79535-47bb-0310-9956-ffa450edef68"
4230deebbff60209fd3c406fce1b62f73d0853d9,"Fixing next/prev to conform to blog norms

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377758 13f79535-47bb-0310-9956-ffa450edef68"
3c2c65fd7e2ec296dbf282170f45fb08a5b87e12,"Unit test fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377759 13f79535-47bb-0310-9956-ffa450edef68"
f8184d40bb91f247c48d42923de9d07f9411b3dd,"ROL-995: limit comments to safe HTML subset

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377804 13f79535-47bb-0310-9956-ffa450edef68"
03483b95e04141831b7b0aa5be26bf9ceae4b17d,"Latest ROME

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377864 13f79535-47bb-0310-9956-ffa450edef68"
862ca7c4ea32d204ac4424421fcb1bbe592120e3,"Fix for ROL-1046, easier to set planet cache dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@377865 13f79535-47bb-0310-9956-ffa450edef68"
9b15d3b5eaf8efbb8c160cae177ff924996488a2,"bug in Atom protcol next/prev links

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@378056 13f79535-47bb-0310-9956-ffa450edef68"
918e142ea6875ddeb67f35854acacbca8f716cc8,"adding a short comment at the top of the to try and scare off users who think they should edit the runtime config defs themselves.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@378597 13f79535-47bb-0310-9956-ffa450edef68"
839e7a6811bfa8d2573db8b0b5b6ad13d47ef3a3,"fixing null pointer in shutdown() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@378598 13f79535-47bb-0310-9956-ffa450edef68"
bfb2b3aeb5b6c04ad9a94cfd5a2cdf50a451aa5c,"fix for ROL-902, publish to future not working.

this fix starts a single thread which will peer into the future at timed intervals to build a list of future posted entries that need cache expirations.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@378765 13f79535-47bb-0310-9956-ffa450edef68"
def2ec3fd00b6f6c485846c284b763bb28fa2435,"converting weblog entry anchors to base64 in cache keys.  it appears that some anchors still end up with spaces in them, which is not desirable.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@378775 13f79535-47bb-0310-9956-ffa450edef68"
e51ff41a27052d85d6b7783bf00aab5a6ac67af5,"tidying up exception handling.  we don't need to flood the logs with messages when we request is a 404.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379201 13f79535-47bb-0310-9956-ffa450edef68"
6aba6918dc894b03cba12c7c256775d1b497259b,"removing old config manager test.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379205 13f79535-47bb-0310-9956-ffa450edef68"
ba4ee4c6c1b26bca14b835459ee6ba1af381fc0b,"starting to move some jsps into WEB-INF/jsps folder.

- created WEB-INF/jsps folder
- added new 403 and 404 pages
- moved denied and error jsps pages to WEB-INF/jsps
- slight touch ups on error messages
- modified web.xml error-page element to capture all java.lang.Exception classes rather than just org.roller.RollerExceptions



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379230 13f79535-47bb-0310-9956-ffa450edef68"
eeff929b72afc08de4eafe244ef1a80d4d5b6688,"removing loginerror.jsp since it doesn't provide any real functionality.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379275 13f79535-47bb-0310-9956-ffa450edef68"
22baa7317d9365a3ce85849e2020429f70e9eb8a,"Updating to match standard config

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379469 13f79535-47bb-0310-9956-ffa450edef68"
00de0c699d156647a8f2972208fb3edf94d69e51,"Force demo to exit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379470 13f79535-47bb-0310-9956-ffa450edef68"
7157d98250621caaeb020befec8af2f565904645,"put cache in Tomcat directory for demo build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379472 13f79535-47bb-0310-9956-ffa450edef68"
66c340b3480b6294b31ca2a58d7c5fa6671292b5,"Don't include Tomcat docs in demo build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379474 13f79535-47bb-0310-9956-ffa450edef68"
6c5533bc15c4286dec57b0318426c95fe4726512,"Minor fix in wiki CSS

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379475 13f79535-47bb-0310-9956-ffa450edef68"
9cf280d8d48ec065a6b3831e4449f7d9e7e94407,"switching demo to Tomcat 5.5.X

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379476 13f79535-47bb-0310-9956-ffa450edef68"
2263b1356ed1a5e2729fe90902a4f0a370522ae7,"Fixing next links in Atom protocol collections

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379477 13f79535-47bb-0310-9956-ffa450edef68"
628a1d4d3e86117fbab84216e12e4f17c4a5e6d8,"Allow JPGs, GIFs and PNGs in demo wiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379479 13f79535-47bb-0310-9956-ffa450edef68"
5c383f47985e1ff498d5d50e6c81b51e7fbad2cf,"Fix for ROL-1051 and security issue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379816 13f79535-47bb-0310-9956-ffa450edef68"
59445042d1a4541de7ea2b89773cc03c1fcde47b,"a couple additional fixes to resource servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379820 13f79535-47bb-0310-9956-ffa450edef68"
4ce6595896c81e5516f5ac6b6df62c6b5f816469,"lowering default size for user and website data caches.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379835 13f79535-47bb-0310-9956-ffa450edef68"
1d957299c3e4f3a7ada636f17bde3952756228d7,"Fixed bug that was preventing DRAFT entries from appearing on Entries page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379852 13f79535-47bb-0310-9956-ffa450edef68"
2a571c53601d6419b639375588d8cfc2610552de,"Applying safe HTML subset filter to HTML in comment notification emails

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379853 13f79535-47bb-0310-9956-ffa450edef68"
2a9df5b43417b9906bfa12180cdabf9bfa10f0c3,"Ripping out JavaScript from new File-Upload page, so we can work on Moz 1.4

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379855 13f79535-47bb-0310-9956-ffa450edef68"
61f60da1f1ecc056430047be50d73c47991a10c0,"adding hibernate caching xdoclet markup to pojos.  cache mode is ""read-write""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@379923 13f79535-47bb-0310-9956-ffa450edef68"
0db2b9f0dab9c8b7e12e7284b6640ec98decddef,"Added ROL-1051 to fixed list in 2.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@380944 13f79535-47bb-0310-9956-ffa450edef68"
df7cf82bd652c895aeb259b17f42500d363f2a29,"Bug fixes in ROME and in APP media collection handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@381351 13f79535-47bb-0310-9956-ffa450edef68"
ee8d33ebb098e9e9d72d93b9dcce8fc36c3aef75,"Fix for timezone and start/end of day logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@382260 13f79535-47bb-0310-9956-ffa450edef68"
6ac213f767dabc2c3517e7c332b5b65db59caf28,"Fix for timezone and start/end of day logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@382261 13f79535-47bb-0310-9956-ffa450edef68"
20071c12380c6ed8df28cf6cf297d1d93903e1e6,"adding /editor/userdata to the list of allowed https urls



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@382595 13f79535-47bb-0310-9956-ffa450edef68"
c8ba8b4cda832a815cce6e1c8f667275cf0aece2,"convert weblog handles to lowercase in cache keys.  part of fix for ROL-1066.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@382916 13f79535-47bb-0310-9956-ffa450edef68"
4b1116443202439af3911609264c5c4a940919f7,"changing last expired date to use a real Cache rather than just a hashtable.  in truth, i think a better long term solution will be to add a lastModified field to the WebsiteData object and just use that.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@382938 13f79535-47bb-0310-9956-ffa450edef68"
6d13bdff8c5cecf6939c2ea9f61f4866eb447fa6,"Added check to see if client preserves foreign markup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@383155 13f79535-47bb-0310-9956-ffa450edef68"
459585bf4cd8a21c13ab4776a79744eb3a0620bf,"Actually, we're on draft 8 now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@383178 13f79535-47bb-0310-9956-ffa450edef68"
4d71942f085d37a9e3ff8aa490885e9209f15405,"Fixes for comments styling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@383386 13f79535-47bb-0310-9956-ffa450edef68"
9f25b5e21e383b69a26dd2601a3b29e3ab722a48,"need to properly formulate cache key if we expect to get values.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@383930 13f79535-47bb-0310-9956-ffa450edef68"
e1bbf4896c0cdd6fa261f1f7b8b1dcc69cafd382,"adding back check for null website as a short term fix for ROL-1078



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384566 13f79535-47bb-0310-9956-ffa450edef68"
a8f1600419abde0f641e8d95cebf9722ec513fa9,"Don't quote default values in macro, fixes ROL-1076

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384595 13f79535-47bb-0310-9956-ffa450edef68"
cae0ac00c3ac39a323e5cda216f7b6a38bb4029f,"Moving to Servlet 2.4 and JSTL 1.1, fixes ROL-873

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384598 13f79535-47bb-0310-9956-ffa450edef68"
dad3adcbbff023e40118296f8aabfe51662df930,"Moving to Servlet 2.4 and JSTL 1.1, fixes ROL-873

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384627 13f79535-47bb-0310-9956-ffa450edef68"
8a9c13d92a67051847be6844de137dcc3de72529,"Force weblog by handle to be insensitive about handle case, 2nd part of fix for ROL-1066

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384689 13f79535-47bb-0310-9956-ffa450edef68"
27bce8ed5602f7b1a902094c57e7199a5cbe69af,"Set author for entries in APP Atom feeds as suggested by Jeff Blattman

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384890 13f79535-47bb-0310-9956-ffa450edef68"
398c4a957a2655ab2c3dff03020c59426760d185,"Ongoing work from Jeff Blatmann on Roller/Atom Admin Protocol

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384898 13f79535-47bb-0310-9956-ffa450edef68"
30570cc922f4b1b712be9e2cd72ad22e0b6ede02,"Updated version no.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384903 13f79535-47bb-0310-9956-ffa450edef68"
eb9b0d5be806f45c26f4b9a87d3507439802f869,"Adding AAPP example lines (commented out)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384905 13f79535-47bb-0310-9956-ffa450edef68"
e6c13160c83d7f2be1db9f355ab6de6453958f71,"missing curly brace, my mistake

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@384908 13f79535-47bb-0310-9956-ffa450edef68"
1ba1a45461ef6580ea0e57a0d8f6bf7243707468,"Fix for ROL-1056, exception when setting website inactive

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385565 13f79535-47bb-0310-9956-ffa450edef68"
9f8c2d2c70fe2ad2739721b5546c37feef66c159,"Fix for ROL-1028, main feed not obeying entry count settings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385585 13f79535-47bb-0310-9956-ffa450edef68"
5f81fb392b669954522304f64c41047ef3b402da,"Fix for ROL-1058, links in comments corrupted by safe-HTML subset

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385605 13f79535-47bb-0310-9956-ffa450edef68"
93b9a9273fdb28d0d664508c0c3efd7916926213,"Fix for ROL-1065: plug sign in resource URL leads to exception

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385616 13f79535-47bb-0310-9956-ffa450edef68"
c29a59a3461eeda829ee53b23cc193e6cb1f5b8e,"Oracle compatibility fix for ROL-927

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385632 13f79535-47bb-0310-9956-ffa450edef68"
92e9eec0805c17e4b9a5890bd4e155583bb0e62b,"Fixing ROL-1071 and change to make all versions of query use same columns

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@385651 13f79535-47bb-0310-9956-ffa450edef68"
a76354f8f9239d8ed9d2fb4dad9e83cdb714008a,"Still trying to get BASIC auth right (testing with APP client test suite)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386456 13f79535-47bb-0310-9956-ffa450edef68"
68f723dfb468903ce0be11620241f92f48975a44,"Fixing ROL-1081 in trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386671 13f79535-47bb-0310-9956-ffa450edef68"
4fcb87575482ff73ced88f05cb27328c36e23eb0,"Fixing query string handling to address ROL-1085

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386702 13f79535-47bb-0310-9956-ffa450edef68"
bf255f19f56dd4d525d7f7328f491e07d13ab846,"Switched to async XMLHttpRequest call to resolve ROL-1082, code from Oscar del Rio

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386709 13f79535-47bb-0310-9956-ffa450edef68"
9c29496f20f76aad31a736bb3af9ce69d7abd31a,"Fix for ROL-1086, fixes to search model and site wide search JSP

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386740 13f79535-47bb-0310-9956-ffa450edef68"
0b21ddbb8046ce91b7810c9af17d984452570f7e,"Initial draft of Apache DOAP description for Roller.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386911 13f79535-47bb-0310-9956-ffa450edef68"
60c461c3731d8e03935c0bb807e8b458fc214a38,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386912 13f79535-47bb-0310-9956-ffa450edef68
e61ddfb8638765b5eb1b33f1dfb8751062952816,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386913 13f79535-47bb-0310-9956-ffa450edef68
8a49d32ebe9b6393e69a3884d6256702dd8c786e,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386915 13f79535-47bb-0310-9956-ffa450edef68
b26d0df40f6a17daa2c12da20be5ec5c956a157a,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386917 13f79535-47bb-0310-9956-ffa450edef68
7c6c49d2d20a17d6f6d6602773146446f2250aef,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@386918 13f79535-47bb-0310-9956-ffa450edef68
75769f3f4c52bfce2639e9b705f1779603c54a3b,"Fixing compile bug in test

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387215 13f79535-47bb-0310-9956-ffa450edef68"
7044aada52bba37c6b03078ce19878c571c26ddf,"Fixes ROL-1092, sort by update time now default

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387295 13f79535-47bb-0310-9956-ffa450edef68"
b972c342e2f45786c58e8b2302192a5745f2d51d,"Fixes ROL-1091, limited authors may now preview entries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387296 13f79535-47bb-0310-9956-ffa450edef68"
26609236a8530242d32eb341e6527ce540fda55a,"Fixes ROL-1085, check linkback extract property

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387298 13f79535-47bb-0310-9956-ffa450edef68"
297bf9a7f47fa12e2af7043d13b4682c9e00214d,"No flush should be required,  401 can have a body

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387300 13f79535-47bb-0310-9956-ffa450edef68"
7dd9e330cc122b85987074372b445e262f813ae2,"ROL-1044: MS SQLServer patch from George Daswani

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@387965 13f79535-47bb-0310-9956-ffa450edef68"
c1c975e4c8dae146cef00b098b4ee13dd2042baa,"Renaming docs to be version number free

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388014 13f79535-47bb-0310-9956-ffa450edef68"
01851eb267380a41027d78c00a68f8f530352461,"Fixed formatting, bumped up version number

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388043 13f79535-47bb-0310-9956-ffa450edef68"
82f9cf32a83e591dac51fbb59b0bdffd0e2b45c1,"Fix for the Hibernate transient object error message, ROL-970

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388194 13f79535-47bb-0310-9956-ffa450edef68"
d55ad3a8894a9b1b8d5f5edf727c92650e8621fc,"Updating docs for 2.2 RC

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388209 13f79535-47bb-0310-9956-ffa450edef68"
f14c7bd6acce4b9de7727718b8b2ca1119f1928d,"Switching from TEXT to CLOB as recommented by Oracle fans on roller-dev list

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388255 13f79535-47bb-0310-9956-ffa450edef68"
4e9ef296b2c96c02b49bab136fc2fb58621581ab,"Including testdata directory in source release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388256 13f79535-47bb-0310-9956-ffa450edef68"
d1669ea225f2066edeaaa93c174bff503fa117de,"Updating change list for 2.2 RC1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388260 13f79535-47bb-0310-9956-ffa450edef68"
114b8cae86187a8b4b58d7931c4d6a7e3fb30ae0,"Removing duplicate index

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388261 13f79535-47bb-0310-9956-ffa450edef68"
7e9c82f8159e6245d37b52011dab2e62a1f9ee7d,"Updating version number for 2.2

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388262 13f79535-47bb-0310-9956-ffa450edef68"
9eab4ffe01e91b8a63d230e7ca0e16b9757b30eb,"Fixed TIMESTAMP_SQL_TYPE_NULL value which should have not included 'null'.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388289 13f79535-47bb-0310-9956-ffa450edef68"
f65e9b9fbe935cbd5fd78de948a32eeaf245f10d,"Fixed instructions on mail.jar and activation.jar to move (not copy) them.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388970 13f79535-47bb-0310-9956-ffa450edef68"
631f90cbb6858712f5d7b71d10d7c98d7219e83b,"changing getProperty() method to use PersistenceStrategy.load() instead of a Hibernate query.  this is important because it allows us to use the Hibernate L2 cache, which we weren't using before.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388976 13f79535-47bb-0310-9956-ffa450edef68"
6451992c707a593b5d6a45d6e4336dee9ede1c03,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@388978 13f79535-47bb-0310-9956-ffa450edef68
e02f0e78239689cfdf0f401368e913de610f3297,"Fix for ROL-1094 which was preventing addition of new planet subscriptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389244 13f79535-47bb-0310-9956-ffa450edef68"
c82efaa6933a9379d24c2572c216f1ee5a9dd5a1,"Fixed ROL-1096, month views should start at end of month

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389261 13f79535-47bb-0310-9956-ffa450edef68"
ddc6a6bebf43d583b8709659174076de952b0aa8,"Fix for escaped HTML in feed titles problem ROL-1097

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389281 13f79535-47bb-0310-9956-ffa450edef68"
8ce88fefe260137f1ceec3b4ed82db58eb72866a,"comment corrections

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389547 13f79535-47bb-0310-9956-ffa450edef68"
f6f7a607fa745752003fe77d839b1a5ec89408a4,"Fixing ROL-1098, OPML import MIA

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389561 13f79535-47bb-0310-9956-ffa450edef68"
eaebdd5c7cdc38fa5ae99dfde71ea15c5592adde,"Patch from Jeff Battman to improve error and exception handling in AAAP

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389579 13f79535-47bb-0310-9956-ffa450edef68"
ca9cfd89cc824b12ffd14ca016a0b9c5ce71090f,"Patch from Jeff Battman to improve error and exception handling in AAAP

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389581 13f79535-47bb-0310-9956-ffa450edef68"
ddb57bae786bf1263f1093b923364a2cb3155e60,"APP and AAPP now must be enable via properties: webservices.atomprotocol.enabled and webservices.adminprotocol.enabled, respectively

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@389601 13f79535-47bb-0310-9956-ffa450edef68"
d7bcc837fdbb485c5d63d25c359e3bab2df2fc9e,"Startup config for the A*PP protocols, not runtime

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@390112 13f79535-47bb-0310-9956-ffa450edef68"
75fb7baad039993b5b923c01a66600b02850ec52,git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@391315 13f79535-47bb-0310-9956-ffa450edef68
9f67c1c704431a334ab87c8c426ef63175a27bbb,"Fixing ROL-1103 regression: unescaped content in RSS feed titles

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@391336 13f79535-47bb-0310-9956-ffa450edef68"
af2369140e01923e0c78eda416d645c20749872a,"Fixing ROL-1104 regression, missing planet jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@391344 13f79535-47bb-0310-9956-ffa450edef68"
7d1f9e20597ac4be407986197019d1974ef05e1d,"Fixing ROL-1106 regression in RSS feed level link

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@391405 13f79535-47bb-0310-9956-ffa450edef68"
909bd4ae6506a30987e6e8d6a5fe8b60b938ca89,"Fixes problem that occurs when posting immediately after a delete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@392371 13f79535-47bb-0310-9956-ffa450edef68"
4aec1dc6121e469b2ed67af327d408c519e03178,"New entry.summary field plus required changes to editor, feed templates, entry macros and entry JSP tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394681 13f79535-47bb-0310-9956-ffa450edef68"
33d0aa3f7e294ded06cec35abe8ca2853784ea3c,"oops, forgot namespace declaration

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394693 13f79535-47bb-0310-9956-ffa450edef68"
a2a5b185c4bdb77c5890cb4af0a35be5777fa16f,"MySQL complains that 512 is too big for a varchar

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394716 13f79535-47bb-0310-9956-ffa450edef68"
b44a07f9ebbbddd7773586c3112cb0a899a0c87b,"Bug in RSS and Atom content field generation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394736 13f79535-47bb-0310-9956-ffa450edef68"
dee886af333ee83de015b10603f7c38cbe3c6f0c,"Bug in summary logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394754 13f79535-47bb-0310-9956-ffa450edef68"
23cb2406e208ca11cbb73911bed9ebfd1bf3d66a,"Added end of summary ellipsis

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394817 13f79535-47bb-0310-9956-ffa450edef68"
b6522b93baa2c61e72d6d4ae7de77d105a121e92,"Another fix to summary/text logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@394832 13f79535-47bb-0310-9956-ffa450edef68"
118dce4f5dcba62a6b63a728791bd1cccae656ab,"Switching back to old layout, adding theme correct colors

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395013 13f79535-47bb-0310-9956-ffa450edef68"
b981cc8281b1c34b47b64e400a792170e69a5114,"It's weblogentry.summary, not weblog entry content

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395024 13f79535-47bb-0310-9956-ffa450edef68"
c349e9079e046245e91980f328061f8389f370ad,"Error handling for plugins

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395025 13f79535-47bb-0310-9956-ffa450edef68"
86aa434ec4ba494ce9fbcb6fd6f15bd714965e89,"Error in summary rendering

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395026 13f79535-47bb-0310-9956-ffa450edef68"
9a0f903bb4f2ab2bb9b13756293f3a562d987144,"Using atom:summary everywhere for summary

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395028 13f79535-47bb-0310-9956-ffa450edef68"
f395e80ab1e5e3eb35af271bc0c3ff9cf03a7e95,"Cant use the RTE HTML to XHTML converter, license is not Apache compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395047 13f79535-47bb-0310-9956-ffa450edef68"
c03e3f13c27619dbfdf06d9a15049af17b11733b,"Cant use the RTE HTML to XHTML converter, license is not Apache compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395052 13f79535-47bb-0310-9956-ffa450edef68"
5d5ba23a7caaf40776fab62aea568c50610bea78,"Fixed in text/summary/content JSP tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395240 13f79535-47bb-0310-9956-ffa450edef68"
a16784c61202d3a4dadc45ada770529796e4fa9d,"merging newbackend into trunk.
this merges changes in the roller-newbackend branch between revisions 391353 and 395388.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395393 13f79535-47bb-0310-9956-ffa450edef68"
d2555b8892552b29920f5da8fb8cd59c10ac5cfc,"cleanup and enable IndexManagerTest.
remove old TestAll class which is not used.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395396 13f79535-47bb-0310-9956-ffa450edef68"
a494a541b42a87ada330fdb71c836e3d2be53742,"updating Netbeans project file for Hibernate 3.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395405 13f79535-47bb-0310-9956-ffa450edef68"
34db95b132c7dfe7bfb69c5786d1e0e8ca3325e3,"ROL-1050: Apply comment defaults to all existing entries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395406 13f79535-47bb-0310-9956-ffa450edef68"
f096cba8402dcfb06e6017c784ca88265f16081f,"ROL-1110: Compact display for entry management page to avoid layout problems

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395407 13f79535-47bb-0310-9956-ffa450edef68"
c170aec88c6597d1818210c708ef6e66d172894d,"Show entry.summary as RSS <description> or Atom <content> if there is no entry.text

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395408 13f79535-47bb-0310-9956-ffa450edef68"
789801ecfc4f7dae635d9ff4c694b24b79a6d5de,"Moving applyCommentDefaults to WeblogManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395457 13f79535-47bb-0310-9956-ffa450edef68"
e3119ce8b57551af4982f80eb748dd3acc9dd3cf,"Merge fixes for AAPP

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395468 13f79535-47bb-0310-9956-ffa450edef68"
ba201386589eaad451953c6d339272cd2eb1dda8,"ROL-1116: default editor is now configurable (static config)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395471 13f79535-47bb-0310-9956-ffa450edef68"
2829fb80d6383b217cf60791c2b10e3cd625ca94,"ROL-1115: comment moderation can now be required (runtime config)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395472 13f79535-47bb-0310-9956-ffa450edef68"
29f730c2f43407d221604d7ab04f44e66a4a7ebf,"Missing I18N string for moderation required prop

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395474 13f79535-47bb-0310-9956-ffa450edef68"
d2b5e06f2e6b4e338d6baaaf9ebecb2d2f760c7b,"Fix in moderation required logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395475 13f79535-47bb-0310-9956-ffa450edef68"
70f6235f15b9f564283d807eff0d82a19fea8951,"Added support for cygwin by setting the appropriate path separator.

--from an email by stefan.eissing@greenbytes.de to roller-dev. Thanks!



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395589 13f79535-47bb-0310-9956-ffa450edef68"
44b6da6da5cdd4fbcf9e9ae9adfb63b5920d4c77,"Moving Atom Pub. Protocol implementation from sandbox to src, disabled by default with warning in roller.properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395633 13f79535-47bb-0310-9956-ffa450edef68"
461fadb9eddc675acdcb4929cbf1f777664980a5,"fixing problem in getCommentModerationRequired().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395634 13f79535-47bb-0310-9956-ffa450edef68"
4daa79a4e71e9af21c2ef70f851688e6fe036ef1,"fixing test base.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395636 13f79535-47bb-0310-9956-ffa450edef68"
7138c729537dd554284a5c00d96004fdedd9b038,"renaming referer unit test and fixing linefeed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395637 13f79535-47bb-0310-9956-ffa450edef68"
cac4e98bfdd5c76d4d8a58c49cf98a9eb93fd085,"fixing applyRefererFilters() to check that excerpts is null OR """" because """" seems to be the new default value.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395646 13f79535-47bb-0310-9956-ffa450edef68"
c610be60fb960f39a2ec403474bdd0a6e2a11a32,"adding basic test for referer CRUD.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395647 13f79535-47bb-0310-9956-ffa450edef68"
2fcbe5c27010433264a92d103332ef74ed72dd0a,"Use first editor in list as default editor for new weblogs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395675 13f79535-47bb-0310-9956-ffa450edef68"
c76f892044ecf86c14c24d7dca5f6eb5dfe6a40b,"Still fixing/tweaking summary/text display logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395681 13f79535-47bb-0310-9956-ffa450edef68"
376a3ebad6ff99335c9c1ee3b44e5e64bd044b86,"Adding custom L3 cache mapping for lookup of WeblogEntry by anchor.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395682 13f79535-47bb-0310-9956-ffa450edef68"
d4c0e1112ba6ab973a212a349af7da655a5de66a,"remove old weblog manager test.
rename bookmark test for consistency.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395684 13f79535-47bb-0310-9956-ffa450edef68"
527a73e2e4889bdac4f865d6b35bdb167a8cdfd8,"cleaning up unit tests so that they compile again.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395686 13f79535-47bb-0310-9956-ffa450edef68"
63f0cbbb7de77a7708d8e7afa42a26e930a31c8a,"blahblah.enabled is the more convetional

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395756 13f79535-47bb-0310-9956-ffa450edef68"
cd6dcac32529b1ec7139ead1d4b232c51769397e,"Committed wrong rome.properties file, plus catch Throwables instead of Exceptions

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395761 13f79535-47bb-0310-9956-ffa450edef68"
24cf08c7d5414634ee0894665ab8a94f331ecd0f,"updating to 2.3-incubating



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@395959 13f79535-47bb-0310-9956-ffa450edef68"
254aad2763de22796851478c94ba26ca9f89ea8d,"Fixed incorrect key

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396577 13f79535-47bb-0310-9956-ffa450edef68"
4f6a3f891538ea0ec956f4ad28bdc3468a50e0be,"Need both title and description for post

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396760 13f79535-47bb-0310-9956-ffa450edef68"
baf3b406ac647c15cb542f3992e12f0a5395220f,"Don't allow root category as default for API posts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396761 13f79535-47bb-0310-9956-ffa450edef68"
0db36693b5e7e811919c9576164985bfd0ea31cd,"Updated user guide for 2.3: covered entry summary and changes to weblog settings page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396894 13f79535-47bb-0310-9956-ffa450edef68"
abfdb0784c88b5cdf6e2e057d7c966cfb9228e07,"Fixed disable comments for inactive weblog logic and added explanation message for user

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396924 13f79535-47bb-0310-9956-ffa450edef68"
18f5152d75c6e379de3e12eb116825df8683ee1d,"Need calls to roller.flush() to commit APP changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@396982 13f79535-47bb-0310-9956-ffa450edef68"
63e9d197ce5430321b22734db633425257b4a911,"Patch 4.3 of AAPP from Jeff B

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397189 13f79535-47bb-0310-9956-ffa450edef68"
6f63757681efeab5e1a843ae28ea2e687d898752,"Patch 4.3 of AAPP from Jeff B

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397190 13f79535-47bb-0310-9956-ffa450edef68"
d87247770e0e1307a7db97a01c0f904b9ac16526,"Couple more (plugin related) fixes to entry text/summary logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397211 13f79535-47bb-0310-9956-ffa450edef68"
6ea7b84515d0abc465f772522d6b5c1e10e597b2,"date created MUST have a value or you get an exception when trying to create a weblog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397273 13f79535-47bb-0310-9956-ffa450edef68"
0988751c904f0ba345bb9e963f735295e7ed6bd4,"Its possible that pubTime is null

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397319 13f79535-47bb-0310-9956-ffa450edef68"
683ba57af2abe614bc480ebd5cb10e99f617d3be,"need to flush changes after referrer processing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397587 13f79535-47bb-0310-9956-ffa450edef68"
00ff9cd8b3ebfc34fc1a62e900142cb87060e801,"bringing LICENSE and NOTICE files into compliance

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397749 13f79535-47bb-0310-9956-ffa450edef68"
235d394d9ee4357d24a4e0b009dc0d802e27a3d7,"Updating for Hibernate 3.1 jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@397893 13f79535-47bb-0310-9956-ffa450edef68"
265e296f6fd157f2167f3b7a7d77d67751098e68,"cleaning up log4j config for unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398022 13f79535-47bb-0310-9956-ffa450edef68"
a67f104bd592c62bcd0bccaa1239235a79e8b0ca,"Replaced my personal copyrights with copyright notices of the Apache Software Foundation.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398188 13f79535-47bb-0310-9956-ffa450edef68"
d4952eaf029df1f50962ccf91fea74d6bf7dbfe4,"Fix initial year of copyright notice to agree with initial revision.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398192 13f79535-47bb-0310-9956-ffa450edef68"
3a60173461c941a9bf6cd00250a0525c73f5eba8,"I'm not the author of the truncate nicely tag in the String taglib - setting it to the correct author (timster@mac.com )

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398285 13f79535-47bb-0310-9956-ffa450edef68"
8f90c40f154b3f282ece05ae1de3d8ed504547ea,"Revised header to conform to latest provided by Cliff Schmidt.  The new header no longer includes copyright notice, only refers to the NOTICE.TXT.  Added some missing author attributions (to myself) where my prior personal copyright notice had been serving a dual purpose as attribution.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398359 13f79535-47bb-0310-9956-ffa450edef68"
0b13e31fe2e6613555716ae65192a29723ce595a,"Use first cat (not root cat) as default Blogger API

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398378 13f79535-47bb-0310-9956-ffa450edef68"
a585928139adc3506a7e6fa52ca0b147f0165870,"Use first *valid* cat for API posts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398380 13f79535-47bb-0310-9956-ffa450edef68"
26dd0300ce9444201667c3651eafcb088e191bd8,"Updating for 2.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398433 13f79535-47bb-0310-9956-ffa450edef68"
a2b49c6b15b73383a28ac55649a579a6a0b094b3,"Use boolean for Pub Control type and be lenient about Atom categories

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398435 13f79535-47bb-0310-9956-ffa450edef68"
b1cf7b39c173b0d41487c86db3e13c04c2e0a78a,"Add notice file to build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398436 13f79535-47bb-0310-9956-ffa450edef68"
1eb2ba9136ca1a6481b92708497433e7e1fd76b9,"Fixed compile problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398465 13f79535-47bb-0310-9956-ffa450edef68"
ba2960e00826d632d2e13e5aa3d6f1a1273162a9,"Updating for 2.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398468 13f79535-47bb-0310-9956-ffa450edef68"
9725b201d77f7da23cfe181894694522fed69066,"Upload and index dirs in catalina.home for standalone server

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398503 13f79535-47bb-0310-9956-ffa450edef68"
62c79e0f6d40b36d0023227794b30ab670dc28d2,"First stage of Proposal_RemoveUnshippables: added apache-release Ant task, removed Jazzy spell checker, updated install guide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398663 13f79535-47bb-0310-9956-ffa450edef68"
3ba9a93ab21b1b474880e76235685cc66997bf1e,"Adding Apache headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398666 13f79535-47bb-0310-9956-ffa450edef68"
c9712bbddcbbc5324417774958aa13cd0840062f,"Adding Apache headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398667 13f79535-47bb-0310-9956-ffa450edef68"
9d8c9ea896fed86d3621e2aa4dc5dc69d54c0ce6,"Adding Apache headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398669 13f79535-47bb-0310-9956-ffa450edef68"
113930d6d353331d288e19e4598257703e4cc41a,"Adding Apache headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398670 13f79535-47bb-0310-9956-ffa450edef68"
655e83d4f69f97276feaf5903fe46e2198c54fd5,"Fixing couple problems in JSP/CSS files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398671 13f79535-47bb-0310-9956-ffa450edef68"
29c2fa2c90f4ba1ad8cf46f51400a6f5dacda14a,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398709 13f79535-47bb-0310-9956-ffa450edef68"
7976d1e60945cf007efbf14fb0464c1de27d7066,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398710 13f79535-47bb-0310-9956-ffa450edef68"
dcc13edeb6bb6093c82afa65591012f23ed55be7,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398711 13f79535-47bb-0310-9956-ffa450edef68"
f22d689be5cca7e4e070e5ec243f76b49f87fd74,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398712 13f79535-47bb-0310-9956-ffa450edef68"
ce226762e7122599e655c435d8557b7b48872ff5,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398714 13f79535-47bb-0310-9956-ffa450edef68"
718be55d3ba7ebfbb4c8638bfc61bf32a37962de,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398715 13f79535-47bb-0310-9956-ffa450edef68"
1d5b9f67452ab63dc863f3bbc1c58c588a25c189,"Moving to org.apache.roller packaging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398716 13f79535-47bb-0310-9956-ffa450edef68"
30d5aad4f9a858b016b33fef801c823a78b256c4,"Fixing org.roller stragglers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@398972 13f79535-47bb-0310-9956-ffa450edef68"
8cfacb57d9208afeca2f12eae346f5f7213fdfee,"A few more instances of org.roller -> org.apache.roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@399329 13f79535-47bb-0310-9956-ffa450edef68"
d1760d6d4f5ad13b5fe28dd17b48de5f96d12f3e,"Fail fast with appropriate error message when Hibernate is not found

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@399407 13f79535-47bb-0310-9956-ffa450edef68"
d69bfa09f53c8c7a1c863de785b9b23c268c6bac,"Fixed typo in apache-release target

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@399411 13f79535-47bb-0310-9956-ffa450edef68"
c123866dd33fa7e8501cadf0e9182bab59ea2b2d,"Updating docs for 2.3 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@399422 13f79535-47bb-0310-9956-ffa450edef68"
df257bdbedd1900f4a396092cbd920e7ce55aaaa,"moving the presentation.cache.* classes to util.cache.*.  the caching classes are not really tied to the presentation layer and should be available for use anywhere in the system.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@399952 13f79535-47bb-0310-9956-ffa450edef68"
dc3c3ddb1167029067bda065a3d70fad21434270,"One migration script for 2.1 to 2.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400118 13f79535-47bb-0310-9956-ffa450edef68"
ccb17ef72a41524c1d16975b7daa8fbbe4231bb2,"Updating release docs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400119 13f79535-47bb-0310-9956-ffa450edef68"
5789b732a65fae6eb47d61b397f952e39a4463e4,"Moving webservices under own package, they're not tied to presentation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400121 13f79535-47bb-0310-9956-ffa450edef68"
e4857ebda13451a0df129d016f59b75b22b17ad5,"Moving adminapi to src

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400124 13f79535-47bb-0310-9956-ffa450edef68"
c10eae260600a90063a967d8ce00f86f640b91fa,"Updating docs for 2.3 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400133 13f79535-47bb-0310-9956-ffa450edef68"
9055f58d987c46c14d2a3f559a6c43accd2106f9,"Fixed section numbering

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400147 13f79535-47bb-0310-9956-ffa450edef68"
dafc934ec7a786067a53a97d68050f32dfbb4951,"including a simple sun-web.xml file so that Roller users can more easily deploy to Sun Appserver/Glassfish.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400177 13f79535-47bb-0310-9956-ffa450edef68"
c086c6da733db169df50227112c75d5bf4067fbe,"We now have 2 release files: 1) the webapp and 2) the source code

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@400193 13f79535-47bb-0310-9956-ffa450edef68"
609dec62d148d24d5fecaa7a4f478c93d9adcc59,"Moving LGPL dependent plugins and addons out of Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405082 13f79535-47bb-0310-9956-ffa450edef68"
e6003375b3b34f8c3fe70e8ad623bfaaecdc2d77,"Moving LGPL dependent plugins and addons out of Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405084 13f79535-47bb-0310-9956-ffa450edef68"
75cd9d00dbeab1d0ac8561bfc370bfb8fd3bd4cb,"Moving LGPL dependent plugins and addons out of Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405085 13f79535-47bb-0310-9956-ffa450edef68"
29cd157b3e126e6997e971baae64f765feba571c,"Preparing for 2.3 RC2

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405126 13f79535-47bb-0310-9956-ffa450edef68"
1f3cb89fec72b6eee2b407ac0abda47398f28779,"Clarificatin of field label

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405187 13f79535-47bb-0310-9956-ffa450edef68"
2679d4af85134b2397741af020e2565e9b0fee35,"Backing out comment moderation message, since it is cached and shows up for other users

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405188 13f79535-47bb-0310-9956-ffa450edef68"
8252642220cfea9c02c047fd04a75cce13e47426,"Removing unnecessary directory creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405190 13f79535-47bb-0310-9956-ffa450edef68"
5b428ddf69dd018f1bf4d3420cd8bd6c3bcaaf0a,"Patch 4.5 from Jeff Blattman

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405263 13f79535-47bb-0310-9956-ffa450edef68"
e03a199943db1d970b687db336eb88fd69a2bb58,"Dont show commenter emails

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405272 13f79535-47bb-0310-9956-ffa450edef68"
961f212f664fb2646775f12327b79bad5c2d7b0e,"Fixing a couple of incorrect error messages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405415 13f79535-47bb-0310-9956-ffa450edef68"
7d2a4ce75574a0c8dc3beff6b9dda6d0e6e7f944,"Adding AAPP property, with warning

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405448 13f79535-47bb-0310-9956-ffa450edef68"
a79cdb2b26044f3f00321929161d89d91fccbd01,"Correct PubControl package name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405539 13f79535-47bb-0310-9956-ffa450edef68"
561008904908c3ff54863f09ff30d46ba71eb1ac,"Fixing JSPWiki setup in standalone server

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405540 13f79535-47bb-0310-9956-ffa450edef68"
eec0fb98030afbca5043dd8ac3484331dad8f8de,"Fixing JSPWiki setup in standalone server

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405541 13f79535-47bb-0310-9956-ffa450edef68"
877ea82ad26a80cf2d9d51ea8986228d4fde9c62,"cache refresh on delete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405820 13f79535-47bb-0310-9956-ffa450edef68"
2d6b1f38e0ca2bdec87ff486b18516485d908f30,"use correct form of getAbsoulteContextURL() every where -- fixes intermittent emoticons bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405821 13f79535-47bb-0310-9956-ffa450edef68"
dc711b2b9862c18d56a65d9ce23cdbb5272cb4af,"Bug in interpreration of checkbox value

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405822 13f79535-47bb-0310-9956-ffa450edef68"
4b68f030b06508aac1f34fb8251ec3af36cd7632,"use correct form of getAbsoulteContextURL() every where -- fixes intermittent emoticons bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405828 13f79535-47bb-0310-9956-ffa450edef68"
e111b547b4c4e1a14b465596fe3b6b0b6c6f634c,"Backing out wrong file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405830 13f79535-47bb-0310-9956-ffa450edef68"
7bece476cf281ac8f316bddb6e93b9303066f088,"Apply defaults checkbox should not be sticky

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405844 13f79535-47bb-0310-9956-ffa450edef68"
3d91f7caa81eef545b6017787a77506d7dd58dcf,"JDK1.5 vs 1.4 issue

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405850 13f79535-47bb-0310-9956-ffa450edef68"
399f9a6cfe1ccceafc7d1a14a5b5a184a4487888,"License headers for test source

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405880 13f79535-47bb-0310-9956-ffa450edef68"
f52d84324c8a8e63c10dfb4ad8c229ebd1e2440e,"Adding NOTICE to src release, removing mail, activation and ejb-1.1 from src release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405885 13f79535-47bb-0310-9956-ffa450edef68"
86ef81edab00d71ffa2b1ec0c1bdf3e45ce1579e,"Ekit no longer included in repo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405887 13f79535-47bb-0310-9956-ffa450edef68"
2139adb8c2c069a8ff370fab3214d2277cfad5e8,"Changing LGPL comment to reflect the fact that we no longer ship LGPL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405888 13f79535-47bb-0310-9956-ffa450edef68"
c7ae4d48915cc59f1f9b0eab8e7e274006941653,"Couple of typos

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405901 13f79535-47bb-0310-9956-ffa450edef68"
ccb55ae2bf21338418d73b43e6eed8f25c2132d2,"AAPP patch 4.6 from Jeff Blattman

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@405902 13f79535-47bb-0310-9956-ffa450edef68"
f4adb78d871ad856662d647ea9dcc4d5f8dcd3d7,"Fix for ROL-1070, based on patch submitted by Jason Rumney who also filed the bug.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406027 13f79535-47bb-0310-9956-ffa450edef68"
3b15d46268ab6e8b086efb92b65d5db18465a0ee,"Add 1070 to bug fix list for 2.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406030 13f79535-47bb-0310-9956-ffa450edef68"
90e003690132a47ca62d5464369650a932862cd5,"Changes for ROL-1132.  Use UTF-8 or utf-8, not UTF8 or utf8, for charset identifier.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406119 13f79535-47bb-0310-9956-ffa450edef68"
2bcecb269879673bef2fa51672e040462beb0c2b,"cleaned up the CommentServlet a bit and added support for throttling of comment posts.
added new utilities for throttling and a simple ip ban list based on a file.
updated IPBanFilter to use new IPBanList class.
added new comment throttling properties to roller.properties file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406689 13f79535-47bb-0310-9956-ffa450edef68"
6affa51bfe40e4c9aa993e7c05f25ad25ef6bd9d,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406694 13f79535-47bb-0310-9956-ffa450edef68"
0a90f6478bf8d78ac27dd34d171a92b101515871,"adding ability for Roller admins to control default auto ping status for common ping targets.

- added new column ""autoEnabled"" to pingtarget table
- added new attribute ""autoEnabled"" to PingTargetData pojo
- added UI elements for controlling auto enabled status for ping targets
- updated weblog creation process with new code that adds auto pings for auto enabled ping targets



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406715 13f79535-47bb-0310-9956-ffa450edef68"
84e96194b9b0ad6ebab1a94943b1b896f17e0fe0,"making UI a little bit nicer looking and more descriptive for new auto enabled ping target stuff.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406717 13f79535-47bb-0310-9956-ffa450edef68"
cc2cd1a4cc7e60a855733f9b5a34ef41b551e89c,"adding new ""lastmodified"" field to website table for tracking the last time a weblog had a visible change.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406759 13f79535-47bb-0310-9956-ffa450edef68"
ba14b7069f8008627295fdfbb7d1a54fd2182afc,"removing old last expired cache from CacheManager and replacing it with the usage of the new weblog last modified attribute.

also updated various saveXXX() and removeXXX() manager methods to trigger an update to the weblog last modified date.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406760 13f79535-47bb-0310-9956-ffa450edef68"
b97ee832f5d092aab837a81d8e81eafbd8061d18,"fix for ROL-1032 where users weren't getting a confirmation message when comments were successfully submitted but are under review from moderator.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@406761 13f79535-47bb-0310-9956-ffa450edef68"
3051a95885d484768510f2557d8b8417062b907c,"presentation layer package reorg.

moved org.apache.roller.presentation.* into a new package structure stemming from org.apache.roller.ui.*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@407098 13f79535-47bb-0310-9956-ffa450edef68"
cf625c1bed7e643707eeca0d96a5a87f37d749da,"make it easy to enable/disable compression filter from config.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@407852 13f79535-47bb-0310-9956-ffa450edef68"
d1c3297f11a9aa5680f26bef2f746e8797dd4baf,"recreating Roller 3.0 branch


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408650 13f79535-47bb-0310-9956-ffa450edef68"
1fafc74a47ad8697fff2bccf1bc38ab832e0dead,"Version is 3.0-dev

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408651 13f79535-47bb-0310-9956-ffa450edef68"
81b411220c01df39df94f4f00aff3280f3fa6652,"fixing bug in removePingTarget() method where we weren't properly cleaning up references to the deleted ping target.
also removed old removePingTarget(id) method which is no longer used.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@408706 13f79535-47bb-0310-9956-ffa450edef68"
8fdc4855565cb96879f37095ec7279bc800e357b,"tests were not compiling due to new presentation package structure

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408909 13f79535-47bb-0310-9956-ffa450edef68"
a56b695ec380668ab83600a20b4d682a4a039695,"Made smiley patterns public to appease the smileys test

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408911 13f79535-47bb-0310-9956-ffa450edef68"
24e8e89a1ca7d077465e6a27e012a07bc3b93786,"Added showOutput to JUnit calls

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408918 13f79535-47bb-0310-9956-ffa450edef68"
c235e371d3f682b0331927ab7b3a7dbedb12b9e6,"Removing old unused package

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408924 13f79535-47bb-0310-9956-ffa450edef68"
f7bf4a223634f1b7d77e42f21ee777257735a7a0,"Fix for ROL-1148. Use tinyint(1) for booleans on MySQL.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@408940 13f79535-47bb-0310-9956-ffa450edef68"
6302e977a671f276bfef5e1f95957931c1c8356b,"Added separate classath for tests, removed no longer used source directories, changed project name to roller_3.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408963 13f79535-47bb-0310-9956-ffa450edef68"
b28cb9061245e39eba27d765ebda0591d6ad725f,"Removed files that don't exist from classpaths plus changes to start/init/stop testdb when debugging single test in Netbeans

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408975 13f79535-47bb-0310-9956-ffa450edef68"
7a7b05e2776e3361f0fd8636c950a91d146c6e0c,"Couple more tweaks to start/init/stop code for testdb, should work perfectly with unit-tests now from command-line or via debug single class in Netbeans

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@408981 13f79535-47bb-0310-9956-ffa450edef68"
1cd6878935229bfa02ab6da63db7bf5de04bc880,"trunk now represents 2.4 in progress.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@409010 13f79535-47bb-0310-9956-ffa450edef68"
dabfd2bd76cb6d06faaaa16134db1f401b7cad68,"don't make new lastModified attribute not-null.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@409011 13f79535-47bb-0310-9956-ffa450edef68"
69284569d7a55b3f727cea8fdd69a866a1fc1bcc,"Add rol-1148 to 2.3 note.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@409196 13f79535-47bb-0310-9956-ffa450edef68"
a9983ac912a1e8da318bab780ff43a43c5c30f81,"Updated per Cliff's comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409284 13f79535-47bb-0310-9956-ffa450edef68"
17a3621fd5a2c9bd9b16a2cdf1abc6b13ac1e2f6,"More small imporvements to testing infrastructure

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409433 13f79535-47bb-0310-9956-ffa450edef68"
77ad273310b7e320f661b447b8ecf7e30faae045,"Minor tweaks to license/copyright files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409434 13f79535-47bb-0310-9956-ffa450edef68"
47282301716172b385b8cf96c1eb1b1a6fda04c4,"First portion of Atlas frontpage work on the backend

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409435 13f79535-47bb-0310-9956-ffa450edef68"
82fdad82a04fb45d611405cb885cd3bf3e1303c7,"Correcting some offset/length bugs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409674 13f79535-47bb-0310-9956-ffa450edef68"
9f547f832987e7d5ec07bac372f86ddcc4dd9a2f,"Moving Roller UI jsp files under WEB-INF/jsps directory.  This causes the need for a couple additional modifications ...

- moved editor/* rte files to new location under roller-ui
- moved tags/* tag and calendar widget files to new location under roller-ui
- small edit to WeblogEdit.jsp to look for entry editors in new location
- small edit to theme/head.jsp to point to new location for calendar.js
- small edit to DateTag.java to point to new location for date.jsp
- update to rte-editor.jsp to point to new location of rte editor files
- update to midas and wiki editors to point to new location for their html files



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409701 13f79535-47bb-0310-9956-ffa450edef68"
2561933cc24372367a72b926ce99974a92160a40,"removing old ekit.css and keepalive.jsp files.
moving dstest.jsp to new location under roller-ui/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409705 13f79535-47bb-0310-9956-ffa450edef68"
3050358f468667d6130d77136406db35d8e85950,"Fixed reference to old getWebsites() signature

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409719 13f79535-47bb-0310-9956-ffa450edef68"
00844eb6c09a1e4d28b087f255914d8ba76fa8ec,"Moved planet JSPs under WEB-INF and fixes bugs caused by Atlas work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409724 13f79535-47bb-0310-9956-ffa450edef68"
5c3fef7886fa39bea29bebbfe12e06c7fceefd5e,"Moved planet JSPs under WEB-INF and fixes bugs caused by Atlas work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409731 13f79535-47bb-0310-9956-ffa450edef68"
ce86195bbbd8a15ce52da9522bf6ef647809272c,"moving the rest of the tiles layout jsps under WEB-INF/jsps/tiles/
also moved the main page jsps under WEB-INF/jsps/admin/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409779 13f79535-47bb-0310-9956-ffa450edef68"
9716908d0ec4b59ce5570b4f002796f8a7cd6086,"moving all midas editor resources to roller-ui/authoring/editors/midas/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409781 13f79535-47bb-0310-9956-ffa450edef68"
a53f61d3b9973be75a1e0a2d09168201af0cf81d,"moving authoring/admin UI themes to roller-ui/theme/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409782 13f79535-47bb-0310-9956-ffa450edef68"
46cc921b8fcb5432b000c47a15f59d13cd02c243,"removing unused directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409783 13f79535-47bb-0310-9956-ffa450edef68"
55acfb64fabe8e8b797e5dd78a7d392d7c5b58e8,"moving theme preview images to roller-ui/authoring/preview/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409786 13f79535-47bb-0310-9956-ffa450edef68"
e93f9bdcb95f664bab9b820bcd5cd6b1d4d09f75,"Tests in trunk now compile without error, but don't match new package structure

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@409830 13f79535-47bb-0310-9956-ffa450edef68"
410ba38c7fd7d02b38b1d736d0f0e386e59edfb9,"Russian translation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@409910 13f79535-47bb-0310-9956-ffa450edef68"
2b77035fd6008be39b53de90025c1d504b4240be,"Russian translation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@409911 13f79535-47bb-0310-9956-ffa450edef68"
2963e6456f51332e0ae31d3019f9ccf523735376,"New Atlas front page queries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410272 13f79535-47bb-0310-9956-ffa450edef68"
5191884890990f5a145b2d65b394263cd878a757,"More work on Atlas frontpage queries and new page models

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410494 13f79535-47bb-0310-9956-ffa450edef68"
35691a9562f3e74ad7ea37f23677758e62dd3c9e,"Ongoing Atlas frontpage dev: page models and query refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410925 13f79535-47bb-0310-9956-ffa450edef68"
a8bb559058ee0bad55358b071441b7cccf7e678a,"Ongoing Atlas frontpage dev: page models and query refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410926 13f79535-47bb-0310-9956-ffa450edef68"
036312093a392b95155fd6e070c5f5d90c224fa1,"Ongoing Atlas frontpage dev: page models and query refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410927 13f79535-47bb-0310-9956-ffa450edef68"
0fba8241906a12f7dff07d805f6b7d7510bebb57,"Ongoing Atlas frontpage dev: page models and query refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@410928 13f79535-47bb-0310-9956-ffa450edef68"
b6f0dda89de1841532b2a2bc3d578740c49c61aa,"Ongoing Atlas frontpage dev: page models and query refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411807 13f79535-47bb-0310-9956-ffa450edef68"
b5e89b234609e519b1084e14c5e126c2ea6cad11,"Atlas theme: putting it here until a better home is found

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411808 13f79535-47bb-0310-9956-ffa450edef68"
e5a169a9ef2c1ec58945258074da5b54127b86ab,"Small fixes to prototype Atlas theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411838 13f79535-47bb-0310-9956-ffa450edef68"
bd0c4d4436d03b0f9eb722beb89d67c56b549e47,"Don't use underbars in links when loading themes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411839 13f79535-47bb-0310-9956-ffa450edef68"
22131b9103d3b7500f8a2aa2c6dad6b630ce2dec,"Small fixes to prototype Atlas theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411840 13f79535-47bb-0310-9956-ffa450edef68"
2120eca9247ee6385881ba72049f7b1f72079276,"Small fixes to prototype Atlas theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@411869 13f79535-47bb-0310-9956-ffa450edef68"
c5d648ed45e8bbcad761bc202bf42e9496e74625,"Removing WeblogEntry interface, fixing 1.4.2 compile problems

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412521 13f79535-47bb-0310-9956-ffa450edef68"
6821c0259bdea49c64a2032e6177f019d4b43bca,"UserManager.getWebsites() has changed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412548 13f79535-47bb-0310-9956-ffa450edef68"
24f46f43c06736384d9e0989f8b520735248d2aa,"moving the rest of the various UI files left under /theme/* to their new locations under /roller-ui/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412550 13f79535-47bb-0310-9956-ffa450edef68"
510592eceeec50e969f63c2dc8f1c79d0640907d,"Introducing PageModel interface

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412777 13f79535-47bb-0310-9956-ffa450edef68"
62b636048fd5198e17927de79e5ded415e6aa449,"Fixed permalink problem and removed PermissionsData wrapper as suggested by AG

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412838 13f79535-47bb-0310-9956-ffa450edef68"
97a2097f0ccdd68203ea1f4e3857fb4781a999d6,"relocating our velocity files to the directory /WEB-INF/velocity/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412865 13f79535-47bb-0310-9956-ffa450edef68"
9f6b8904551f2d187937a929f85ecea1500de351,"another couple changes that are part of the moving of velocity templates to /WEB-INF/velocity/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412877 13f79535-47bb-0310-9956-ffa450edef68"
d33e2da639e914e4b4776e51a9060b006ceab281,"we don't need this dummy file with svn.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412889 13f79535-47bb-0310-9956-ffa450edef68"
19d085d54585e33f3c7fa5104309b6b70ccccf1d,"we don't need this dummy file with svn.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412890 13f79535-47bb-0310-9956-ffa450edef68"
a0ea812a804901a5358815f7344783c10f92ac27,"removing ant call which adds an empty ""resources"" dir to the webapp context since we don't encourage that anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@412891 13f79535-47bb-0310-9956-ffa450edef68"
899309d4cc3237e5fedc0ad76aec3d813da7cb63,"Unpack wiki first, then build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413117 13f79535-47bb-0310-9956-ffa450edef68"
5e74797897e49851d7f60e182ac569577217e9e0,"Scripting experiments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413127 13f79535-47bb-0310-9956-ffa450edef68"
ee0a391cae62798b569dceb3eb96228849aa10c8,"Updating for new package names, backend refactorings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413130 13f79535-47bb-0310-9956-ffa450edef68"
035ab54b4b921e9be2ebc9aa025c16ea75392dde,"create, delete and list user work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413136 13f79535-47bb-0310-9956-ffa450edef68"
5b427ca557474f200b4852f3da04e038bf3140a2,"moving the login and logout urls under /roller-ui
made them both struts actions as well.
jsps were moved under WEB-INF/jsps



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413160 13f79535-47bb-0310-9956-ffa450edef68"
35369c9980e26b2638b96287af13e25df76eb5b6,"updating robots.txt file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413161 13f79535-47bb-0310-9956-ffa450edef68"
90acdcc18f2722c93c538ebc5e456ec8e3e8a255,"reverting a couple pieces to the login/logout pages relocation.  for some reason it was causing an issue with the struts config, so backing it out until that's resolved.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413542 13f79535-47bb-0310-9956-ffa450edef68"
701fd56e05fd13fd69d4d86b71701ae52da9afb5,"moving all the old /editor/* struts actions to /roller-ui/authoring/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413725 13f79535-47bb-0310-9956-ffa450edef68"
c438dad6e799a1537abff2c3bf77de45caae37c3,"move /admin/* struts actions to /roller-ui/admin/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413736 13f79535-47bb-0310-9956-ffa450edef68"
1601d592641e5f5d28be455c256ce6960656e8ff,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413748 13f79535-47bb-0310-9956-ffa450edef68"
18a21c75c927a2c5fb8ebcb984362ad55f11648d,"moving a few struts actions which are not part of weblog authoring into the ui.core.struts.actions package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413754 13f79535-47bb-0310-9956-ffa450edef68"
73266d7497764ab5329302d519d106f28dcca753,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413759 13f79535-47bb-0310-9956-ffa450edef68"
407912cfbb64d558f1d606b30fce8adcc6aaab12,"final bits of roller ui reorg.  moved core UI actions under /roller-ui/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413767 13f79535-47bb-0310-9956-ffa450edef68"
12691c34eda401e462102ba317773af642b4ef53,"No POJO wrapper for PermissionsData

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@413938 13f79535-47bb-0310-9956-ffa450edef68"
18e81ac9e4a5e6cbb922b26f044cf0bff5c3423f,"move Velocity initialization outside of servlet init and into RollerContext.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414311 13f79535-47bb-0310-9956-ffa450edef68"
3edd88d71a29f454b17af0d550a7a4d13c2dfab1,"first commit for new code that supports rendering engine plugability.

- modified ContextLoader and various other related classes to use a Map for loading the model/context rather than a velocity Context object.

- added new interfaces and implementations for Rendering.

- added new CachedContent caching util class for caching rendered output.

- unmapped old flavor and page servlets and added replacements.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414313 13f79535-47bb-0310-9956-ffa450edef68"
2a228b5e840ee19cd6fd91474fe86bf959faa806,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414394 13f79535-47bb-0310-9956-ffa450edef68"
220b781c322c73ccc87087bc9724ec396d3c2b9d,"a little cleanup of the CommentAuthenticators.  revisted CommentAuthenticator methods to only accept HttpServletRequest as a param, other parameters are not needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414396 13f79535-47bb-0310-9956-ffa450edef68"
e2273bf0166df9f5b18d7d67b5430018dba38b21,"update comment servlet and comment authenticator servlet with changes to CommentAuthenticator.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414397 13f79535-47bb-0310-9956-ffa450edef68"
95fd016fa2af62f68c8c090a29a5e75febb9b1ae,"move comment authenticator classes under ui.rendering.util package.  they don't have anything to do with velocity.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414400 13f79535-47bb-0310-9956-ffa450edef68"
d1dc694c472d501c8a19c15b174f49032f5ff364,"move PageModel classes into their own package under ui.rendering.model.  again, these classes are no longer velocity specific, so this makes more sense.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414403 13f79535-47bb-0310-9956-ffa450edef68"
1e2987faa90f224d419a1d08532e11ed3d7756c1,"adding new RSDServlet using new rendering backend, unmapping old RSDServlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414414 13f79535-47bb-0310-9956-ffa450edef68"
2019d0058c3111087a4256f113c205db1c2a97be,"adding in RendererManager class for governing the rendering system.

- added RendererManager class.
- modified servlets (page, feed, rsd) to use RendererManager.
- tweaked RendererFactory interface to not throw exception from getRenderer().
- renamed RollerRendererFactory to VelocityRendererFactory.
- added new static config properties for specifying renderer factories.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414421 13f79535-47bb-0310-9956-ffa450edef68"
b900f49e64b3290996ea18720bc1f79fc821e4fd,"move VelocityRendererFactory to ui.rendering.velocity where it belongs.  also added some apache license files that were missing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414422 13f79535-47bb-0310-9956-ffa450edef68"
e30e851109fac3c0be411aadc03cef6dc372492b,"adding apache license.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414424 13f79535-47bb-0310-9956-ffa450edef68"
57b59e87e882590967363cd802223bdaf9535734,"updating comment authenticator classname.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414425 13f79535-47bb-0310-9956-ffa450edef68"
386e5f0b108a1e0462ea6e097a4c76f3b68baff2,"adding apache license and turning down some logging.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414426 13f79535-47bb-0310-9956-ffa450edef68"
c31395a59e00b8f74dc89bcd4f443e9316825b25,"unmapping old weblog page and feed cache filters.  this is being handled in the new PageServlet and FeedServlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414427 13f79535-47bb-0310-9956-ffa450edef68"
086a349e57c1f1313cdfff8d1e7775d620e05cd6,"new version of preview servlet using new rendering system.  unmapping old preview servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414668 13f79535-47bb-0310-9956-ffa450edef68"
e31f63669cd20273bcc058d90619f87ce4ec7f15,"moving deprecated old velocity ContextLoading classes to their own package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414682 13f79535-47bb-0310-9956-ffa450edef68"
3b456efb6fdd66eb7cf81e48a4a5463c4d169460,"renaming deprecated weblog page model to OldWeblogPageModel, just to make it totally obvious that it's the old and deprecated version.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414684 13f79535-47bb-0310-9956-ffa450edef68"
6757d7ef42edf95c75960b16b828a2948918b391,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414687 13f79535-47bb-0310-9956-ffa450edef68"
e17434412fc9c5e5f703a0bc7724520b72233a41,"first pass at plugin architecture cleanup.

- renamed PagePlugin to WeblogEntryPlugin
- modified WeblogEntryPlugin interface methods to not require velocity context.
- removed and consolidated some methods. 



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414704 13f79535-47bb-0310-9956-ffa450edef68"
c0468175a5b6f447a40aafbcbf3f80083a5a377b,"rename PagePluginManager to PluginManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414705 13f79535-47bb-0310-9956-ffa450edef68"
e606b8a8242d31536bb106ba5747612bce0fdd2d,"tidying up PluginManager methods.

- renamed createAndInitPagePlugins() to getWeblogEntryPlugins()
- renamed applyPagePlugins() to applyWeblogEntryPlugins()



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414707 13f79535-47bb-0310-9956-ffa450edef68"
7049da2f121f8177a84647e0cff102d3af4678bc,"for now we still need to have the OldWeblogPageModel as the default model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414708 13f79535-47bb-0310-9956-ffa450edef68"
ac31fe6e766c2bd43c41ab72cded999c165d094a,"Move deprecated macros out of way, added stubs for new page models

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414838 13f79535-47bb-0310-9956-ffa450edef68"
183a0fd30e9826743ed3b4ff5d83abc92e26a717,"fixing permalink urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414908 13f79535-47bb-0310-9956-ffa450edef68"
d89627974ce1c8b88a19c56b3113de04c2197136,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414918 13f79535-47bb-0310-9956-ffa450edef68"
a147d3e18bbf9da7e769a1e048055643d23fcc07,"deprecating old read more plugin.  it no longer does anything.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414963 13f79535-47bb-0310-9956-ffa450edef68"
f03b218a70c52455d25956f78ff4341f3ddd3891,"some small tweaks to velocity rendering system.

- velocity renderers now lookup the velocity template at construction time and throw an exception if they can't find the template via velocity.
- velocity renderers now have debugging which times how long rendering takes.
- removed search for decorator by custom name from VelocityWeblogPageRenderer.  there didn't appear to be any way for that to be possible, so i ditched it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@414964 13f79535-47bb-0310-9956-ffa450edef68"
f84f03c81dc0660684b5df00c3c97b4391384680,"correct path to HSQLDB script

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415131 13f79535-47bb-0310-9956-ffa450edef68"
6726407b88e4f0acfa13c1d3e7bb9dd3aeb0649e,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415230 13f79535-47bb-0310-9956-ffa450edef68"
f6de392f8227e598264b5f3f3aec2b09bc3c1528,"moving xmlrpc servlet endpoint from /xmlrpc to /roller-ui/services/xmlrpc as part of the new urls structure.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415231 13f79535-47bb-0310-9956-ffa450edef68"
c0985ba3c1a9d8a71c8ccbb6707b529dadd4ac0c,"new request mapping classes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415241 13f79535-47bb-0310-9956-ffa450edef68"
1a39ac8004fd2b8d7d9bbfd4ec197de489c361f4,"Until we have a planet module, let's group the planet tasks with the other tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415326 13f79535-47bb-0310-9956-ffa450edef68"
adb786951964032610ac1628716b575a86e646b1,"Meant to move only tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415366 13f79535-47bb-0310-9956-ffa450edef68"
11ecfd6b0c60709dba31e4e2265136800bbb7dc4,"Meant to move only tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415368 13f79535-47bb-0310-9956-ffa450edef68"
029bf18ea456da7410d287b4ebcbbe173bc5eb54,"new request mapping filter.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415377 13f79535-47bb-0310-9956-ffa450edef68"
1a5ed030f129bc553ccefbe69eeab59d9abae572,"removing old feed and page cache filters.  304 checking and content caching are now handled directly in the new feed and page servlets.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415378 13f79535-47bb-0310-9956-ffa450edef68"
afc081fd97789d3622c126fcb628fbb2ccea5ba5,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415446 13f79535-47bb-0310-9956-ffa450edef68"
bdf0c13181f101372e6b3099b6a89d3a47dd8dc9,"Summary of changes in this commit


*** Introduced new field website.pageModels

But currently, there is no UI for setting it (that's coming next).


*** Introduced new PageModel implementations

These have had almost no testing (that come next too).
   ConfigPageModel
   WeblogPageModel


*** Introduced new macro files

Some goes for the new macro files:
   weblog.vm
   site.vm


*** Added new configuration properties

These are the new startup config properties:
   frontpage.weblog.handle=main
   frontpage.weblog.aggregatedFeeds=true
   rendering.sitePageModels=
   rendering.weblogPageModels=


*** Added model selection logic in new class ModelLoader

There may be a more appropriate home for this code, but for now it's 
all in one static helper class.

    loadFeedPageModels()
       if velocity.pagemodel.classname defined then
          call old context loader
       if (weblog.handle == frontpage.weblog.handle 
           && frontpage.weblog.aggregatedFeeds == true
          create rendering.sitePageModels
       else 
          create rendering.weblogPageModels
       create UtilitiesPageHelper
       create weblog.pageModels

    loadPageModels()
       if velocity.pagemodel.classname defined then
          call old context loader
       create rendering.weblogPageModels
       create UtilitiesPageHelper
       create CalendarPageHelper
       create MenuPageHelper
       create weblog.pageModels


*** Cleaned up various utilities classes

Created new utilities class, NOT for use in templates:
- org.apache.roller.util.Utilities

Created new utilities page helper for use in Atlas templates:
- org.apache.roller.ui.rendering.model.UtilitiesPageHelper

Move old utilities class to:
- org.apache.roller.ui.rendering.velocity.deprecated.OldUtilities
- Extends the UtilitiesPageHelper class
- Move essential methods up to UtilitiesPageHelper so Atlas gets them
- Moved unncessary methods (e.g. copyFile) to new Utilities class

Moved StringUtils to:
- org.apache.roller.ui.rendering.velocity.deprecated.OldStringUtils
- Replaced all calls to OldStringUtils with calls to Commons StringUtils



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415691 13f79535-47bb-0310-9956-ffa450edef68"
c1f088c6c5bcbac3c72475042a6f9590f3c548ed,"Files that failed to commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415699 13f79535-47bb-0310-9956-ffa450edef68"
461a1384e5b041ae0461fdec41a1eb63bdd94c7d,"Not sure what went wrong in commit, but the trimmed down utilities class was deleted

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415713 13f79535-47bb-0310-9956-ffa450edef68"
ebc3fdd48860b9afbaf2bf9e20662912dc89dbb8,"New PageModel interface and refactored ModelLoader to remove RollerRequest

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415746 13f79535-47bb-0310-9956-ffa450edef68"
5cae3da4f38543741b54ea5366974303a42a7296,"delete old preview, rsd, and flavor servlets.  they have been completely replaced with new servlets using the new rendering system.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415750 13f79535-47bb-0310-9956-ffa450edef68"
a392c83d9756fb572536d3d8832759da5a213bd3,"Moving model selection logic out of ModelLoader

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415761 13f79535-47bb-0310-9956-ffa450edef68"
deca15ca10b97e1190dd8c0b07a4eea7b0eb117f,"oops, forgot the ConfigPageModel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415762 13f79535-47bb-0310-9956-ffa450edef68"
39123e29bd8cf45ea600c7ff21ee79ce956e6513,"Upgraded to Acegi Security (1.0 with fixed Spring 2.0 dependencies) and Spring 1.2.8


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415763 13f79535-47bb-0310-9956-ffa450edef68"
a1ce43af77028eca16c2c42f602c7d06fecedae5,"Be consistent about no-limit indicator, plus allow nulls for pageModels field

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415776 13f79535-47bb-0310-9956-ffa450edef68"
a4b5af29326ce7c1e3da70e5ff94d2274fab0fcf,"Consistent use of 'URL' in property names, introduced WeblogEntryPluginHelper and misc. tweaks needed for new feed templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415814 13f79535-47bb-0310-9956-ffa450edef68"
b7e3afec5791aaa6b499e35d99f038fb9bd29253,"Consistent use of 'URL' in property names, introduced WeblogEntryPluginHelper and misc. tweaks needed for new feed templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415819 13f79535-47bb-0310-9956-ffa450edef68"
d84c506f1f73cc029640fc941e1abdf616f14be6,"Consistent use of 'URL' in property names, introduced WeblogEntryPluginHelper and misc. tweaks needed for new feed templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415822 13f79535-47bb-0310-9956-ffa450edef68"
6aec15101fc3613aed991b5b5d5e097301232717,"removing defunct export rss code, we'll revisit this in a little bit.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415858 13f79535-47bb-0310-9956-ffa450edef68"
d2271fb706a0bbbec4ad1311863d24736ef2baf7,"updates to weblog request mapping logic.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415859 13f79535-47bb-0310-9956-ffa450edef68"
015a60acef82769ebd57bf539cb1842ae437b140,"starting to refactor rendering code to remove dependency on RollerRequest.

- weblog calendar tags no longer need RollerRequest.
- OldPageHelper has minimal dependencies left.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415871 13f79535-47bb-0310-9956-ffa450edef68"
05299c4238138cffcc8347d4c5253e7573f85834,"adding 2 new convenience methods for determining if a weblog handle is the frontpage weblog and if that weblog is rendering site-wide data.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415880 13f79535-47bb-0310-9956-ffa450edef68"
6dfb2fd90db1f00221ba580b781ed07341d8664a,"updating FeedServlet and WeblogFeedRequest to Roller 3.0.

- updated feed request parsing for new urls
- removed all traces of RollerRequest
- removed support for old user override templates _rss and _atom
- removed old context loading stuff

NOTE: this currently breaks feed renderings until new velocity templates are created for rendering feeds using Roller 3.0 models.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415882 13f79535-47bb-0310-9956-ffa450edef68"
c134555ce2e05f8a8dcaa3ba1aef0751ed4e96d0,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415883 13f79535-47bb-0310-9956-ffa450edef68"
c005c650ca0ea43b8fdf0f2a68ba933cc2840d53,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415884 13f79535-47bb-0310-9956-ffa450edef68"
ea31bc33ffe01aaab61c82fa3e5987a77664f4ee,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415885 13f79535-47bb-0310-9956-ffa450edef68"
516b7ace92b638ca4611bd4a3be8d2ab35760813,"moving all the various parsed request util objects into ui.rendering.util since they are specific to the rendering system.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415888 13f79535-47bb-0310-9956-ffa450edef68"
8cea75d2c18555a6cd0d7a81a889f64894f56758,"removing old export velocity templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415889 13f79535-47bb-0310-9956-ffa450edef68"
f0dd77c299de75ebc4fb936f77b928e4da490a99,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415890 13f79535-47bb-0310-9956-ffa450edef68"
8486bb728a4745fe49730e3ef0fbd1c21a51321c,"this was supposed to extend UtilitiesHelper, but I think it's preferrable if this class is kept separate from the new model classes, so i've copied the old methods.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415904 13f79535-47bb-0310-9956-ffa450edef68"
d149d0810a2a8e958929df5fa233f48c8241fcc5,"continued work to try and isolate old context loading stuff and EOL RollerRequest.

- new WeblogPageModel cannot be named ""page"" because it conflicts with existing object.

- old page model should not be tied together with new model stuff, we'll just keep it separate and isolated from ongoing work with the new model code.

- updated old ContextLoader and removed most references to RollerRequest, still a little bit to go though.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415905 13f79535-47bb-0310-9956-ffa450edef68"
9023e41f8d8448ab54d06c3487af8bb2878188ee,"feed template ids need to start with ""templates/feeds/""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@415906 13f79535-47bb-0310-9956-ffa450edef68"
390cfc0bf609a21d43aa4d31ebbbf12a3a76d973,"First cut of feed templates, I'm still working on them

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416008 13f79535-47bb-0310-9956-ffa450edef68"
e19e0532e8cbf86b38f6a15650dac38cb81ac4a2,"First cut of feed templates, I'm still working on them

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416009 13f79535-47bb-0310-9956-ffa450edef68"
9f6ed33c80f8949719c2a28bb9128aefd7f8b579,"First cut of feed templates, I'm still working on them

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416010 13f79535-47bb-0310-9956-ffa450edef68"
7ad89a65b7f247f2b8011495a2f3997b88439f64,"consolidating uses of RollerRequest, almost ready to be EOLed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416066 13f79535-47bb-0310-9956-ffa450edef68"
e23d855807690d5a6ec9c476062910ac521819c3,"more RollerRequest consolidation, nearing EOL now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416075 13f79535-47bb-0310-9956-ffa450edef68"
a69ccaaafd9b023924a7d950fc9fbca48fe32db4,"almost done with RollerRequest cleanup, OldPageHelper and OldWeblogPageModel are now clean of RollerRequest and ContextLoader is almost there.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416091 13f79535-47bb-0310-9956-ffa450edef68"
34a00d20c9bcc7acd1b3169a4f7865012f313bf4,"Ongoing dev: Ripped RollerRequest out of WeblogPageModel, now use name , plus feed template improvements (still not quite done)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416103 13f79535-47bb-0310-9956-ffa450edef68"
ba46768d997db98a13e3e6bd649e815e8cc10dfe,"- created new WeblogPreviewRequest for parsing preview requests
- updated PreviewServlet to rip out RollerRequest
- made some tweaks to ModelLoader methods to make them more generic
- updated Page, Feed, and Preview servlets to adjust to ModelLoader tweaks



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416157 13f79535-47bb-0310-9956-ffa450edef68"
bafd82b46afb9d8a57e9cec84ed609b991647154,"removing empty StringUtils file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416234 13f79535-47bb-0310-9956-ffa450edef68"
1585e127357d0e48bafa8744c0fe63663c688adb,"removing RollerRequest from PageServlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416282 13f79535-47bb-0310-9956-ffa450edef68"
a1df5e609a13551544fbb06a698db77e6e92819d,"deleting old and defunct foaf servlet and adding a new skeleton replacement.  we'll finish the implementation of the new one a bit later.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416286 13f79535-47bb-0310-9956-ffa450edef68"
dd0a048759407da71763b80328259b8b00085daf,"Weblog entry and comment feeds working well now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416446 13f79535-47bb-0310-9956-ffa450edef68"
961398b31ba33b0e52ab06f75a0ab52c02862c84,"Weblog entry and comment feeds working well now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416450 13f79535-47bb-0310-9956-ffa450edef68"
fdac064ddd2995320fe511714b36cf7a64e6f707,"Separated weblog model into page model and feed model, renamed PageModel to RenderModel, still more work to do on pagers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416464 13f79535-47bb-0310-9956-ffa450edef68"
1402db648ffb4ff20caae1873f7117472cd80f39,"Separated weblog model into page model and feed model, renamed PageModel to RenderModel, still more work to do on pagers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416467 13f79535-47bb-0310-9956-ffa450edef68"
fcfd3b768923e132b2824991fb1ac54e2e05b782,"Oops, didn't mean for the feed model to extend the page model

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416470 13f79535-47bb-0310-9956-ffa450edef68"
6df319aa88697eac9f0829ff823a7f1bfeb4823f,"- added default constructors and mutator methods to some parsed request objects so that they can be used to represent a request without actually having to parse a real request object.

- added new parsed search request object



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416524 13f79535-47bb-0310-9956-ffa450edef68"
3ac6843e921746ec398d11ed5dc090948f1eb218,"- adding PageContext to old ContextLoader.setupContext() method params, can't rely on RollerRequest.getPageContext().

- added new loadSearchModels() method to model loader.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416526 13f79535-47bb-0310-9956-ffa450edef68"
1a7096bb9a5b9dc4288815229a416a9d3d60319b,"changing PageRenderModel init() method to expect a ""pageRequest"" object as part of its init data rather than having it construct that itself.  this is better because it isn't actually reliant on the servlet request object. 



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416531 13f79535-47bb-0310-9956-ffa450edef68"
1b5aa3f57c26aa26a03a5e491d0eecb263e73a48,"deleting old search display classes and adding in new search servlet with it's own search results model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416532 13f79535-47bb-0310-9956-ffa450edef68"
6026ce145ac3cce6b0c8fd4b38bcda29cee26b13,"- modifying FeedRenderModel to expect a ""feedRequest"" in its init data and removed knowledge of servlet request.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416534 13f79535-47bb-0310-9956-ffa450edef68"
f9d28ea1793f14edea69babe23cf724aa9814269,"a little bit of logging cleanup.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@416535 13f79535-47bb-0310-9956-ffa450edef68"
5641e8176305fb6c9301f97f49ee40b2a4395a24,"Upgraded to official 1.0.1 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417026 13f79535-47bb-0310-9956-ffa450edef68"
652f90fff132e7800e96d01b5415d0ace10a3b33,"Summary of changes in this commit

*** Introduced the RenderDayPager interface

New interface defines pager for collections that are 1) organzied as a map
of lists where each map represents one day and 2) part of a sequence of 
collections. Created a weblog entry specific implementation called 
WeblogEntriesPager which encapsulates all of the next/prev logic from the 
old PageModel for main, single-entry, day and month modes.

*** Simplified PageRenderModel

PageRenderModel no longer provides pager methods, instead it returns a 
WeblogEntriesPager. Plus, I added to PageRenderModel simple methods for getting 
most recent 100 entries or comments suitable for side-bar displays to recent 
weblog activity.

*** Elimiated WeblogPagePluginHelper class

Replaced it with methods in WeblogEntryData getTransformedText() and 
getTransformedSummary(). Per-request caching of initialized plugins is done 
by the WebsiteData object.

*** Made front-page properties into runtime properties

   site.frontpage.weblog.handle
   site.frontpage.weblog.aggregated

*** Cleaned up presentation-side of unit tests

Removed unnecessary tests and other classes, refactored away old RollerTestBase
class and made all of the test work again against the 3.0 code base.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417044 13f79535-47bb-0310-9956-ffa450edef68"
35759d2c587c40cd5d4089093ce2beaa0bb7dc27,"Summary of changes in this commit

*** Introduced the RenderDayPager interface

New interface defines pager for collections that are 1) organzied as a map
of lists where each map represents one day and 2) part of a sequence of 
collections. Created a weblog entry specific implementation called 
WeblogEntriesPager which encapsulates all of the next/prev logic from the 
old PageModel for main, single-entry, day and month modes.

*** Simplified PageRenderModel

PageRenderModel no longer provides pager methods, instead it returns a 
WeblogEntriesPager. Plus, I added to PageRenderModel simple methods for getting 
most recent 100 entries or comments suitable for side-bar displays to recent 
weblog activity.

*** Elimiated WeblogPagePluginHelper class

Replaced it with methods in WeblogEntryData getTransformedText() and 
getTransformedSummary(). Per-request caching of initialized plugins is done 
by the WebsiteData object.

*** Made front-page properties into runtime properties

   site.frontpage.weblog.handle
   site.frontpage.weblog.aggregated

*** Cleaned up presentation-side of unit tests

Removed unnecessary tests and other classes, refactored away old RollerTestBase
class and made all of the test work again against the 3.0 code base.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417045 13f79535-47bb-0310-9956-ffa450edef68"
4c454fc3d2d671a4d25fae9abe4940c808a32b36,"oops, some JDK1.5 stuff crept in

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417047 13f79535-47bb-0310-9956-ffa450edef68"
d160fd73d7af2fccb7f802920412eb8aa80c85a1,"added wrapper for single entry and some comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417114 13f79535-47bb-0310-9956-ffa450edef68"
7f320cbcd021915d0d6bddfd9c8bf77c10565da6,"Removing accidental copy of file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417177 13f79535-47bb-0310-9956-ffa450edef68"
6f39742561801413b118383305ba3e3cc55354c4,"site.frontpage.aggregated is a boolean

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417179 13f79535-47bb-0310-9956-ffa450edef68"
33eda471ba2769f601c269937caa8083df558b37,"remove RollerRequest from old context loading.  finally :)




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417632 13f79535-47bb-0310-9956-ffa450edef68"
2eae99c4ed422ef7e4961c99a30b2c41a8adfc1d,"moving first batch of servlets to new urls and enabling request mapping to support new url structure.

- updated servlet endpoints for most content rendering servlets

- updated various parsed weblog request objects to make better use of object hierarchy and to keep up with urls supported by new url structure

- some minor tweaks to weblog request mapper

- updated filter mappings to enable request mapping filter

NOTE: this commit will break a lot of urls for existing weblog pages because we still need to go in and update the way urls are constructed so that they are formed using the new url structure, that will happen soon.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417633 13f79535-47bb-0310-9956-ffa450edef68"
664fe83ba85cacaa4bd93a847fcf945e4e866df5,"removing old language and page servlets, they are no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417634 13f79535-47bb-0310-9956-ffa450edef68"
8168d4c2b8f47e279bb476e308316205108a609f,"moving old comment servlet into the velocity deprecated package which is where we'll put all of our redirect servlets moving forward.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417635 13f79535-47bb-0310-9956-ffa450edef68"
a8a9cc44d29594d65226acfe283833597cc53789,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417639 13f79535-47bb-0310-9956-ffa450edef68"
54c5c501e0d987ab19c5efbf6b9474789dd458ef,"a little code tidy up.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417640 13f79535-47bb-0310-9956-ffa450edef68"
ab56929886c0957cbef70d4409069781ceb577b5,"a couple tweaks to start supporting new permalink urls

- changed weblog entry pojo getPermaLink method to return new urls

- updated showCommentsForm() macro to post to new url



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417659 13f79535-47bb-0310-9956-ffa450edef68"
d9468632cb3b10105d734740c469ca00927ca79a,"adding support for comment posting in new url scheme.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417660 13f79535-47bb-0310-9956-ffa450edef68"
767e7fabf9e5279ad115e1c42aacdbf58e8b9795,"added new parsed object for weblog comment request and updated comment servlet to make use of it.

NOTE: comment servlet is still partially broken because if there is and error or status message it tries to forward to the permalink url, which won't work.  this will be fixed soon.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417661 13f79535-47bb-0310-9956-ffa450edef68"
835c5992ae8fafc6ff90b0c647b1cffd79f4c742,"fixing up comment posting process so that we can properly dispatch requests from the comment servlet to page servlet for rendering.

Comment posting is now working properly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417818 13f79535-47bb-0310-9956-ffa450edef68"
00d2fafc61bebed6d68fb323e74141d9be911c33,"a little bit of code cleanup.  add/remove comments, variable renaming, etc.  no functional changes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417822 13f79535-47bb-0310-9956-ffa450edef68"
2be603a761abedb2c6ef54b38e519a45ec8770a6,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417845 13f79535-47bb-0310-9956-ffa450edef68"
bd06c61bc1034ac52ec527846168916555a0281c,"fixing up situation with absolute url.

- added a new InitFilter which inspects its first incoming request and sets the application absolute and relative urls in our config.

- removed context.absPath from being set in RollerConfig and moved it to RollerRuntimeConfig so that we can have a single place for extracting it.

- cleaned up getAbsoluteContextUrl() methods in RollerContext to just use RuntimeConfig absolute url property.

- cleaned up WeblogEntryData and WebsiteData to just use RunctimeConfig absolute url property.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417854 13f79535-47bb-0310-9956-ffa450edef68"
1fb4d7dcc9f428e3bea6e4aac80cb603fcf6e744,"move servlet mapping for trackback servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417868 13f79535-47bb-0310-9956-ffa450edef68"
85edf6c32e3b8dfa1023354c4300fec834a338a5,"first pass at cleaning up the way we construct urls.

- introduced new method getAbsoluteURL() in WebsiteData so we now how a method for getting the absolute or relative url to a weblog.

- searched and replaced various places where urls were manually being constructed using /page/ and replaced it will a call to the appropriate getURL() method in in WebsiteData.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417869 13f79535-47bb-0310-9956-ffa450edef68"
0cbd398750204f2093c740f5e1cccb21480d9209,"a bit more cleanup work on old context loader.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417872 13f79535-47bb-0310-9956-ffa450edef68"
02b851aba31928f8feae2a883d9e4304ca32f382,"adding in a quick comment to note that we need to remove reliance on RollerRequest before 3.0



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417875 13f79535-47bb-0310-9956-ffa450edef68"
8e335d832a5d25046f61e79ad634f4255c370775,"first pass at macro changes to support new url structure.

- only updated macros to change links that display the weblog homepage url to use the WebsiteData.getURL() method instead of constructing the url manually.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@417895 13f79535-47bb-0310-9956-ffa450edef68"
946b95e47f155b786c0c9649ef651b47a021f77a,"part of Atlas work, EOLing the old main.do page and enabling the frontpage blog.

- modified the index.jsp file to forward to the frontpage blog.

- EOLed old main.do struts action, it just sends a 301 redirect now.

- removed old tiles defs and jsps for main displaying main page.

- also cleaned up old search results jsp which isn't used anymore.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418118 13f79535-47bb-0310-9956-ffa450edef68"
32b7cffd255c72041f1c6d1aa46227ff149a538e,"moving class to rendering.utils package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418144 13f79535-47bb-0310-9956-ffa450edef68"
f52f75d0d7749b5bda4231696f12eb7926d7b348,"modifying implementation of entry pager and updating page render model to use entry pager.  we now have 2 entry pagers, 1 for a single entry pager, and one for
a collection entry pager.

NOTE: these changes have not been tested yet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418161 13f79535-47bb-0310-9956-ffa450edef68"
d4624ba7fb5c9920f306345bf4c6e540b2477b3f,"removing static getWeblogEntriesPager() method and pushing that logic into page render model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418337 13f79535-47bb-0310-9956-ffa450edef68"
2ed821a8324018e2050755421dcb37405e96c76d,"a little code cleanup and adding comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418391 13f79535-47bb-0310-9956-ffa450edef68"
9cd0ca418de974a07811bd981e69013fc43f4c41,"adding hook for getContextURL() method which returns relative url base.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@418392 13f79535-47bb-0310-9956-ffa450edef68"
a7efee911fec33f66364250192a0f9fe1a19aaea,"Calendar tag/model now uses new URLs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@420840 13f79535-47bb-0310-9956-ffa450edef68"
9b1b9b802ad0b0f658d3f9b50104a9f05e08e09c,"Separate methods for big and normal calendar


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@420961 13f79535-47bb-0310-9956-ffa450edef68"
287d94118b976fa711d66ae4cd685b4130671695,"some fixes to get theme previews working again.

- modified ContextLoader.setupContext() method to accept a weblogRequest object as an argument because we don't want to expect the request to be parsed again inside this method.

- moved preview servlet to /roller-ui/authoring/preview/* since it only pertains to the authoring interface.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@420988 13f79535-47bb-0310-9956-ffa450edef68"
8286da6f896afbe08d1ebdd05926ecbf04fde7c1,"a little bit of tidy up with models.

- renamed RenderModel interface to just Model.
- renamed other model implemtation classes from XXXRenderModel to XXXModel.
- made rendering helper classes into actual Models.
- renamed the calendar and menu tag model names.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421003 13f79535-47bb-0310-9956-ffa450edef68"
aad48b679582330c827834fa583b33dbc6352287,"set content type for feeds.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421043 13f79535-47bb-0310-9956-ffa450edef68"
078f18c67c59ec6284e7d0a234c27f8eefc57470,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421047 13f79535-47bb-0310-9956-ffa450edef68"
14dad309267d8b7dd30c433eee39f4f48344384a,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421051 13f79535-47bb-0310-9956-ffa450edef68"
cbb11bb681d9516f843d129c91ffbb8f40963d86,"updating a comment.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421060 13f79535-47bb-0310-9956-ffa450edef68"
a90078c0ef56e9c4e1c2c406392dc68d9d0a8c50,"fixing extra slash in comment posting url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421061 13f79535-47bb-0310-9956-ffa450edef68"
03e247b08028fad2364b5fd5d69c433bb09bfbfb,"fixing url for trackbacks in showTrackbackUrl() macro.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421066 13f79535-47bb-0310-9956-ffa450edef68"
f4ff631ce27d82f67b5a45b0f568fc2cfc1be77c,"adding trackback support under new url structure.

- added parsed WeblogTrackbackRequest object.
- updated TrackbackServlet to use new parsed trackback request class and rip out RollerRequest.
- updated weblog request mapper to map requests to trackbacks.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421067 13f79535-47bb-0310-9956-ffa450edef68"
70e88c931753f5004b83c1ee5a7b2237f8d8d1f9,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421070 13f79535-47bb-0310-9956-ffa450edef68"
054ebcd476cfbf97b9856e453c7b2065219cd5f1,"EOLing old breadcrumbs stuff.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421313 13f79535-47bb-0310-9956-ffa450edef68"
94f24a4726081c41507943906da6721a14708bff,"moving planet feed servlet to new rendering system.  this is the last of the old velocity servlets.

- updated planet feed servlet to use new rendering system
- removed RollerRequest from planet feed servlet and use parse PlanetRequest now
- created new PlanetCache shared cache class for planet content
- removed if planet modified filter, that logic is handled in planet feed servlet now



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421320 13f79535-47bb-0310-9956-ffa450edef68"
c86262e8817e783c36ec6482204dcc0bde0a2f07,"updating planet cache filter to use new PlanetCache class.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421331 13f79535-47bb-0310-9956-ffa450edef68"
c335b5f26e58cf38c0a1e089c2794d9393f01dc1,"fixing parsing logic to allow for category urls which provide a category path, not just a category name.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421367 13f79535-47bb-0310-9956-ffa450edef68"
df5e0de1251892f43510c63f290ceda9c45f0fe7,"map the ip ban filter to comment and trackback servlets by default so that throttling can be used out of the box.  the ip ban filter has no effect unless a valid ip ban list has been specified.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421407 13f79535-47bb-0310-9956-ffa450edef68"
c5a9c1388c38a9c989972d87e2fc189a494309b7,"first pass at adding multi-language blog support.

- add new property ""locale"" to WeblogEntryData pojo.
- modified WeblogManager methods which query for entries to accept locale.
- modified all existing calls to WeblogManager entry query methods to specify a local parameter now.
- added new test case to check entry query constrained by locale.
- changed page and feed servlet caches use locale in cache key.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421468 13f79535-47bb-0310-9956-ffa450edef68"
92b5fe12a1762f81cf771f5bfe9ce374a680b5b8,"- Added new Andreas08 theme contributed by Raible and ported Andreas08 to the 
  new Atlas macros/models. 

- Reintroduced standalone pager concept, supporting latest, single-entry, 
  day and month views. Pager is now working in all four modes and preserves
  category and locale state across requests.

- Moved new WeblogManager locale parameter before offset and lenght, which
  by convention are supposed to be the last arguments in the query methods.

- Introduced new Atlas macros in WEB-INF/velocity/weblog.vm. Used comment and
  comment form code contributed by Raible.Macros implemented so far:

      #showWeblogEntriesPager($pager)
      #showWeblogEntryComments($entry)
      #showWeblogEntryCommentForm($entry)
      #showCategoryLinksList($weblog $categoryPath)
      #showWeblogEntriesLinkList($categoryPath $max)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421613 13f79535-47bb-0310-9956-ffa450edef68"
95d840517144bd30ca4c09046e2cb1eabcd8cd37,"removing old pager interface.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421709 13f79535-47bb-0310-9956-ffa450edef68"
f0960cb0ca86187b1027804770063e0eed7808ce,"tweaking parsed weblog request objects to support access to full pojos.  these methods are optional and all heavyweight data is fetched lazily to try and maintain performance.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421711 13f79535-47bb-0310-9956-ffa450edef68"
7f558bfeabf9c0209fd0010b9217018218873cb0,"second part of parsed request tweaks.  new methods that return pojos are actually filled out now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421716 13f79535-47bb-0310-9956-ffa450edef68"
62c50ba411d9cd7c3a83d408733aef608968a5dc,"updating models to better leverage functionality already provided in parsed request objects.  this makes things a bit easier by eliminating duplication of effort.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421731 13f79535-47bb-0310-9956-ffa450edef68"
d6794ff59ec0f518234918dd8aecb0af4a414618,"adding request validation to page servlet.

- if permalink is specified the entry must exist.
- if category is specified the category must exist.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421735 13f79535-47bb-0310-9956-ffa450edef68"
a737c7dab712d85c991c38f0996480e3ae89ec46,"make sure feed entry count doesn't exceed site limit.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421743 13f79535-47bb-0310-9956-ffa450edef68"
d8294b963c55c94e7af025f2084b23858fe248be,"doesn't need a page request anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421744 13f79535-47bb-0310-9956-ffa450edef68"
108f06f2fdd2c3a71a57dfd82fce8db8c7a8adb4,"making better use of page request methods.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421748 13f79535-47bb-0310-9956-ffa450edef68"
d99b21cb935ef9ecf479827d991b25d3dec5d5a3,"only add page number to cache key if the view is capable of having multiple pages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421752 13f79535-47bb-0310-9956-ffa450edef68"
e865ce82f77a63588dc1ea5ddf437d52208d4eab,"- Created RequestConstants class, moved essential constants from RollerRequest
  to this new class.

- Added ""find current weblog logic"" to BaseRollerMenu, but we really need to 
  find a more simple and consistent way to convey weblog state across all 
  requests.

- WeblogCalendarModel no longer uses RollerRequest.

- JSPs no longer use RollerRequest.

- These classes no longer use RollerRequest:
     BaseRollerMenu
     EditorNavigationBarTag
     RollerMenuModel
     BigWeblogCalendarModel
     WeblogCalendarModel



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421942 13f79535-47bb-0310-9956-ffa450edef68"
672378160514634cfc20aac25b983abb3a537d5a,"- Created RequestConstants class, moved essential constants from RollerRequest
  to this new class.

- Added ""find current weblog logic"" to BaseRollerMenu, but we really need to 
  find a more simple and consistent way to convey weblog state across all 
  requests.

- WeblogCalendarModel no longer uses RollerRequest.

- JSPs no longer use RollerRequest.

- These classes no longer use RollerRequest:
     BaseRollerMenu
     EditorNavigationBarTag
     RollerMenuModel
     BigWeblogCalendarModel
     WeblogCalendarModel



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421944 13f79535-47bb-0310-9956-ffa450edef68"
db50f80b3d7be5f3b1ceabc5b7b2f0c371c73a12,"don't allow access to the original request after parsing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421970 13f79535-47bb-0310-9956-ffa450edef68"
054efccd89bda61ff48df86aa2eb1c1609ae2b0f,"preview is actually an extension of a page, so it should be a subclass.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421971 13f79535-47bb-0310-9956-ffa450edef68"
10e565e4bf733a757625f7b21e55b3730ba60023,"couple more tweaks to fix up previewing.

- parsed preview request now supports heavyweight accessors for Theme pojo.
- preview servlet now uses heavyweight methods of preview request.
- preview servlet no longer makes ad-hoc page request for model init data, it can use a real preview request since that is now a subclass of page request.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421978 13f79535-47bb-0310-9956-ffa450edef68"
03d15750c368def19894b9f54613f1aa16462c15,"add new heavyweight method which provides a Locale instance.  the instance returned is either based on the locale specified by the request, or the weblog default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421992 13f79535-47bb-0310-9956-ffa450edef68"
f102ab548263f6784a811e4ed1e79054bfbc6038,"removing final bits that were dependent directly on request/response objects.  the calendar models are now explicitly passed in the objects they need to do their work.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@421993 13f79535-47bb-0310-9956-ffa450edef68"
90a3f9042d2ee51fbfd56ba44502b460f6665a62,"special hack for menu tag.  we are setting the parsed page request as an http request attribute in cases where the menu tag is used so that the menu tag can get access to the parsed request.  this will need to be fixed in a better fashion at some point in the future.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422001 13f79535-47bb-0310-9956-ffa450edef68"
44cafbe2339f756f89e90a280392f61ea31f80ff,"referer and compression filters need dispatcher=FORWARD to work properly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422006 13f79535-47bb-0310-9956-ffa450edef68"
d18585b97f9222f31bdd044f0dbfc9c66c420c14,"- Andreas08 no longer uses a decorator.

- The Main Menu page now uses correct URLs for weblogs.

- Moved getRecentXXX() methods from PageModel to WebsiteData and wrap them
  as pojo-collections. Made corresponding change to Andreas08 and weblog.vm.
 
- Completely reworked pager URL creation to form to most appropriate forms of
  URL, to convey all lang/cat/page-link/page-num/etc. state info and to form 
  home links.

- Still plenty more work to do on pager and Andreas08... 





git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422014 13f79535-47bb-0310-9956-ffa450edef68"
811e6478c5ce41e8732d2f67f56372636b752b6b,"adding license.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422031 13f79535-47bb-0310-9956-ffa450edef68"
729ebd00eef6b9e894e5058d148d87397b26c578,"updating search form url so that search works.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422076 13f79535-47bb-0310-9956-ffa450edef68"
9dbcc71af173fbe291745eddd27c9ed3a4843f3c,"only return entry and category if they exist.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422077 13f79535-47bb-0310-9956-ffa450edef68"
a0c9e07b07d0eb522367b72941ad1111204d0250,"finishing touches to search results model to return a pager appropriate for 3.0 rendering.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422078 13f79535-47bb-0310-9956-ffa450edef68"
9dc92345bd766bcc4c0e50b2134c7d0552b25c57,"a little more reconciliation between old models stuff and new search requests.  the search servlet now fills out a valid page request from it's info to be used by the rest of the rendering system since search requests are technically thought of as pages.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422087 13f79535-47bb-0310-9956-ffa450edef68"
3f532942d3526ca661ce1e64ccd5e1e031cb9182,"updated search form url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422088 13f79535-47bb-0310-9956-ffa450edef68"
cfdd0f89229202731c1974878a585896adc212a6,"next/previous functionality now takes locale into consideration.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422095 13f79535-47bb-0310-9956-ffa450edef68"
e307b12f9068ea6329a1d5fce70ca5694d74ad98,"removing old hacked getLastExpiredDate() method from cache manager.  this functionality has been replaced by weblog.getLastModified().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422096 13f79535-47bb-0310-9956-ffa450edef68"
8226b0de26b5da8529b52479b0767d27ed797311,"more cleanup work with absolute and relative url handling.

- reworked the way absolute and relative url are set as non-persisted runtime property.

- consolidated access to absolute and relative url to runtime config methods getRelativeContextURL() and getAbsoluteContextURL()

- removed old RollerContext methods to access absolute and relative context path.

- also moved isFrontPageWeblog() and isSiteWideWeblog() convenience methods from RollerContext to RollerRuntimeConfig.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422153 13f79535-47bb-0310-9956-ffa450edef68"
fb573deee200cdb1edb035e82a4eff0917062982,"Fixing compile problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422267 13f79535-47bb-0310-9956-ffa450edef68"
cfc330f23a1750f9b38792825b4e622eb39047b8,"just reviewing servlet code and doing a little bit of tidy up.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422274 13f79535-47bb-0310-9956-ffa450edef68"
e7d44fcdd79f3592c1f3962629e1794b681f18cf,"Fixing NPE in pager's single entry mode

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422276 13f79535-47bb-0310-9956-ffa450edef68"
6761e31c28af8aae737f25adc0078561619fa106,"Just using timestamp gives errors in a fresh postgres install - things are much happier if you use 'timestamp with time zone'. Recorded in ROL-1187

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@422505 13f79535-47bb-0310-9956-ffa450edef68"
dae676c5ae70cba1737262d409840a1d5d09ac5e,"some tweaks to cache classes for Roller 3.0

- decoupled the Cache and CacheHandler and bit.  both can be registered and used more independently of one another now.

- removed clear() and getStats() methods from CacheHandler interface.

- renamed stats() to getStats() in Cache interface, and now Cache implementations are actually expected to maintain their own stats.

- ripped out extra methods and metrics gathering stuff from page, feed, and planet servlets.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422627 13f79535-47bb-0310-9956-ffa450edef68"
18d74dc587e681334a9dcbd7415df1f75dd941f8,"Reverting mistaken change

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422708 13f79535-47bb-0310-9956-ffa450edef68"
251cd181c96d32a02eeae8719f1baaa52f00554b,"removing a couple old references to RollerRequest which are no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422767 13f79535-47bb-0310-9956-ffa450edef68"
71ac1192d77f645f0eac20ed4c4135af243b20eb,"support both 2 char and 5 char locale strings for new multi-lang blogging feature.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422884 13f79535-47bb-0310-9956-ffa450edef68"
1e46b50181ef221ee55ac727b8346c565075fd41,"new db columns for weblogentry.locale and website.enablemultilang and website.showalllangs, plus UI controls to modify these values.

- added column weblogentry.locale to store the Locale for each entry.

- added column website.enablemultilang as a boolean column which stores whether or not the weblog wants to make use of the multi-language blogging features.

- added column website.showalllangs as a boolean column which stores whether or not the default view of a weblog (no locale specified) should show all languages or only a single language.

- added getters/setters to affect these properties in WebsiteData.

- added form elements and processing logic in jsps and struts actions/forms.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422928 13f79535-47bb-0310-9956-ffa450edef68"
cd2b09c18a4a1b47004a4db5bc68399e3b175971,"if weblog doesn't support multi-language views then any url with a locale is invalid.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422929 13f79535-47bb-0310-9956-ffa450edef68"
f6b510939494d244533b7019a5d463b9b68fd65f,"moving old theme preview images to new directory since we mapped the preview servlet to that same url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422936 13f79535-47bb-0310-9956-ffa450edef68"
eb1cc99bb797f2acd9a796e2cc2eef8f4fabe1aa,"need to reconcile what to do with old configs that used PlanetPageModel.  until that's decided we need to force the use of the standard, old page model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422937 13f79535-47bb-0310-9956-ffa450edef68"
83067734ab2ddbd20de552829561ccc597a33fc4,"adding new columns to createdb file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@422938 13f79535-47bb-0310-9956-ffa450edef68"
e90074453213729dd2cbd240494322f0b5bfb9f1,"- These Roller 3.0 macros are now complete:
    #showWeblogEntryComments($entry)
    #showWeblogEntryCommentForm($entry)
    #showWeblogEntryLinksList($weblog $category $max)
    #showBookmarkLinksList($weblog $folder $expanding $subfolders)
    #showWeblogCategoryLinksList($weblog $category $expanding $subcats)
    #showPageLinksList($weblog)
    #showTrackbackAutodiscoveryRDF($entry)
    #showAutodiscoveryLinks($weblog)
    #showWeblogEntryCalendar($weblog $category)
    #showAuthorMenu($vertical)
    #includeTemplate($weblog $pageName)

  These still need some work and debugging:
    #showWeblogEntriesPager($pager)
    #showNextPrevControl($pager)

  And these remain to be done:
    #showSearchForm()
    #showSearchAgainForm()
    #showSearchSummary()
    #showSearchPager()

- Added error handling to VelocityRender and factory so that template authors
  can clearly see the parsing error that prevented their page from running.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423138 13f79535-47bb-0310-9956-ffa450edef68"
ff98eed10baa5e280738ae1d540f39a6e6647484,"a little cleanup.

- we can add back foaf stuff if we every decide to support it again.

- opml no longer supported out of the box.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423205 13f79535-47bb-0310-9956-ffa450edef68"
40cc002b28b7cf1e7d2040e655b8913bafa79dd2,"more tweaks to caching for Roller 3.0.

- wrapped rendering caches into their own classes and moved them outside of the servlets.  this minimizes the amount of caching specific code in the servlets and it provides an opportunity for multiple classes to more easily share a rendering cache.

- removed old main page cache filter and added in new site-wide cache which is used by both the page and feed servlets.

- tweaked caching props in roller.properties accordingly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423306 13f79535-47bb-0310-9956-ffa450edef68"
2ea23f4d9357d5ada174e636765e63f3dbf03716,"fixing publish to future.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423325 13f79535-47bb-0310-9956-ffa450edef68"
4a30df277038d7585be99042fd788f7fd10e132e,"need to add trailing slash to logout redirect, otherwise it doesn't work properly when app is at root context.

adding roller-ui index jsp which just redirects to the login.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423671 13f79535-47bb-0310-9956-ffa450edef68"
a14018593eae22848b04a0c646ed945d4bbe8c1d,"first stab at new url building helper model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423672 13f79535-47bb-0310-9956-ffa450edef68"
d48050ce9880533f79c204e14f255a9f14cf57ce,"- Changed list macros to take collections of items instead of querying for
  those items. Also, fixed bugs in bookmark and category macros.

- Added new macro #showCommonJavascript() for use in HTML head to import 
  common Javascript code needed for macros.

- Added I18N support in weblog entries pager and and support for displaying
  dates in the link names, but still not entirely happy with pager appearance.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423713 13f79535-47bb-0310-9956-ffa450edef68"
8f88b6c26050280fd8e12165f0c08c127cb481ae,"Andreas08 changes corresponding to last nights commit

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@423929 13f79535-47bb-0310-9956-ffa450edef68"
00230be52eeac0e45681c50afd099dbf58500072,"more url building cleanup.

- renamed getCommentsLink() in WeblogEntryData to getCommentsPermalink() since that's better differentiated from the deprecated getCommentLink() method and is more descriptive since it returns an absolute url.

- updated URLModel with a set of new methods, including moving a bunch of methods from ConfigModel.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424008 13f79535-47bb-0310-9956-ffa450edef68"
36dd51b814759e687adb48947bb778830fe570a3,"cleaning up velocity renderer error page handling and adding support to VelocityWeblogPageRenderer.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424010 13f79535-47bb-0310-9956-ffa450edef68"
b8638a8d6816c2d9bbecc5b6f2c3c6ce6b6ae5ed,"Added search macros, added I18N to search pager, switched pagers and other macros over to URLModel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424046 13f79535-47bb-0310-9956-ffa450edef68"
65ba5b9778bda20faf8bafd44c93f40130f69e14,"adding new URLUtilites class and updating some url construction logic in models and pagers.

- URLModel now uses URLUtilites

- URLModel is now locale sensitive, so it maintains the locale from the request in all urls

- SearchResultsPager now uses URLUtilities class

- WeblogEntriesPagerImpl now uses URLUtilities class

- small tweak to servlets to ensure all rendering servlets include a ""weblogRequest"" object in their model init data.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424090 13f79535-47bb-0310-9956-ffa450edef68"
c4d792c33a0b960018eb51571217c5261d391cc1,"replacing $themeDir with new $url.themeResource() method



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424091 13f79535-47bb-0310-9956-ffa450edef68"
579aa77dee69223dc10a6cd606fbcf0b11f3fe97,"more cleanup of url building, updating classes to use URLUtilities.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424109 13f79535-47bb-0310-9956-ffa450edef68"
dd9fed8683161b5cb59c6a4cf546ae75a23bb9ce,"edit entry urls need weblog param.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424151 13f79535-47bb-0310-9956-ffa450edef68"
a781a17675406f9ddc886a02bd12dfe02a027a19,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424384 13f79535-47bb-0310-9956-ffa450edef68"
85b8f1ae26b5043b7b276a19154e6c51e6f0c70a,"Fixed up feeds. They now use URLModel where appropriate and all include a style sheet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424407 13f79535-47bb-0310-9956-ffa450edef68"
fe48767c374be3ff365e2d2c0b363bda4caab9d6,"Fixing a couple of lingering URL related bugs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424412 13f79535-47bb-0310-9956-ffa450edef68"
5837ecc066c162765f18b85088b9df1eda4d6b7b,"Fixing incorrect titles

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424422 13f79535-47bb-0310-9956-ffa450edef68"
34d50ad3ce9b15c121039c5d4c35dde212c69529,"Always allow weblog removal

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424425 13f79535-47bb-0310-9956-ffa450edef68"
b326cd23d23aa6ea7acc2f016ad1f8b19c974a8a,"Two fixes: 1) always allow weblog remove and 2) all weblog authoring pages appear with tabbed menu structure

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424444 13f79535-47bb-0310-9956-ffa450edef68"
32ee0953eebefbc2b8cea5b4e488d28d4e953cb5,"finishing up pluggable rendering support, improving decorator process, and adding support for hidden pages.

- the Template interface now supports 3 new methods ... getTemplateLanguage(), isHidden(), and getDecorator()

- decorator templates are now an inherent part of all templates.

- any template can now be marked as hidden.

- any template can potentially be authored in a templating language other than velocity.

- updated Template implementors to support new methods.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424459 13f79535-47bb-0310-9956-ffa450edef68"
48de0edaf7f9f5b77c69c71831a9709dc012b5a2,"fixing bug with previewing



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424462 13f79535-47bb-0310-9956-ffa450edef68"
e6124d2a0c087f6c8d31fc78eeeb3fb8978de661,"final tweak to rendering system to simplify a couple things and make it truly pluggable.

- RendererFactory's are now given a full Template object to use when looking up a Renderer.

- removed VelocityWeblogPageRenderer.  no longer needed now that decorating process is built into the Templates.

- added StaticTemplate class which is needed for representing static template files.

- updated servlets to conform to tweaks in rendering system.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424486 13f79535-47bb-0310-9956-ffa450edef68"
bbe39f6b52e557cb3a855af7daac319b42bc6f77,"template needs to end with newline or you get a velocity parse error.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424493 13f79535-47bb-0310-9956-ffa450edef68"
e197ddead4548a9975321e6e69ccb9b32791596b,"hidden pages are a 404.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424500 13f79535-47bb-0310-9956-ffa450edef68"
e5cacb0bf2ae7dc6e06f598605616b6b6396477d,"UI control for toggeling ""hidden"" attribute of templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424505 13f79535-47bb-0310-9956-ffa450edef68"
9aa9837495c59df0d83cff6bb6042fec1a407675,"start revising old macros to use new URLModel for url creation.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424506 13f79535-47bb-0310-9956-ffa450edef68"
78cb1bfdde468d3df965179665de05e15115e7e1,"whoops.  only check if pages are hidden when they are custom pages (weblog/page/*).



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424507 13f79535-47bb-0310-9956-ffa450edef68"
7dfc385db6c7c97f37cf82a75160dcb6f90cd929,"Reformat several files of my original authorship according to newer Roller code style.  Reformatting and import optimization only.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424615 13f79535-47bb-0310-9956-ffa450edef68"
3ae9abdc07ab3651e3a565795816a5a0af2c6065,"whoops.  need to add new columns for webpage table to createdb script as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424652 13f79535-47bb-0310-9956-ffa450edef68"
e238305b0f2b2da77a5e3714e964a563a3bc0648,"adding a few instructions to new installation page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424653 13f79535-47bb-0310-9956-ffa450edef68"
7aeea8fc342b5ffb69e0ea326259455c2233329e,"decorator attribute is allowed to be null, so don't tell hibernate otherwise.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424656 13f79535-47bb-0310-9956-ffa450edef68"
36b13f0966831fada301f514bb4e5b6505742cf6,"template language cannot be null, so it needs to be set for our test page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424657 13f79535-47bb-0310-9956-ffa450edef68"
581adcd40ed0b63df8bf6cbceed50f1bb0a8af7b,"make request mapping configurable via config file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424666 13f79535-47bb-0310-9956-ffa450edef68"
4bb8739367642f752495ca5d666aa53681218635,"Fix/improvements for ROL-1192 onto roller_3.0 branch. Introduce statically configurable mechanism for interoperating with buggy WeblogUpdates.ping variants.  Implement ""noname"" ping variant (which omits the name parameter from the ping) in order to support pings to IceRocket.   Be resilient to responses of the wrong type (also for IceRocket).  Add IceRocket to default initial common targets.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424677 13f79535-47bb-0310-9956-ffa450edef68"
70a236f83ff7fc5d02627bd23b0d42963f2442b7,"Removed some no-longer used parameters left over from (incomplete) refactoring in some earlier revisions.  Cleaned up some unused imports.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424832 13f79535-47bb-0310-9956-ffa450edef68"
2f2c198272fc68cb97bc7e0393902f6f1c731992,"Fix for part of ROL-528.  Pay attention to locale when building day names.  Applied patch submitted by a user.  It appears correct and seems to work.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@424842 13f79535-47bb-0310-9956-ffa450edef68"
d1ef085b0eda3d6ef6d0dd487034c65343a718d3,"Added invitation management page for listing and revoking outstating invitations

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425173 13f79535-47bb-0310-9956-ffa450edef68"
269b2eaf11b04e6aa4917a92d741810990b67119,"url param for search query is ""q"" not ""query""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425195 13f79535-47bb-0310-9956-ffa450edef68"
e4bd35024aa1abe3d6b67eee01d5f44932eb547c,"better initialization message, say how many mappers are configured.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425196 13f79535-47bb-0310-9956-ffa450edef68"
13f0bd557d70f0ef643f0fe2f6e086a3c94565c4,"update model loading process so that it's fully configurable.  all models are defined in the roller.properties config now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425199 13f79535-47bb-0310-9956-ffa450edef68"
5757ffadc0fd692cda4745f9b0e012bae138a02d,"fix url forming on file uploads form to use new 3.0 urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425208 13f79535-47bb-0310-9956-ffa450edef68"
eaa2d28e120215ea76607e5507d5e4c415d21432,"make sure to force use of entry display count in old page model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425217 13f79535-47bb-0310-9956-ffa450edef68"
792c73109af8431b4b95935416eedf78a2de613f,"shorter model names.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425223 13f79535-47bb-0310-9956-ffa450edef68"
ffeaed5e8db132fdef000e2d4e96641189984180,"update macros with shorter model name.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425224 13f79535-47bb-0310-9956-ffa450edef68"
3f61a6a2fbfb485a174111e0fb218de3b07d6902,"add comment authenticator servlet url to URLModel and update comment form macros to make use of it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425228 13f79535-47bb-0310-9956-ffa450edef68"
41a364264daded9a0062fcb214224da5afa2ad0f,"we don't need to replace the old trackback auto discovery macro, it's still valid.  let's just move it from the old deprecated weblog.vm into the new weblog.vm .


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425231 13f79535-47bb-0310-9956-ffa450edef68"
1973b2c028cd66719311d32453fa54fa46c263bc,"cleaning up a few things and updating a few lines to use new $url model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425236 13f79535-47bb-0310-9956-ffa450edef68"
6a8d48ee136c56ec7606386659f830b631de592c,"construct weblog url the new way.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425564 13f79535-47bb-0310-9956-ffa450edef68"
e7ecdd28e5d2207620ababcfa7427fc38d0d51d4,"form urls the new way.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425565 13f79535-47bb-0310-9956-ffa450edef68"
3d55d29dac82127385c1a2eeedcb29326a03bffb,"urls formed by admin/authoring pages should be relative, not absolute.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425566 13f79535-47bb-0310-9956-ffa450edef68"
62b4eaa9b6abb2f9ddd3550495509245f640c8c3,"form urls the new way.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425568 13f79535-47bb-0310-9956-ffa450edef68"
f0e6d6e153cd8a08b30d42a9b00d17883f53c206,"main page is now ""/"", not main.do anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425572 13f79535-47bb-0310-9956-ffa450edef68"
4ecbe7b3a0c38a90588645a241c9e0d15e18e20a,"preview url on create website page needs to be absolute.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425582 13f79535-47bb-0310-9956-ffa450edef68"
b48771765939982ad25fbd6dacc6de0eb86782bd,"main page action is a core struts action, just moving it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425583 13f79535-47bb-0310-9956-ffa450edef68"
b8334c21656173e196173d16532f51f73bb9a017,"add built-in support for macro tweaking using roller-custom.vm.  simply add that to the root of the classpath somewhere and it will automatically be picked up by velocity.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425774 13f79535-47bb-0310-9956-ffa450edef68"
15217ed252a7ffd23bdfa37dbed93d95ddcce512,"have calendar use new URLUtilities for url formation.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425794 13f79535-47bb-0310-9956-ffa450edef68"
f4bae66225ddd4ff71a5ce8c9fcd378b755e77fc,"feed and page models should provide access to locale from request.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425795 13f79535-47bb-0310-9956-ffa450edef68"
57d304e1f9b54d30009207353e7aa9b0b7ca04dc,"couple slight tweaks to url forming.

- form base weblog url ourselves rather than based on weblog.getURL() methods.

- ensure that base weblog urls end in a ""/""




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425797 13f79535-47bb-0310-9956-ffa450edef68"
c90668d4902c3e4a92e3d09cebdd3ee33421f2c6,"removing some old url forming junk that isn't needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425798 13f79535-47bb-0310-9956-ffa450edef68"
6e24a0c5beb7f7a91b27e5fab59662d132cf027a,"adding new control macro #addColumnNull()

updating 3.0 migration script with additional comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425801 13f79535-47bb-0310-9956-ffa450edef68"
38e1adedc6f0e6c5d943617e325170d3745bba15,"with jsps we set the locale used for i18n first to the users defined locale (if they are logged in), otherwise use browser locale.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425866 13f79535-47bb-0310-9956-ffa450edef68"
798650034e3b3675ce37d86c6413bb3b7a5f84bc,"getLanguage() is no longer a standard part of ParsedRequest.

PlanetRequest still uses language, which is based off browser settings.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425867 13f79535-47bb-0310-9956-ffa450edef68"
778599e52b375d03aaf50f1e1f1805aafa7f29c4,"ripping out old LanguageUtil stuff which is no longer valid.

- deleted LanguageUtil and LanguageUtilTest

- updated old ContextLoader with final tweak to pass down locale from weblog request where needed.

- EOLed old getSupportedLanguages() method from old page helper, that method is no longer applicable, so it just returns null now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425870 13f79535-47bb-0310-9956-ffa450edef68"
9b791c54c4d4e8959329d266efea9a557ced8ab9,"uncommenting body of getCommentCount() method so that comment counts work again.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425876 13f79535-47bb-0310-9956-ffa450edef68"
2f39935c136878aff81b739db424d70c93ed4701,"EOLing old createEntryPermalink() method from RollerContext.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425877 13f79535-47bb-0310-9956-ffa450edef68"
188e66d9a85ce43625b3cb74c12406bc14a28696,"removing broken ""url"" param.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425881 13f79535-47bb-0310-9956-ffa450edef68"
b1db6e7cadcb749be2095f3b490a25899b3439ae,"a little cleanup on urls and some 3.0 TODO comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425882 13f79535-47bb-0310-9956-ffa450edef68"
7cb9ed4de27bbeb7506aec6aa0966b510aebe34f,"updating url forming.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425900 13f79535-47bb-0310-9956-ffa450edef68"
3a06472a67876db6524b03bd968ed43f7e36bd2e,"removing getCommentsPermalink() since it's not really needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425901 13f79535-47bb-0310-9956-ffa450edef68"
b3cb523450e89b75d5819f9387101962d9ec3b4b,"getPermalink() should use URLUtilities.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425908 13f79535-47bb-0310-9956-ffa450edef68"
7d257bd134ee4cc3ebe3af84027749bfb1df8640,"fixing comment.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425909 13f79535-47bb-0310-9956-ffa450edef68"
6933ade50aa7a795e75f1c3fa3e48cccc3b82937,"comments for feeds should be restricted by same entry count rules as entries.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@425910 13f79535-47bb-0310-9956-ffa450edef68"
08fdbfc3c16a8fb346fdbf2fb7128f6a8161f3a2,"reformatting only

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426158 13f79535-47bb-0310-9956-ffa450edef68"
6bdd9e553f7ebf17db2004ed7fab58d67d7b82c3,"Updating weblog entry comment form handling.

- created new WeblogEntryCommentForm object to replace the use of CommentFormEx.  this object has status/error messaging and comment previewing logic built in.

- modified CommentServlet to use new WeblogEntryCommentForm

- removed getPreviewComment() method from page model since it's inside WeblogEntryCommentForm now.

- modified getCommentForm() in page model so that it doesn't need request object anymore and returns new WeblogEntryCommentForm object.

- modified old ContextLoader to use new WeblogEntryCommentForm even in the old model.

- did a bit of cleanup on new #showWeblogEntryComments() and #showWeblogEntryCommentForm() 3.0 macros

- updated old #showCommentForm() macro to match new one and EOLed old #showEntryComments() method and changed it to just call the new #showWeblogEntryComments() macro.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426248 13f79535-47bb-0310-9956-ffa450edef68"
be973cf8f6d45f114107d149b6a7ee620f44aa11,"Consistency: we use URL in method names, not Url

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426256 13f79535-47bb-0310-9956-ffa450edef68"
4ab1527bab0590c39dab1bc833ddea433e435329,"Oops, forget the invitations forward

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426257 13f79535-47bb-0310-9956-ffa450edef68"
c0303b99e0f619b9065022bcb35aef74fd7fb235,"- Eliminated weblog.findPageIdByName()

- Removed reference to $comment.id from show comments macro

- Eliminated starts-with-p logic in show comments macro

- Replaced old $dateFormatter calls with modern equivalent

- Created $text MessageModel, which eliminates the need for Velocity Tools, and 
  removed the Velocity Tools jar from the build scripts and repository.

- Site model and planet models now known as $site and $planet in macros.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426323 13f79535-47bb-0310-9956-ffa450edef68"
8b5cb5767c86d9cf274de5751d1b928e980e3417,"make all feed urls be absolute.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426338 13f79535-47bb-0310-9956-ffa450edef68"
939795bfb582f51422767f6c24f22592273c9c9d,"remove getXXXProperty() methods from config model and replace them with individual methods.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426339 13f79535-47bb-0310-9956-ffa450edef68"
c38b7346cb59cba16e488bbd761654225c145e8e,"a bit of cleanup and tweaking on feed templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426340 13f79535-47bb-0310-9956-ffa450edef68"
4c740110e13dcfec106198077e2a04cef08e4967,"fixing rss feed url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426342 13f79535-47bb-0310-9956-ffa450edef68"
d386894eb96b77de52cf3410751237bb8f96c587,"moving referrer processing into PageServlet.  this accomplishes 2 nice things ..

1. we no longer have to parse & validate the request twice for pages.

2. we can put the referrer processing in a more logical place in the request/response cycle, rather than having it happen first like it did as a filter.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426357 13f79535-47bb-0310-9956-ffa450edef68"
ebc8dda166031286aaf9503c98459cbaa0567646,"-------------------------
1) Rewrote SiteModel and PlanetModel to completely eliminate the need for 
use of offset/length paging logic in macro code. 

1a) For all collections suitable for paging I added pagers: WeblogsPager, 
UsersPager, CommentsPager and PlanetEntriesPager. 

1b) For collections suitable for display in a sidebar, I only allow the caller
    to specify the max number of objects returned. 

   ISSUE: We don't want callers to use these to fetch giant collections, so 
   perhaps length should be throttled at 100 or some configurable value.

1c) $siteModel and $planetModel are now known as $site and $page.

1d) Updated site.vm to use new pagers.

   ISSUE: Still need to fix URL formulation in site.vm


-------------------------
2) Updated the Atlas theme to use the new SiteModel and PlanetModel pagers.

   ISSUE: Still need to pare Atlas down to the bare essentials and move it out
   of the themes directory, or perhaps make it available onto to frontpage 
   and/or aggregated weblogs.

   ISSUE: The frontpage macros still use $pageModel beacuse they need access
   to request parameters for letter, user and weblog.
   
   ISSUE: I had to add a hack to the PageServlet to allow the use of the 
   ""letter"" request parameter, which is bad but we need to figure out some 
   way to allow theme pages to use arbitrary request parameters.


-------------------------
3) Added new webpage.navbar field to indicate if a page should be shown in the
weblog's standard navbar. This replaces the old ""_"" prefix. 

3a) Added navbar field to database migration script. The script also sets all 
pages with names that start with ""_"" to navbar=falase.

3b) Template files still use ""_"" to indicate ""hidden-from-navbar"". Files that
use this convention still get special treatment, they're marked as navbar=false
and since the ""_"" prefix is unsuitable for use in URLs, it is stripped off in 
the template link field.

3c) The page menu macro now uses the navbar field instead of ""_"" to hide pages.





git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426611 13f79535-47bb-0310-9956-ffa450edef68"
0b9d4d2b233a71b15586ad81a84b425ef090d2eb,"webservices live at /roller-services/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426636 13f79535-47bb-0310-9956-ffa450edef68"
bec4bf3ce74a732fb6ce3613958375354a0c732e,"Added request params to new PageModel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426640 13f79535-47bb-0310-9956-ffa450edef68"
8556ceb567208a5047b9679e7a7107417cddecdf,"caching needs to take into account situations where arbitrary query params are allowed.  we allow them on all pages for the frontpage blog and for custom pages in standard weblogs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426657 13f79535-47bb-0310-9956-ffa450edef68"
5dd2a72c8fdfe5a5730635ab064c9e58b25d4024,"rsd link should always be absolute.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426665 13f79535-47bb-0310-9956-ffa450edef68"
ac895c804b7822340b14e5e63dd0060a2e4f03cc,"oops.  removing some leftover debugging lines.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426666 13f79535-47bb-0310-9956-ffa450edef68"
d5f8e342042996ea0459ea13e89a972bd26c3d4d,"updating macros from old website.vm file.  all macros in this file have been updated for roller 3.0 now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426667 13f79535-47bb-0310-9956-ffa450edef68"
b52dbd6eb0bd541a33491b99ff8b466292f66570,"disregard cat param if it does not have a value.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426694 13f79535-47bb-0310-9956-ffa450edef68"
c836c943cb8971cfdc807d9b874b32145fe85b2a,"need to override getPager() method that takes cat argument as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426695 13f79535-47bb-0310-9956-ffa450edef68"
93c08431e556b631cefceddbd5bdab6fdba9dd74,"encode the category value, not the string ""cat"".  duh.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426696 13f79535-47bb-0310-9956-ffa450edef68"
e64c4ed9006c6da8c7e81f6481ceab723a35a61d,"banner is empty by default now that we don't really use it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426697 13f79535-47bb-0310-9956-ffa450edef68"
5d1d360de36fa5c84f93704ba7f2fafceb86a3bc,"a little cleanup on new search macros.

- new showWeblogSearchForm() macro supports a param to toggle display of category chooser on and off.

- cleaned up a few things in new search again macro.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426715 13f79535-47bb-0310-9956-ffa450edef68"
8aace6df1177192ac9267f13d47d9b2ae6c98e81,"another batch of old macro cleanups, this time the old weblog.vm.  this file has been mostly cleaned up for roller 3.0.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@426716 13f79535-47bb-0310-9956-ffa450edef68"
d103ae42be3c05fead71281bb3263ea0a3ecc598,"bad velocity syntax.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427174 13f79535-47bb-0310-9956-ffa450edef68"
16d87646e58c83be14a8fb623d04e3ae01252bfa,"Making site.vm compatible with new site and planet pagers, plus CSS fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427205 13f79535-47bb-0310-9956-ffa450edef68"
623676d259839c7c6fcf099a0be2a969ae0d8368,"Let weblog entry pager keep its original name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427213 13f79535-47bb-0310-9956-ffa450edef68"
891b85b759b2a53be337c02c2d3b2943d13de7c6,"Pager.getItems() across all pagers, except WeblogEntriesPager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427220 13f79535-47bb-0310-9956-ffa450edef68"
6f97018525b9f413fcf75185f8e454a707f6ca6f,"we use weblog.lastModified now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427265 13f79535-47bb-0310-9956-ffa450edef68"
c29b758f3fc511756e52cff53581c2850dee7637,"Fixing SQL syntax error in hot blogs query

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427315 13f79535-47bb-0310-9956-ffa450edef68"
451f57d39f33798c0910f4af23d29ba71c672477,"This commit:
 
1) Removes the need for the SiteModel in the FeedServlet, which is 
good because SiteModel wants a WeblogPageRequest object and all we have in the
FeedServlet is a WeblogFeedRequest. I added site-wide smarts to FeedModel and 
commented out the code in FeedServlet that loads the site-wide models.

I'm not completely happy about this because I'd like to allow for feeds of
new users, new weblogs and other things that are available in the site model.
But the site model has pagers, pagers need page numbers and page numbers are
not part of WeblogFeedRequest.  We should take another look at the request 
hierarchy and perhaps consolidate models into a similar hierarchy as well.

2) Moves all pagers to org.apache.roller.ui.rendering.pagers



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427415 13f79535-47bb-0310-9956-ffa450edef68"
152cae0f95c92e45744446de4cfacbc12122de03,"Moving style sheets

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427567 13f79535-47bb-0310-9956-ffa450edef68"
bd14fd7525c26694b595e9b1b9b67ecc05696448,"Feed XSLs don't need to be JSPs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427568 13f79535-47bb-0310-9956-ffa450edef68"
06e75efa50af44742e759a78a517c600ca6184c2,"Feed styling now optional at site-wide level, defaults to on

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427586 13f79535-47bb-0310-9956-ffa450edef68"
bb97ddf37a8abd2b1c5c4b8ec8c86d2559f4cd04,"Fix an encoding bug hit when retrieving cached content as a string.  

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427608 13f79535-47bb-0310-9956-ffa450edef68"
4948a16abea2aede9ff889affd0bc8f2ad556db5,"Include all letters in letter map, not just those with users

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427688 13f79535-47bb-0310-9956-ffa450edef68"
29b6d3ba431b5929f8686ec1b786918de36cb3e5,"only include cat in url if it has a non-empty value.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427740 13f79535-47bb-0310-9956-ffa450edef68"
ed75ab2cced96210997736b69f51fa64b7b2fe76,"content was being displayed twice.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427741 13f79535-47bb-0310-9956-ffa450edef68"
59392c558b04b4e8096f865614c4599e1a486262,"update feed links list to use 3.0 models.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427743 13f79535-47bb-0310-9956-ffa450edef68"
0c48e31de0d942dcdd8a06123d22c2daddf477fe,"fix comment permalink in coment details display.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427747 13f79535-47bb-0310-9956-ffa450edef68"
df067683be7ebea5ed5e6c1cd74da88d6a950fed,"the acegi remember me cookie is originally set at the application context root so that it applies to the whole app, so when we do a logout we need to use that same path to expire the cookie.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427753 13f79535-47bb-0310-9956-ffa450edef68"
f3191648125f331a9342185216a75006f57d801b,"fix bug in referrer processing and remove old lines which hacked the cache key with custom url params for site-wide blog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427770 13f79535-47bb-0310-9956-ffa450edef68"
34bb513e4720b602daa6de17e02b57bc01b3b8dd,"couple tweaks to ensure cache key uniqueness.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427771 13f79535-47bb-0310-9956-ffa450edef68"
57ba889af1945ff58e2661f6b3f02bb49de72b8a,"it's ""utils"" not ""utilities"" in 3.0



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427792 13f79535-47bb-0310-9956-ffa450edef68"
a876451155758f2641ae1fcc1da73719fa723b32,"final macro cleanup for Roller 3.0



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427799 13f79535-47bb-0310-9956-ffa450edef68"
e6f26f408b956322360e325e43d83e71f8166198,"final tweaks to macros for Roller 3.0



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427802 13f79535-47bb-0310-9956-ffa450edef68"
968d6d7e822627734d4ddcc12a86d4ba4dcb64dc,"fix for getRecentComments()



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427810 13f79535-47bb-0310-9956-ffa450edef68"
6a122b72e4eb81b3ecf5836f74c9037516ed8244,"more macro cleanup for Roller 3.0


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427811 13f79535-47bb-0310-9956-ffa450edef68"
5dfa5421b1fda3347f6ceece9ba5f495b3605d48,"some macro cleanup for Roller 3.0


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@427812 13f79535-47bb-0310-9956-ffa450edef68"
617cb572649fed737b7413e453e2c9a229bc88de,"yuck!  we have to tweak referrer processing again to happen first because it causes a hibernate flush once the referrer is recorded and that flush terminates the active hibernate session and therefore can cause lazy initialization exceptions on objects loaded before the flush.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428094 13f79535-47bb-0310-9956-ffa450edef68"
6b3db602ebb306f8e75a91d264dd2b1d63318c9f,"renaming atlas theme to frontpage

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428103 13f79535-47bb-0310-9956-ffa450edef68"
c8f3d88ea0b6a6f78568d2f28022c13ee3254b3b,"Trimmed down frontpage theme to closely match old main.do frontpage

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428105 13f79535-47bb-0310-9956-ffa450edef68"
092128a2cdfc7e69be0ced995ecac92d5b595165,"We never shipped berkley

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428114 13f79535-47bb-0310-9956-ffa450edef68"
ce5e9bb67796ee0c4fae038407b8a87c19d53bb0,"More tweaks to site model and front page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428121 13f79535-47bb-0310-9956-ffa450edef68"
142143b1a356d99c797a5aa5c753e0774aaf2fd1,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428482 13f79535-47bb-0310-9956-ffa450edef68"
abe6ff5d9c00d720de0f6636d4a9764305f804d3,"EOLing old planet page action.

- stripped out old planet action and set it up to just forward to a simple jsp now.

- removed old frontpage tiles definition since it's no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428493 13f79535-47bb-0310-9956-ffa450edef68"
b23f6e441df7d541009df92389be70b84efefcb5,"rename to PlanetPageAction for consistency.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428494 13f79535-47bb-0310-9956-ffa450edef68"
5aef9140ebd6d4d865b0bd4cc70511f7c06e0d52,"a little cleanup on jsp locations.

- moving core struts action jsps to /WEB-INF/jsps/core/*

- removing old planet frontpage jsps




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428507 13f79535-47bb-0310-9956-ffa450edef68"
fd73e3f0ca565d61c8edb870fc35295f67f69990,"remove logout action.  we decided to stick with using a jsp instead.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428508 13f79535-47bb-0310-9956-ffa450edef68"
ec2b80a7fb2d7be77b392eb27ad022c0a0bc2bd0,"don't need old planet menu config file anymore.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428509 13f79535-47bb-0310-9956-ffa450edef68"
a0b84a89ecb6e6e69b49fa5dc5d5cd3234f0ab19,"gotta check for null, otherwise we can cause null pointers.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428542 13f79535-47bb-0310-9956-ffa450edef68"
937d84594fc23334d49d92227c91b19dbf0ae049,"toggle old models and macros on/off via config property.  defaults to OFF for 3.0 and on.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428546 13f79535-47bb-0310-9956-ffa450edef68"
1c2b3564dff7378c9f40f24ff90827feedca5c8e,"a couple more tweaks to use 3.0 models.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428552 13f79535-47bb-0310-9956-ffa450edef68"
3da4a78b47c087ffc5d220406b00e201157a539b,"finish updating to roller 3.0 models.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428556 13f79535-47bb-0310-9956-ffa450edef68"
8bc085378448b291a82f9d710eb451e7828ce9d3,"final changes to update to 3.0 models.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428560 13f79535-47bb-0310-9956-ffa450edef68"
a0aabb3b2ed3525c7823f592ce85a68f955fdc1a,"fix for getting a folder.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428566 13f79535-47bb-0310-9956-ffa450edef68"
338ef84a60cc775ca8e33b9177a8407f92c3e38e,"adding method isSearchResults() to page model so that templates can reliably determine if the view is for search results or not.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428572 13f79535-47bb-0310-9956-ffa450edef68"
d4413cc54a034eeb7d6f49d6d12ef3b9511327c5,"more tweaks for using 3.0 models



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428573 13f79535-47bb-0310-9956-ffa450edef68"
61870537541c089c91b789be77e199d9f5db6c43,"skip referrer processing for site-wide frontpage blog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428575 13f79535-47bb-0310-9956-ffa450edef68"
1e400b3bae81dac4a3cd72647c93d90f3a8ae441,"Theme import gives _css page the link theme.css

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428819 13f79535-47bb-0310-9956-ffa450edef68"
c88b27ebe696cd95b4fb0f662864232468a35198,"Site and feed models can exist without WeblogPageRequest

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428820 13f79535-47bb-0310-9956-ffa450edef68"
6b36923236d96901dcbdad0d03a9576f3ed2fd05,"Basic theme now uses new macros

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428821 13f79535-47bb-0310-9956-ffa450edef68"
797007d158469512ae65e0ef936ceff2d4cfa1a1,"New macros for referrer and feed links display

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428822 13f79535-47bb-0310-9956-ffa450edef68"
baaf7a73bcc22430dca27d49d4472649370e0a1b,"New utilitie method escapeXML for use in feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428830 13f79535-47bb-0310-9956-ffa450edef68"
edf27b640dc7a11deac0af52aecb6f5bf5af15af,"url for xmlrpc servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428874 13f79535-47bb-0310-9956-ffa450edef68"
ac3a6451b220cbf8e08308a1d86577c9940d56ba,"need to allow for the case where the search query is empty.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428875 13f79535-47bb-0310-9956-ffa450edef68"
83e67f2df5be64893ef0c44bd2fadef303163a59,"locale doesn't need to match exactly, since sometimes the url will only have language.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428893 13f79535-47bb-0310-9956-ffa450edef68"
00e7b9d68962e64d830b66e33c5851b935df38cf,"fixing bug where posting a comment would lose chosen locale.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428894 13f79535-47bb-0310-9956-ffa450edef68"
e06648c7607b78c9570b61e5cd0b11728805f17d,"wrong logger.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428900 13f79535-47bb-0310-9956-ffa450edef68"
311c4121e2252d6ccd32310f1c9a75436bcfe82a,"we no longer need the planet cache filter now that /planet.do was EOLed.  planet cache still exists for /planetrss



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428902 13f79535-47bb-0310-9956-ffa450edef68"
23cd5229d18b8ff7e3a852ef780c61eac58093ed,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428903 13f79535-47bb-0310-9956-ffa450edef68"
526f281e4c6f28459b1821d61dfba7722d80d3a0,"move old NewsfeedCache class into the deprecated package since it's not meant for futher use/enhancement.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428905 13f79535-47bb-0310-9956-ffa450edef68"
6295a41d24b9e05c087fbd14cbd26a452661aed3,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428912 13f79535-47bb-0310-9956-ffa450edef68"
756a3ae5a39e79100524d22eafa1adc68bdf3d07,"quick tweak to support better exception handling.  rendering system classes throw RenderingExceptions, not just generic Exceptions.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428913 13f79535-47bb-0310-9956-ffa450edef68"
d84028035e2ca984404b1bdf0b757ce54e868b9e,"make registration props available.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428919 13f79535-47bb-0310-9956-ffa450edef68"
1852e8f4f796782d4c87752a67b181c784d33e52,"we always want to refer to Templates using the interface.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428920 13f79535-47bb-0310-9956-ffa450edef68"
2c297092ff88552327ca543f1fb26ffcc817e66d,"adding redirect servlet to handle backwards compatability for old pre-3.0 urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428921 13f79535-47bb-0310-9956-ffa450edef68"
f261707f995586bd60e455276f05bd2ff8b541a1,"make set of protected weblog urls configurable.  protected urls are urls that can't be considered weblog urls by the weblog request mapper.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428926 13f79535-47bb-0310-9956-ffa450edef68"
dd94c3ac8c7f9d53a737b628ffe63bfff3f10447,"need to return after doing frontpage blog dispatch.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428928 13f79535-47bb-0310-9956-ffa450edef68"
285639b3d0ddde0dc706e9ddebc769bf37655c00,"Still working on cleaning up/trimming down basic theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428944 13f79535-47bb-0310-9956-ffa450edef68"
a706c62530a7a10113e062bf9022932afd69cfba,"Use the industry standard feed icon

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@428951 13f79535-47bb-0310-9956-ffa450edef68"
9e534dd779ac39ac1c7d387569056e47fe603ba9,"ROL-977 Remove unused prototype JDO back end classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@429011 13f79535-47bb-0310-9956-ffa450edef68"
3c4a30eeb05bc2631ab29137b161d00029f9c608,"Fix a regression of ROL-1148 in the Roller 3.0 branch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429073 13f79535-47bb-0310-9956-ffa450edef68"
7112d77f50afe570e28a6fce127a94c97fc1364a,"Merging Atom Publishing Protocol draft #9 implementation to trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@429130 13f79535-47bb-0310-9956-ffa450edef68"
b6f6006e1affe32648bb8559b337d7f687d189ef,"Trunk is 2.4-dev-incubating

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@429131 13f79535-47bb-0310-9956-ffa450edef68"
fd0c6dd0b7fd4da3b03abcd649353e0a5c26a88e,"Merging changes from trunk (revs 408650 through 429131) into 3.0 branch, includes Atom protocol draft #9 implementation plus minor fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429139 13f79535-47bb-0310-9956-ffa450edef68"
98a6f88d27bbcdbe87f2dcfabbdaf266396dd22f,"JDK 1.4.2 compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@429143 13f79535-47bb-0310-9956-ffa450edef68"
12cf37370f7ceda5451f01ce9e31cf92918d5e85,"JDK 1.4.2 compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429144 13f79535-47bb-0310-9956-ffa450edef68"
24464aa728fd989947a54a75b552b533134cbfc5,"Conversion to 3.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429318 13f79535-47bb-0310-9956-ffa450edef68"
f83ab943365cb44c34cb012a08b074412def1c47,"3.0 tweaks to basic theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429321 13f79535-47bb-0310-9956-ffa450edef68"
092acc64b3ac48ea8ceb619bfeccc8c8f90b62aa,"More theme tweaks plus change to allow caching of content-type in page servlet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429378 13f79535-47bb-0310-9956-ffa450edef68"
84c29cbcd1f2c4ec0413967187def56679bbb602,"atom feeds list should get atom feeds, and rss feeds list should get rss feeds.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429426 13f79535-47bb-0310-9956-ffa450edef68"
26bf8ad0543dbf05c5ecd00a50e5eac9bf621268,"adding new MessageUtilities class to centralize access to the Roller resource bundle.  also made MessageModel class use new MessageUtilities class.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429485 13f79535-47bb-0310-9956-ffa450edef68"
867aa38098ed9c77c5c2975a5669711cf8b32c56,"add new pojo method which encapsulages the summary vs. content display logic.  template writers can now use the entry.getDisplayContent() method to easily display the right content.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429486 13f79535-47bb-0310-9956-ffa450edef68"
0a654b8690e0d6955f78c961aede8d42bd4142e6,"dropping #showWeblogEntryContent() macro in favor of $entry.displayContent() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429489 13f79535-47bb-0310-9956-ffa450edef68"
cfdebf88c458026907c13ede580a36311d2315e6,"fixing class cast exception in site model.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429501 13f79535-47bb-0310-9956-ffa450edef68"
2d1bbda9565dd27ecdad4ec412414c1f1a59c1a6,"fixing up site wide feeds so that they use site model again and changing feed size logic to always use the global site.newsfeeds.default value.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429502 13f79535-47bb-0310-9956-ffa450edef68"
361db81c3c511c6db3b6c4ae6014c9c968c60d06,"make size of search textfield smaller.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429510 13f79535-47bb-0310-9956-ffa450edef68"
7a4b1f925f737f6d759d890df6b0ef8442bfd34e,"when doing a template include we only parse based on page id.  using page name does not work and in some cases could give us the wrong template.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429512 13f79535-47bb-0310-9956-ffa450edef68"
75651a1d42835e825d5a3e1af64d445f30360347,"context path needs a trailing slash, otherwise it won't work for root ("""") context.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429772 13f79535-47bb-0310-9956-ffa450edef68"
05fc52a0b53dca146fb50f3ec457b517c25240de,"In this commit:
   Converted *ALL* themes to Roller 3.0 macros and models
   Removed special _css handling hack from PageServlet
   Add navbar field to edit-pages.jsp
   Switch to entry.

Still more work to do:
   Renaming suggestions from Allen
   Ditching #showCommonJavaScript()
   IE6 testing
   etc.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429796 13f79535-47bb-0310-9956-ffa450edef68"
7018b0a25e61714408fe39c06de30085fbe9c280,"Missed this one. Switced to $entry.displayContent()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429798 13f79535-47bb-0310-9956-ffa450edef68"
cde3d0f6da33649541bbe33ba25c9af95b7eecb6,"very quick stab at fixing up planet rss template.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429898 13f79535-47bb-0310-9956-ffa450edef68"
707761166d89f6c34013d03ab9b7b2ac1c0d7432,"site macro change to showSiteEntriesPager()



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429899 13f79535-47bb-0310-9956-ffa450edef68"
0c155287ec6f5996c4b999d0a34ee940ab41a73c,"a little cleanup on the paging links for some of the site macros.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429900 13f79535-47bb-0310-9956-ffa450edef68"
c0217807e3ccf6de566da9075f8ecc9cae5253e6,"tweaking simple pagers implementation a little bit while fixing some bugs.

- made abstract pager even more abstract such that it now only needs a baseUrl and page number to do it's work.

- migrated existing simple pager implementations to fit the modified approach.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@429901 13f79535-47bb-0310-9956-ffa450edef68"
d4c8defc2dcdd8e33c9d6290cb12b18f80daa51d,"Added MySQL5 dialect (commented out)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430069 13f79535-47bb-0310-9956-ffa450edef68"
fecd41a6858b0af27114e1b8655b431f2c1dce7a,"Show navbar and hidden in edit-pages page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430072 13f79535-47bb-0310-9956-ffa450edef68"
8cad7e9c69526e57f6bf5d33170b609be661bc59,"Removed note about underbar indicating hidden

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430073 13f79535-47bb-0310-9956-ffa450edef68"
9df1d847ce87f06b622695927f7bd6ce007caaf5,"Use correct boolean type

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430074 13f79535-47bb-0310-9956-ffa450edef68"
7c4796f5555140d88261b6157ae8837875dea3f6,"Themes no longer need to use #showCommonJavascript()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430076 13f79535-47bb-0310-9956-ffa450edef68"
a60ff1532ebe06d034de020893e0fa74234e2b18,"a couple quick tidy up items for andreas theme.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430102 13f79535-47bb-0310-9956-ffa450edef68"
9c2942009c3d901e6bc23fb76d755a1582cbe890,"couple small tweaks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430104 13f79535-47bb-0310-9956-ffa450edef68"
088d18bd75a970913404491a1f43a7a3e8c8f05c,"SiteModel should work even when page not specifed in request

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430109 13f79535-47bb-0310-9956-ffa450edef68"
97a6f104434a33b7a7b779e73eab65ff636fcd18,"little tweaks to some of the revised theme templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430110 13f79535-47bb-0310-9956-ffa450edef68"
af762a61ad4c4163ad147845ecfda306757e1125,"Fixed bug that was allowing edits to properties of required templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430114 13f79535-47bb-0310-9956-ffa450edef68"
c58b117dd76961d866685f1def0728cb51c6da51,"$encodedEmail is not a 3.0 model element, so we need to replace it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430120 13f79535-47bb-0310-9956-ffa450edef68"
79457e06ebf8d9bbb8f220a0125dec637f05eb46,"fixing a couple urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430121 13f79535-47bb-0310-9956-ffa450edef68"
1965ed426cad459f8828516e3e30703cbfac48f5,"fixing up category links list macro so that it constructs all the proper urls using the new url model.  also cleaned up a couple remaining items in the macros which were using pre-3.0 model variables.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430128 13f79535-47bb-0310-9956-ffa450edef68"
c8be16d451542693d920302c9fe71f581f4973c1,"adding new getString(key, Object[]) method to MessageUtilities class.

MessageUtilities methods no longer throw exceptions.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430179 13f79535-47bb-0310-9956-ffa450edef68"
44d22ec3ef96e841439edc93c442d27d589f288f,"exception no longer thrown from message utilities class.

-This line, and those below, will be ignored--

M    WeblogEntryData.java


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430184 13f79535-47bb-0310-9956-ffa450edef68"
0007bea7edd426286e3228d4c92045e998cd6c81,"make sure that we only include categories in urls when they have a value.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430185 13f79535-47bb-0310-9956-ffa450edef68"
cdc1c4bb5d63684ecbfc93754f7a4d00a20cf5f8,"separating weblog entries impl classes into separate classes while fixing some paging bugs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430234 13f79535-47bb-0310-9956-ffa450edef68"
6db7c0c76843f520e1312062750b2539746c608c,"Made frontpage theme independent of site.vm macros, moved site.vm to the sandbox for now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430411 13f79535-47bb-0310-9956-ffa450edef68"
150baef4e9dd55a7460d03a313fbc6815b79a417,"lastModified may be null in an upgrade situation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430414 13f79535-47bb-0310-9956-ffa450edef68"
ccde3a52725603f8acc2297b1fb43d1d152fdeae,"Andreas08 wont render nicely on IE6 without small fonts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430415 13f79535-47bb-0310-9956-ffa450edef68"
4c92747fac6c38ccadcc7ed99fb9bddcaff3e844,"fixing slight bug that would leave an empty day entry in the map.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430449 13f79535-47bb-0310-9956-ffa450edef68"
6645cf4786b9bf7ac2659ed692ac123dcbaa5d78,"this time for real, make sure category urls are only returned when there's actually a real category specified.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430450 13f79535-47bb-0310-9956-ffa450edef68"
ad7910fa1902358bc3841481b26affc489a802d5,"if category is chosen in category links list then it shouldn't be a link.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430451 13f79535-47bb-0310-9956-ffa450edef68"
9ca78b994297af5272db42be13092dd6bf1b375d,"Planet feed /planetrss works (again)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430465 13f79535-47bb-0310-9956-ffa450edef68"
9674b21adbe3ccb7b4b45bd68ff81a45e1af0ff1,"fixing a few caching bugs.

- 304 handling wasn't working properly on site-wide data
- site-wide cache needs to make sure and clear itself when the site-wide blog updates any of its data.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430471 13f79535-47bb-0310-9956-ffa450edef68"
faa29556b4b8c6effe8376a981010fbef2c850ce,"Oops, forgot to commit planet manager interface changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430499 13f79535-47bb-0310-9956-ffa450edef68"
2e443a5f32900531fe573cc289ad53964d43c679,"Added new preview image for Andreas08 and updated some of the others

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430500 13f79535-47bb-0310-9956-ffa450edef68"
6fcab8510d645d8a4331fd9369b3c0dd79deea32,"don't need to add 1 to offset :/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430566 13f79535-47bb-0310-9956-ffa450edef68"
65e2cc519dc6d76e70d5df90bad30d9520434592,"add slash to end of site url, otherwise when the app is at the root context you don't get a valid url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430579 13f79535-47bb-0310-9956-ffa450edef68"
1f20515caea1c24cd582869e826e364da3adebb2,"the old resource servlet lived at /resources/* not /resource/*



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430591 13f79535-47bb-0310-9956-ffa450edef68"
734585e954353b3e917675c922f2390d8ea963b0,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430828 13f79535-47bb-0310-9956-ffa450edef68"
c2b7f83332e6c318bcd78899954fbc80e1066ffc,"fixing bug in file uploading.

- bug fix in file manager impl checkFileType() method.
- fixing uploaded resource url used in the upload form.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430832 13f79535-47bb-0310-9956-ffa450edef68"
06f5e0ea9109486c6dd396d81368069d98530438,"enable rendering caches to be enabled/disabled via config.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430836 13f79535-47bb-0310-9956-ffa450edef68"
991d314daf235e0af21734a024805c5f14f3eb06,"Add decode() method for convenient url decoding.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430842 13f79535-47bb-0310-9956-ffa450edef68"
0812d2b250708ccec790d307190531f1a1a01bb5,"make sure that any url with a category in it is properly url decoding, otherwise the category will be wrong when we try to use it later on.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430843 13f79535-47bb-0310-9956-ffa450edef68"
f9011047489048b2a8953be189dc9b96bdb0a649,"fixing some possible NPEs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@430847 13f79535-47bb-0310-9956-ffa450edef68"
dc8131615f06cc2b450807d2feaa6d73729725f2,"Fixes for ROL-1201 and 1207.  Eliminate all of the formatting stuff!  The JDK bug 5103041 that was the instigation for all of the crufty code can in our case be cleanly avoided simply by comparing long time values from getTime() rather than using Date.compareTo() which hits the bug.  The underlying JDK bug may not have been as well understood at the time the formatting code was added as a workaround.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@431060 13f79535-47bb-0310-9956-ffa450edef68"
9a8dc7069523eb92160c238e0c0180fb15df45dd,"a little cleanup on robots.txt file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431400 13f79535-47bb-0310-9956-ffa450edef68"
e2f830c83c82a2f70afcd10f931352eab31a483f,"new navbar field needs to be in createdb script as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431406 13f79535-47bb-0310-9956-ffa450edef68"
a99533c807e9cd564a5ac2428e20f921bce11958,"fixing up unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431407 13f79535-47bb-0310-9956-ffa450edef68"
11fb41f0f907a76aecaa2b3047a4d76c9344f80e,"some minor tweaks to some of the themes css so that they look a little closer to the previous versions.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431642 13f79535-47bb-0310-9956-ffa450edef68"
6c73f8014e073da880e8fe2d69c656263552a0c0,"couple tweaks to grey2 theme to make it closer to the original.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431673 13f79535-47bb-0310-9956-ffa450edef68"
25c804f2478dc0af38d9dfeba45e4f243fbf8bc0,"Template author guide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431901 13f79535-47bb-0310-9956-ffa450edef68"
3319b3625034c040cbbc281ae44d8c2c7d3af32a,"No need to deviate from bean pattern here

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431912 13f79535-47bb-0310-9956-ffa450edef68"
b4f4c33a5c6e0ed6970146b9104e2c4f06797b3b,"Planet model works well in frontpage now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@431935 13f79535-47bb-0310-9956-ffa450edef68"
5d73744b14cce1eec121135274107a10109b574d,"2nd drafts of user and template guides ready

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432119 13f79535-47bb-0310-9956-ffa450edef68"
34c282bd2be8c23868ec737946e03e10bfa68942,"for category permalinks we need to url encode the category twice to ensure that it works properly.  this is because the url path is automatically url decoded before it can be accessed by the request object, and thus if a decoded category url has a character like a ""?"" then it will break.  double encoding fixes this problem and works fine because the url is first decoded by the container, then we decode it once more ourselves.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432329 13f79535-47bb-0310-9956-ffa450edef68"
a981e9839bdf40e68474be50b7fc724c85bab221,"allow support of the old ""entry"" and ""anchor"" request parameters so that folks with custom templates that used these params still have working templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432330 13f79535-47bb-0310-9956-ffa450edef68"
7395ef1a4a5072e7892bcd6d35d5b32dfa4bdc1e,"old #showEntries macro didn't include the extra div class=""entries"", so we can't include it now since it causes problems on some existing weblogs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432363 13f79535-47bb-0310-9956-ffa450edef68"
a6e4f0382357ef76fe9e444103789c847f981ec2,"removing display of weblog description from header since it wasn't there in the previous version.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432364 13f79535-47bb-0310-9956-ffa450edef68"
bf0aaa182d5a7cf8297c8d39a0193df64c5998a2,"couple more tweaks to css to get font sizes to match a little better.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432369 13f79535-47bb-0310-9956-ffa450edef68"
ea0509f15d0e64f4f0ccbefd6d1f26c68028f492,"show absolute url in file upload confirmation message.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432711 13f79535-47bb-0310-9956-ffa450edef68"
039c37152ff9ec6e8b708e457c485196d0713011,"somehow we lost the old ""pages"" variable from the context, so i'm adding it back.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@432712 13f79535-47bb-0310-9956-ffa450edef68"
8e4cfc700a865e5f469f10bca5b1b849a509694f,"don't number comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433280 13f79535-47bb-0310-9956-ffa450edef68"
b353adbdc1e2c2f9ecdf651ddf66701749e36e67,"fixing calculation of absolute url path in init filter, which was broken in cases where app was deployed at root context and first request was to ""/""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433299 13f79535-47bb-0310-9956-ffa450edef68"
5b5814cb8ee14c0e97f04b5ac8924a6d766ddde6,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433328 13f79535-47bb-0310-9956-ffa450edef68"
0aa0f0f7e3a91b5efa5b0cf930292df32ad8a670,"fixing cache flush method for MaintenanceAction to work with 3.0



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433330 13f79535-47bb-0310-9956-ffa450edef68"
1f2770a9128343dc053327ceb506a3a7e0a8523f,"make planet pager work.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433427 13f79535-47bb-0310-9956-ffa450edef68"
ff1a7abdea3c00b685c0bd29306893c24f735920,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433444 13f79535-47bb-0310-9956-ffa450edef68"
2e477fea08e688d8a6df5536c53b17ba088cf5be,"cleanup handling of local feeds in planet for roller 3.0

- separated out sync websites task and rank subscriptions task.
- sync websites now uses roller 3.0 urls
- getEntries() method for local roller planet impl now works with 3.0 urls



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433455 13f79535-47bb-0310-9956-ffa450edef68"
776659c092172f27311e0d7a9f498af51716b652,"readmore plugin is no longer needed or supported.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433461 13f79535-47bb-0310-9956-ffa450edef68"
ca4c8dd1466f6ad75e55b1d30ea9f0e85f053634,"provide methods in the URLModel which allows users to construct urls to locale specific views of their blog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433714 13f79535-47bb-0310-9956-ffa450edef68"
9d473c746885ed3c0ee855c5bc5d919c9616a9bd,"Updating docs with I18N settings and .home(String lang, int pageNum)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433730 13f79535-47bb-0310-9956-ffa450edef68"
2c5ad298a81237f808d94ddbb4d81386374bda43,"Fixing typo in docs directory name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@433734 13f79535-47bb-0310-9956-ffa450edef68"
cb891887a8f888610b5bec36b17e8d9496e9b56e,"Fixes ClassCastException in feed w/excerpts URL creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434050 13f79535-47bb-0310-9956-ffa450edef68"
b6e6aa02b134557f0dbee985f9ffd60b18aa922f,"adding a little comment about exception handling and logging for renderer factories.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434084 13f79535-47bb-0310-9956-ffa450edef68"
c40a47fb5073f1bbe21876baf9cfc53ae70f33ed,"log the error if there is an exception generated while trying to construct the velocity renderer object.  we don't expect this to happen.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434085 13f79535-47bb-0310-9956-ffa450edef68"
06fa427460a74268bf07b56af5da7ff84e3fbe21,"do a warn, not error, when the feed servlet gets and exception for not finding a renderer.  this is because the feed servlet actually takes direct input from the user for constructing the renderer template id, so there are cases where bad input can cause and exception and we don't want to flood the logs with unnecessary exceptions.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434086 13f79535-47bb-0310-9956-ffa450edef68"
63efcdad8d4b421ede46062e70c04ffde31a6bfd,"adding experimental cache warmup job.

this class is not referenced by or used by any other classes, so it remains experimental.  at present it only supports warming up the entries feeds in rss and atom.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434095 13f79535-47bb-0310-9956-ffa450edef68"
6e05017b51eb3b97f2b2519944bcf6feb872e246,"make the experimental cache warmup job a bit more flexible, so that you can actually spread it out over multiple threads :)



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434270 13f79535-47bb-0310-9956-ffa450edef68"
fca69309d89e610dd242a0c657aeca055979c59f,"better null checking.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@434514 13f79535-47bb-0310-9956-ffa450edef68"
586f7cbd317c895b89f7deb5dadff6f74dda34d4,"Added front page settings and correct MetaWeblog API URL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436843 13f79535-47bb-0310-9956-ffa450edef68"
333ad7e9861ee5fc898afcf4f765d060f13afcf0,"Added help instructions to index.jsp to explain how to finalize a Roller install

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436844 13f79535-47bb-0310-9956-ffa450edef68"
d6d7bf27cd587c87975b6bc2775017af1ce4b514,"Linkback macro was stepping on $url model

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436869 13f79535-47bb-0310-9956-ffa450edef68"
d4bb6d2e8eaffc21b23fa30dad7e51c2d658a0e4,"make absolute urls the default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436871 13f79535-47bb-0310-9956-ffa450edef68"
136e4141a2fc235e164032a00648c0fe685c161e,"feeds don't need custom models *yet*, and right now the only custom model is the PlanetModel which throws an error if it's used by the feed servlet.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436873 13f79535-47bb-0310-9956-ffa450edef68"
cd621d25cc11557045313a3bd3e6058653b20c37,"Oops, forgot to commit doc source

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436924 13f79535-47bb-0310-9956-ffa450edef68"
a7d9d97099ab7436248d44fae6543fd5482d4dca,"Fixed setAttribute calls, how did they ever work?

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436959 13f79535-47bb-0310-9956-ffa450edef68"
329b344b770843dfe1dc58786293875a21f06297,"You need Global Admin rights to edit comments site-wide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@436968 13f79535-47bb-0310-9956-ffa450edef68"
9e4aa7a81c9d62879e0cb407dee09ab42cb045ec,"Added model method to support 'pinned entries' to SiteModel and frontpage theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437161 13f79535-47bb-0310-9956-ffa450edef68"
991d4f1cc68e0123ca2c9c64ef8d31f6c4bd1640,"Upgrading standalone build to 3.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437162 13f79535-47bb-0310-9956-ffa450edef68"
4cb3ac9697d7df3bd24a645fb4adafa2bcb23a5a,"Preventing NPE that occurs on some URLs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437164 13f79535-47bb-0310-9956-ffa450edef68"
c71c1a28797a3eacacd5549bd5a10dad32949e91,"Fixing class cast exception in big calendar

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437512 13f79535-47bb-0310-9956-ffa450edef68"
922cdefe2e35ec31838b406e7f90fdc48d658195,"code reformatting

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437513 13f79535-47bb-0310-9956-ffa450edef68"
2fc570750f8d9183e9eed776e8dcca32a35fdb6f,"Underbar must be escaped

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437688 13f79535-47bb-0310-9956-ffa450edef68"
ad42ac829a893079fe17d90e79f579183c29f4cc,"need to set content type on the response.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437764 13f79535-47bb-0310-9956-ffa450edef68"
2323c7768db723e87ce23ef57b0062126ff54f01,"Moving setup page under WEB-INF/jsps

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437776 13f79535-47bb-0310-9956-ffa450edef68"
d338b80962b3e7dc98771eaa92ab09c81541f7d9,"Typo was preventing [edit] link from working in legacy macros

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@437783 13f79535-47bb-0310-9956-ffa450edef68"
6dc244f9744fb32cc31a29eaf4cb1a48822fa9ea,"This commit fixes a number of problems with Roller's APP implementation:

- For media post, the request header ""Title"" no longer has to be the file name 
  of the file being uploaded. If you specify a title header that is a valid 
  file name then it will be used for the uploaded file, otherwise a valid file 
  name will be created based on your title.

- For any post, the response header ""Location"" now contains the 
  Edit URI of the entry created by the post.

- The collection feeds now use weblog titles and provide a link back to the
  weblog (as suggested by Jeff Blattman).

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438129 13f79535-47bb-0310-9956-ffa450edef68"
8fbbf42879857b8a75b8d2f0738905d5a73cfbae,"Big calendar now creates links correctly

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438130 13f79535-47bb-0310-9956-ffa450edef68"
9876d8eb2adb3d982bd8c272db8348f53616d014,"Legacy navbar macro now creates links correctly and new page menu macro now works more like the old one

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438131 13f79535-47bb-0310-9956-ffa450edef68"
e33fb4c92d2953d15fcd353e2ffdbb27f7697dd5,"updated ant build process.

- modified and renamed a number of targets to be more descriptive.
- reorganized the output of build results in build directory.
- changed to new distribution package layout.
- updated lots of places to try and use variables as much as possible instead of hardcoded paths.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438204 13f79535-47bb-0310-9956-ffa450edef68"
b39e0ce4004e8f1423b2551ec5aec63ae8249e63,"Big calendar doesn't use pageLink except for next/prev month links

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438350 13f79535-47bb-0310-9956-ffa450edef68"
9e60619a77a844216628061a0dbf76597e161f8d,"Allow Global Admins to set additional page models via weblog settings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438520 13f79535-47bb-0310-9956-ffa450edef68"
d64a13c96bd51e8eab2cc7f7d44c5423a08abd63,"Bookmark macro shouldn't print bookmark folder name (i.e. should work like old macro)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438521 13f79535-47bb-0310-9956-ffa450edef68"
dd3902c06484115f6116c290418f0e20721be686,"Look for location header value in the right place

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438586 13f79535-47bb-0310-9956-ffa450edef68"
d2e4f7b11f545a9313466077a429389dfd9aecab,"The bulk of this patch is to add SSO-support for:
- User Registration
- Auto Provisioning

Details:
- Added 6 new classes:
	- AuthoritiesPopulator
	- AutoProvision
	- AutoProvisioningHelper
	- BasicUserAutoProvision
	- CustomUserRegistry
	- RollerUserDetails
- Modified UserNewAction and UserNew.jsp to support pre-filling of information based on SSO data
- Included commented out sample security.xml configuration
- Added template roller.properties for SSO features

Misc:
- Added two more bloggers to roller.properties
- Added extra method to RollerConfig for defaultValue support on string props

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438594 13f79535-47bb-0310-9956-ffa450edef68"
d83a5794e6447280bf0ffeb98ae802c32a70008a,"The bulk of this patch is to add SSO-support for:
- User Registration
- Auto Provisioning

Details:
- Added 6 new classes:
	- AuthoritiesPopulator
	- AutoProvision
	- AutoProvisioningHelper
	- BasicUserAutoProvision
	- CustomUserRegistry
	- RollerUserDetails
- Modified UserNewAction and UserNew.jsp to support pre-filling of information based on SSO data
- Included commented out sample security.xml configuration
- Added template roller.properties for SSO features

Misc:
- Added two more bloggers to roller.properties
- Added extra method to RollerConfig for defaultValue support on string props

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438595 13f79535-47bb-0310-9956-ffa450edef68"
1e7dd5446772dce53209acc21729d34b494d165a,"Added ASL license headers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438623 13f79535-47bb-0310-9956-ffa450edef68"
8c85e587b0d4ea4d9d6ea4e5bbc33d2d76e29755,"Edit or Media-Edit URI may be used to delete media entry

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438624 13f79535-47bb-0310-9956-ffa450edef68"
64e8083a0cbe3ee23eb2d7e0f5799a94a514ef5d,"As per Allen's suggestions:
- Refactored getAutoProvision from AutoProvisionHelper to RollerContext.
- Moved check for .autoProvision.enabled inside RollerSession

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438727 13f79535-47bb-0310-9956-ffa450edef68"
bfd55da581dd850fefe2d24e2381fcdd3d4a722e,"Fixing bug in formation of Read More link

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438754 13f79535-47bb-0310-9956-ffa450edef68"
2e993510e9b917bb035032fc37aaf35260dc5e85,"Fix in order to compile under JDK 1.4.2

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438815 13f79535-47bb-0310-9956-ffa450edef68"
bb67c5a9aef1c12bb57564e2ebe250852edbdf67,"Fix for Bug ROL-1225.  Add headers to get browsers and proxies not to cache.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@438817 13f79535-47bb-0310-9956-ffa450edef68"
9f0214506040a26e508fcc9d99d6c2865ccd1da5,"Fix for ROL-1225.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438819 13f79535-47bb-0310-9956-ffa450edef68"
12682edb9327afad4ad9e72b1c495aec4a83d75b,"Preparing files for release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438907 13f79535-47bb-0310-9956-ffa450edef68"
970db651290fe4568feaafe91216e5d3d1a55766,"Removing refs to RollerRequest and fixing broken auth in Blogger/Metaweblog API

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438916 13f79535-47bb-0310-9956-ffa450edef68"
aa1e58ed99f9976e4e906a37d9b6850357919b4a,"Simplifying filename creation logic in media posts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438920 13f79535-47bb-0310-9956-ffa450edef68"
7c2b7b22bffbb3aded272bf6cd9355608e471414,"Code reformat only

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438922 13f79535-47bb-0310-9956-ffa450edef68"
717a773d26d505204e3a7e48a2578effea3d41fa,"Updated install/upgrade guide for Roller 3.0 release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@438950 13f79535-47bb-0310-9956-ffa450edef68"
22b5a88d494fd4adf1080b0ab2597cf2dd7e42f7,"fix compile error, call correct method sig


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@438979 13f79535-47bb-0310-9956-ffa450edef68"
ee1b7abb6ef083ae368e3d2ed49ee9befdcbd0a6,"follow following pattern for saving / invalidating resources:
obj.save();
roller.flush();
CacheManager.invalidate();


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@438981 13f79535-47bb-0310-9956-ffa450edef68"
b47d92e63f154152d1bd116ac0f2b9f0d83bd67a,"Example docs for rollertask.sh

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439018 13f79535-47bb-0310-9956-ffa450edef68"
0bf6ebdcc5e3152d6c09344e42f6150fce2b0d1a,"Moved to its own dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439020 13f79535-47bb-0310-9956-ffa450edef68"
2df8baf0824c95e8d8cf704c40c65d4607ae97e5,"call it rollertask to match script name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439023 13f79535-47bb-0310-9956-ffa450edef68"
dece3e4f2c1cccba5c490ff7ff85dbb80bf688b4,"another quick cleanup for exception handling/logging on velocity renderer construction.  we now have more comprehensive exception handling from VelocityRenderer to log all the right exceptions.

also disabled logging of renderer not found exceptions in FeedServlet because the feed servlet doesn't really validate the input which forms the template ids for feeds, so it's very common to get requests for feeds that are totally invalid and that just fills up the logs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439097 13f79535-47bb-0310-9956-ffa450edef68"
0851a0fe99567334dc1eb1c8f16d93d9192ef8b5,"need an index on new weblogentry.locale database column.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439104 13f79535-47bb-0310-9956-ffa450edef68"
8eee56901000f1425bc1597ec037315f75b26e3b,"reformatting UpgradeDatabase class and removed the old and unused Roller.upgradeDatabase(con) method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439105 13f79535-47bb-0310-9956-ffa450edef68"
637c1bfdb4c38eaa3c5a93716c13cb24550af8da,"we were ignoring the cat argument

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439337 13f79535-47bb-0310-9956-ffa450edef68"
6242f4486c468c6a228d9ff2c4f1133320acbf9d,"move current set of supported plugins to core source tree.

- moved plugin classes out of separate 'contrib' build space and into core source tree along with a java package change.
- updated default roller.properties config to only enable a subset of the plugins by default.
- updated config properties for topictag plugin to not use full classname since the package just changed.
- updated build.xml to not build and include contrib as part of standard build.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439394 13f79535-47bb-0310-9956-ffa450edef68"
d8880f991e360edbb9647b5e01952ce0dddc176c,"Restoring trackback link in legacy show-entries macro and adding trackback autodisco to all day templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439397 13f79535-47bb-0310-9956-ffa450edef68"
a949824f3de3083b6d9ae7883f9d7f92d947673f,"fixing up Simleys plugin test and relocating it, and removing textile plugin test because that plugin is no longer truly supported.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439400 13f79535-47bb-0310-9956-ffa450edef68"
a5e507a02265d89637ba30785feb5c05a2f61c35,"apply save,flush,invalidate pattern to Roller*Handler classes


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@439490 13f79535-47bb-0310-9956-ffa450edef68"
63f54f921c0f9d9f4c2eb2f8abd231433869b815,"Added style needed for legacy category macro positioning

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440357 13f79535-47bb-0310-9956-ffa450edef68"
dc654c05279deaffdfcdec3f6e647553d04bb836,"Trackback enabled config

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440365 13f79535-47bb-0310-9956-ffa450edef68"
438793f74f19801b925b74b1dc68819861b389fc,"fixing broken comment management links: parameter name is entryId, not entryid

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440366 13f79535-47bb-0310-9956-ffa450edef68"
9b2489dff38bddd5851dd2d08e9257960828f5b2,"final bit of upgrade sql for 3.0.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440392 13f79535-47bb-0310-9956-ffa450edef68"
5a5d71e4928501f59637382cf11144b9804ab82d,"generated package names changed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440411 13f79535-47bb-0310-9956-ffa450edef68"
6e4b91155b72b2aafadca7a695b4cadadc76b5a1,"Apply website timezone if available

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440418 13f79535-47bb-0310-9956-ffa450edef68"
781eb6b6ae7272abaea389172103118304c9031b,"final cleanup for entry plugins architecture.  WeblogEntryPlugins are no longer
given access to the rendering model at init time.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440456 13f79535-47bb-0310-9956-ffa450edef68"
0128622b9c2e28dd2932b2d89a8bed41f8377431,"Datamapper working version

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440509 13f79535-47bb-0310-9956-ffa450edef68"
f19496c3f70b352d98e6c22246b9e5e4a6967743,"Datamapper JDOQueryImpl

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440513 13f79535-47bb-0310-9956-ffa450edef68"
8d33c950bf91fb2c7bcfe341d4a4a5b133125a18,"Datamapper lib

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440515 13f79535-47bb-0310-9956-ffa450edef68"
62a4fb38593bdc99c4cbcbc374622fe064104e22,"cleaning up Roller impl for datamapper and JDO.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440523 13f79535-47bb-0310-9956-ffa450edef68"
e0b1416bd6d946f0beaab41e7a4bc8906d1d0557,"Remove long-commented dead code; was confusing.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440592 13f79535-47bb-0310-9956-ffa450edef68"
abc120376cf630ac8d445fbf0fc800bb84b19b74,"Add Expires header in past wherever we set Last-Modified.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440599 13f79535-47bb-0310-9956-ffa450edef68"
7087aacc6839633d2d6ea90fc2672448b320295f,"Create and use ModDateHeaderUtil class to localize and make uniform the logic for checking If-Modified-Since header and for setting the Last-Modified header, including the logic to deal with truncation to second granularity.   

The utility class could potentially be drawn into a common base servlet class later if that materializes.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440617 13f79535-47bb-0310-9956-ffa450edef68"
b288524186051bb6d752d94e6054b505ec6a34f9,"Added spec reference comments.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440734 13f79535-47bb-0310-9956-ffa450edef68"
adcb79c5cefc52bff32101478b13890b2c7c6c0f,"Need to set content type before getting writer, otherwise it defaults to browsers default charset (typically ISO-8859)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440747 13f79535-47bb-0310-9956-ffa450edef68"
8264698bfc47503baa3925b8876bc6ea3f36df9c,"cleaning up the way WeblogRequest objects are passed to Models and used for initialization.

the standard is that Models which need info about the weblog they are being used on should lookup the WeblogRequest via the 'weblogRequest' init data parameter. If they need a subclass of WeblogRequest then it is the Models job to cast the weblogRequest into the expected subclass and verify that they have what they need.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440765 13f79535-47bb-0310-9956-ffa450edef68"
5f938e28df5bc3c9eafaa64b808f798dd68695b9,"Set UTF-8 on APP posts and puts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440813 13f79535-47bb-0310-9956-ffa450edef68"
830cf86963b048dcbae8ba3bba5e07185ef814cd,"minor fix for navbar macro.

- site url needs to end with a ""/"" so that it works for root context.
- we only show delimiter if we are not displaying $vertical.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440887 13f79535-47bb-0310-9956-ffa450edef68"
18a1d4b561857de06090aa0f5b011657c52971a5,"final cleanup for contrib plugins directory.  this code can now be properly moved to the roller support project at java.net



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440893 13f79535-47bb-0310-9956-ffa450edef68"
9654089e102c738db7f0b8ba38e78e1101412de1,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@440982 13f79535-47bb-0310-9956-ffa450edef68"
608f5b0777250010b3507c3b807a48061822e627,"Fixing search results display in frontpage theme

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441119 13f79535-47bb-0310-9956-ffa450edef68"
38ec1c328a827b48b48fb124c7a84c4eb98f0278,"Templates must default to not-hidden, otherwise added pages (like the blog directory in the frontpage theme) will be 404

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441120 13f79535-47bb-0310-9956-ffa450edef68"
4f00903352a20f778a2e00ea11d3a6393741f2fc,"Added newline at end of file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441123 13f79535-47bb-0310-9956-ffa450edef68"
5eae36ae9c49af7bc8bb62e3893c049f8dd97246,"catch potential null pointer if entryAnchor is null.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441215 13f79535-47bb-0310-9956-ffa450edef68"
fa5825ec3efa81c182b58b8e2623a9313e3b14e9,"adding missing property email.comment.commentApproved and fixing a typo.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441216 13f79535-47bb-0310-9956-ffa450edef68"
f02507e931d113079a388de8d971735e0b644cf3,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441245 13f79535-47bb-0310-9956-ffa450edef68"
c09bf405b2f025ceb3ff61c14d1aaf358eec35f8,"change message to debug level logging



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441278 13f79535-47bb-0310-9956-ffa450edef68"
8392639165bb37a611892cfdb15712ad0b149219,"I18N fix for reading themes from disk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441508 13f79535-47bb-0310-9956-ffa450edef68"
c81dc1af4b0d859de4aec415b705dcd818434995,"New Chinese translation from huangfeilong@gmail.com

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441509 13f79535-47bb-0310-9956-ffa450edef68"
6de89bc32aecc62ad193f310792433172e1ad683,"Fix for ROL-1226.  Put back meta tags for Content-Type header.  Required by IE 6 when serving internationalized pages from its own cache.  This commit is supposed to include all themes that didn't already have them.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441541 13f79535-47bb-0310-9956-ffa450edef68"
8764a907c68ccb7eb3094f5601b815c9721d47ef,"Moving non-core themes (with Anil's content-type fix) to external Roller Support project at Java.Net

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441577 13f79535-47bb-0310-9956-ffa450edef68"
5831ad56e172016d29ec6324d37492379d478e3b,"Theme preview images should be inside themes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441612 13f79535-47bb-0310-9956-ffa450edef68"
8c1f87875859306dd4afff0fd6b32deb91b9c257,"Fixed typo in build.xml

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441689 13f79535-47bb-0310-9956-ffa450edef68"
cd96c1bd514e51769378a772dbb35a84b0c8e4b6,"Datamapper update

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@441741 13f79535-47bb-0310-9956-ffa450edef68"
e75ad1bd271c100262560c03a519e3124d0d26d8,"Renaming Spanish translation, see Sean's comment in ROL-1059)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442194 13f79535-47bb-0310-9956-ffa450edef68"
0ad60fb2afa1717e30238d2edfaaeb0e3a324552,"Fixed some path elements referring to old variables

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442408 13f79535-47bb-0310-9956-ffa450edef68"
436a0a62f5c869b25c4d9ff2102506c0c405542b,"Final changes before RC1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442649 13f79535-47bb-0310-9956-ffa450edef68"
21e571dfbf00fc2f94a07e03c36058f31fd2b330,"Final doc changes before RC1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442651 13f79535-47bb-0310-9956-ffa450edef68"
d7128f202d839e63aa86417f69fedcbaaaf1fa2a,"Final doc changes before RC1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442652 13f79535-47bb-0310-9956-ffa450edef68"
c9acf01d468eab4cca6cba1307db880d0cc2d57b,"PersistenceSessionFilter should only be applied to REQUEST scope, otherwise it can close connections if the request is forwared at some point.

RequestMappingFilter and InitFilter should have 'dispatcher' elements.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442723 13f79535-47bb-0310-9956-ffa450edef68"
daeedfeeb67082a6d3f8b2b58292f60b2d9dbad7,"cleaning up and organizing log4j config and adding in default logging level for new net.java.roller package used for code from Roller Support project.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442724 13f79535-47bb-0310-9956-ffa450edef68"
2b2bdd86c917134c5ba6947f0f446cdee24a4fc7,"vars for metrics should be protected.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@442735 13f79535-47bb-0310-9956-ffa450edef68"
6ffbd62bf3b5f909156d14cd9fbb8fa438629285,"adding proper licensing header.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443061 13f79535-47bb-0310-9956-ffa450edef68"
34dc1af8ea6e7c1cd29233c3964f62cd3495b9e9,"removing old pager impl class.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443062 13f79535-47bb-0310-9956-ffa450edef68"
1d1d43437d8630d81a485fcfa5308180a42f498a,"Make roller-demo filename configurable

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443079 13f79535-47bb-0310-9956-ffa450edef68"
5f42fd8c783c2ec841986535ddc1ebd6084f6819,"add custom web resources directory for jdobackend to hold properties file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443148 13f79535-47bb-0310-9956-ffa450edef68"
671551da75988d16747121d4840cc066444e8a0a,"adding custom copy call for jdo web resources (commented out).



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443149 13f79535-47bb-0310-9956-ffa450edef68"
f10de18ab24369c6034f20df5043c35fd0e643b1,"Datamapper update

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443151 13f79535-47bb-0310-9956-ffa450edef68"
5f6ff7045070dd0f420aed2ca81f2bc92538db84,"Datamapper update

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443154 13f79535-47bb-0310-9956-ffa450edef68"
1a1c1da0e5f61b4fe10e2a36da74569f543ad6e7,"force use of 1.4 source level in all calls to ant 'javac'



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443155 13f79535-47bb-0310-9956-ffa450edef68"
91f3b9b956570af3042c8ecaa314afd75d431e2b,"Datamapper remove setTypes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/branches/roller_3.0@443159 13f79535-47bb-0310-9956-ffa450edef68"
84e7b906fba0694019c32b0f22d9bb9bd879c48a,"Moving Roller 3.0 to trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@443329 13f79535-47bb-0310-9956-ffa450edef68"
be5de11fcd493552249e9b14e5b54b28ee4ca30c,"- updated .classpath for those roller-eclipse-developers

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@443388 13f79535-47bb-0310-9956-ffa450edef68"
ac10ce18d3f938cb027debf25e1c774f609224ff,"Whipping PlanetTool back into shape and preparing to start Planet Roller webapp work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@443477 13f79535-47bb-0310-9956-ffa450edef68"
4825da58d19bb4c5d2e89944db88a1fdbb1e1fb7,"Whipping PlanetTool back into shape and preparing to start Planet Roller webapp work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@443478 13f79535-47bb-0310-9956-ffa450edef68"
602907d9c9238ab198a1dd48e39a712af6a3dbc1,"a bit of cleanup to the build.xml file to support greater flexibility for customizations of the business layer build.

- custom-gen-business can now contain more than just a fileset, so users can do any kind of generation work for the business layer.
- custom-build-business can now contain more than just a fileset, so users can do any kind of build work fo the business layer.
- also added a build.sourcelevel property and applied it to all calls to 'javac' to ensure that source is built against the desired jdk source level.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446653 13f79535-47bb-0310-9956-ffa450edef68"
61cbb5995172c82ebf8cd7312b478ddf5c95b99c,"fixing lost redirect for very old comments links which used to function as permalinks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446678 13f79535-47bb-0310-9956-ffa450edef68"
e710ed65427ce8fed08229fe5e50581324a6e3c1,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446685 13f79535-47bb-0310-9956-ffa450edef68"
2fd8f75a9b1d8aa7f412ffce937fa227dd5e0505,"fixing linebreak format.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446690 13f79535-47bb-0310-9956-ffa450edef68"
d1f841b8c2f7aa6baa7e3e9b93120be151aac00d,"a bunch of work to fix bad MT use of SimpleDateFormat class throughout Roller as described in JIRA issue ROL-1221

http://opensource.atlassian.com/projects/roller/browse/ROL-1221

- moved some shared instances of SimpleDateFormat from global scope to method scope in places where that seemed easiest.

- completely refactored DateUtil to only maintain shared references of the string representation of a format, not the actual instance of the format.  methods for access a format new return a new instance of SimpleDateFormat.

- added a synchronization block to the DateUtil.parse() method to ensure synchronization happens on format instances passed in for use.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446711 13f79535-47bb-0310-9956-ffa450edef68"
c195419770f0949dd3eaf784ee263bcf9b0afc72,"fix aapp URLs to include /roller-services


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446738 13f79535-47bb-0310-9956-ffa450edef68"
d48fc6c86a1419dae7a354bc066116bbeb2b7bb9,"fixing exception message so that if it happens you can figure out what weblog it happened to.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446743 13f79535-47bb-0310-9956-ffa450edef68"
4259a6cade588c85fe392469331b956c055e01c0,"Atom protocol draft 10 support: title element, categories and slug header

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446961 13f79535-47bb-0310-9956-ffa450edef68"
6ca29848e45b3ad4795f8e8ffac96474b16df924,"Don't include root category in APP service doc

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@446999 13f79535-47bb-0310-9956-ffa450edef68"
dc732c839a17b26196b7a78ce472e99d2d68cce4,"Don't include root category in service doc

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447010 13f79535-47bb-0310-9956-ffa450edef68"
380985fb4762301d1a5e3080a687a673b3eac5fa,"Updated comments with draft #10 schema info

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447141 13f79535-47bb-0310-9956-ffa450edef68"
1969465e0ea8838408e72388bc240740aa99cc90,"Include docs in standalone build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447386 13f79535-47bb-0310-9956-ffa450edef68"
cb04d2be982129b241245a19e8bbedeed323d73b,"Regenerated PDFs and HTML using Open Office 2.0.3

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447512 13f79535-47bb-0310-9956-ffa450edef68"
03ffcdb9048f73bdab17372478037aa5fad22dfb,"Use NUMBER(1) for booleans in Oracle scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447522 13f79535-47bb-0310-9956-ffa450edef68"
7fa666a28bfb079514bfe65094140f100331b40b,"Use ALTER TABLE tablefoo ADD columnbar syntax for Oracle

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447523 13f79535-47bb-0310-9956-ffa450edef68"
c83479185cb3581fc6b160fc0c17cf0c3e911bc0,"Fixing path to preview images (from Miles Huang's patch)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447553 13f79535-47bb-0310-9956-ffa450edef68"
5cee2c9f76f8de4552ae77d02ef75022938b6f52,"Fixing path problems related to directory restructure (from Miles Huang's patch)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447554 13f79535-47bb-0310-9956-ffa450edef68"
8427d2047030691b46eef24b8eeca6c7ec8637c5,"code reformatting and cleanup.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447563 13f79535-47bb-0310-9956-ffa450edef68"
ba311ab10411ae9e259e5ec1c986da0b0fdc8a20,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447567 13f79535-47bb-0310-9956-ffa450edef68"
b7a1797df266a5b93a57c2da84befa32f3a0163a,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447573 13f79535-47bb-0310-9956-ffa450edef68"
0d47e70cad27878a7c1105685440f20530c384cf,"Ask WebsiteData for tempalte, not UserManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447581 13f79535-47bb-0310-9956-ffa450edef68"
e26ecc1b0d080f97d0c351e043a8847a4de7f053,"Added links to hot-blogs listing, per Steve Lihn's bug report.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447597 13f79535-47bb-0310-9956-ffa450edef68"
05af572f204d31ff81a6455dc897a94dbe304aa6,"Datamapper JPA and metadata

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447605 13f79535-47bb-0310-9956-ffa450edef68"
24847c4f62ba13728301ff749f9ecb05b6728d5d,"Also build lame-o ZIP files for release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447609 13f79535-47bb-0310-9956-ffa450edef68"
a906454e93bad156043b5ee6e18f7b2871757a67,"Datamapper properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447616 13f79535-47bb-0310-9956-ffa450edef68"
ac2c620942a0b957699d3056eebf303e7e2bbe52,"Datamapper library

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447634 13f79535-47bb-0310-9956-ffa450edef68"
f715d3d55436f1c12e6beabd501a69906f629627,"Datamapper libraries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447636 13f79535-47bb-0310-9956-ffa450edef68"
f0a7f1123114d64042526aa5a1d35808b5db90c1,"Datamapper libraries

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447637 13f79535-47bb-0310-9956-ffa450edef68"
2de1b10e027e322cd06ef2e05abf6d76a4d09111,"Roller backend working in separate webapp. Next: just the PlanetManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@447988 13f79535-47bb-0310-9956-ffa450edef68"
beca4d4ecb795c167b5ed5de3e013bbaeba4a8cf,"Standalone Ant file, no Netbeans dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448216 13f79535-47bb-0310-9956-ffa450edef68"
e0fa0a4d1d64d39f5cdb9d3178263defc89101dc,"Standalone Ant file, no Netbeans dependency

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448217 13f79535-47bb-0310-9956-ffa450edef68"
f7d186104adc79c5139b8fb9b2b146a3441123ea,"- added set/get enabled support in AAPP
- made most fields in AAPP objects optional to support sparse upates. rely on roller erroring when required fields are missing


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448278 13f79535-47bb-0310-9956-ffa450edef68"
d963fe0a9dd4ec2b8779f04c6d4e3cbcf0c9e8b6,"Initial tagging support commit

- Added new tables (weblogentrytag, weblogentrytagagg)
- Added new POJOs (WeblogEntryTagData, TagCloudEntry)
- Added more tests to WeblogEntryTest
- Added new methods to WeblogManagers (for TagCloud and WeblogEntriesByTag)
- Added support for /tags/ in URL Structure/Refactored all URL code to support/pass-through tagging information
- Updated hibernate.cfg.xml to support new beans
- Modified/Enhanced frontpage template to support tag cloud, hot tags
- Modified WeblogEdit.jsp to allow for editing of tags in entries (as well as WeblogEntryFormEx)
- Updated the build.xml to include new bean in hibernate/wrapper targets
- Added a new WeblogEntriesTagsPager for SiteModel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448460 13f79535-47bb-0310-9956-ffa450edef68"
04651d4efa5fa31aeb2d1f2bc7c9f7dee4be2e1b,"Moving planet code into it's own package

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448582 13f79535-47bb-0310-9956-ffa450edef68"
c81388e0124c0093e79de04944230965f120baba,"Planet manager passes tests (again)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448623 13f79535-47bb-0310-9956-ffa450edef68"
30c27bb64b3d9139bdc14c10af27110d6d058a80,"Planet webapp now uses Planet and PlanetFactory to bootstrap the PlanetManager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448662 13f79535-47bb-0310-9956-ffa450edef68"
85ea28d3f6d8997accb7f4c8dc4753e749b28b19,"Refactored WeblogManager method for getWeblogEntries method to support tags
- Updated all classes that used the method to include tagging information
  (NOTE: most of the cases, tags was set to NULL, but as we add support for tags, all we have to do is pass the desired tag list)
- Updated all Cache key generation to include tagging
- Removed WeblogEntriesTagPager and was able to reuse existing pagers to leverage all URL parameters

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448786 13f79535-47bb-0310-9956-ffa450edef68"
48956e148740f455abee7abfcf49d8e78e0a986d,"- Updated frontpage theme to create links to tags
- Added support for tags in URLModel and URLUtilities classes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@448956 13f79535-47bb-0310-9956-ffa450edef68"
e990c02de70400a46b21306e5fc5ce35519ac596,"Fixing bugs from Allen's mail
  http://mail-archives.apache.org/mod_mbox/incubator-roller-dev/200609.mbox/%3c45195FFE.2050706@sun.com%3e

- Fixed getTags query to not include aggregates in the order clause.
- Fixed SyncWebsitesTask compilation problem.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450149 13f79535-47bb-0310-9956-ffa450edef68"
278f4fff292738c2044ded15307737d01c9976e4,"- Fixed ClassCastException when generating cache keys that contained tags.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450233 13f79535-47bb-0310-9956-ffa450edef68"
1298e63a2c54746f278e304126f61c4bb97a08e1,"Using simple many-to-many instead of PlanetSubscriptionsAssoc class, which wasn't really working correctly anyway

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450571 13f79535-47bb-0310-9956-ffa450edef68"
7689e75ed073859bae811d07bfcfc3ad41d2d7cb,"Point to UserGuide page on wiki, not the 2.0 guide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450572 13f79535-47bb-0310-9956-ffa450edef68"
7efe60e1bc38403c1e9f7215e96f10824df98749,"First cut of simple JSF/MyFaces based UI for Planet Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450574 13f79535-47bb-0310-9956-ffa450edef68"
0f11bec45cdb2320d5ba706b128735502c4c91f4,"didn't mean to commit screenshots

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450575 13f79535-47bb-0310-9956-ffa450edef68"
08897fdc059c36174b6344ade395faaafff16131,"planet group assoc class no longer exists.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450618 13f79535-47bb-0310-9956-ffa450edef68"
7ee6c2d091e35a3b78741d14a74398d07786d918,"Added code to summarize tag table into aggregate tables for better performance

- Added a new TagManager and dependencies
- Added two new beans: SiteTagAggregateData and WeblogTagAggregateData
- Added a new task: TagSummariesTask
- Moved method from WeblogManager to TagManager (getTags())
- Modified createdb.vm to include the two new tables

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450690 13f79535-47bb-0310-9956-ffa450edef68"
e2f4832db9ea94b10bf60aabc4cc38e30aadc513,"Fix for build.xml to include two new pojos for tag summaries.

NOTE: this commit should have been done together with 450690. sorry.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450691 13f79535-47bb-0310-9956-ffa450edef68"
dfd05fe8d0ad97af5668f9dc59428378fe9c2d7f,"fix for 304 issue and weblog ""edit"" links.  modified the page servlet so that it only returns 304 responses for users who are not logged in.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@450979 13f79535-47bb-0310-9956-ffa450edef68"
33316fab904c8c5f0cacf727b1431c9d165a9225,"fix for trailing slash issue with weblog urls.  we now consider all weblog urls that end with a ""/"" to be invalid and get a 404, except for the weblog index pages.  we also allow the weblog index pages to work without a trailing slash and then redirect them to the version with the trailing slash for consistency.
 


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451053 13f79535-47bb-0310-9956-ffa450edef68"
433c25b700705180973308c8f5c1ad5f458128a3,"First commit for Roller 3.1 Theme Encapsulation work ...

http://rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_ThemeEncapsulation

1. Reworking of FileManager implementation to support storing files in a hierarchy using subdirectories.

  * Cleaned up FileManager interface and added new createDirectory() method.
  * Added new getFile() method which provides access to a specific file.
  * Removed methods which exposed the uploads dir and uploads path.
  * Removed canSave() method because it was redundant and should be implied by the call to saveFile().
  * Added better exception handling and comments.

2. Updated themes code to support the handling of theme resource files.

  * Added code for resource handling in Theme class.
  * Added code in ThemeManagerImpl for reading in Theme resources and properly setting them.
  * Cleaned up unnecessary methods from ThemeManager interface.

3. Updated ResourceServlet to be capable of serving up theme resources.

  * Added WeblogResourceRequest object.
  * ResourceServlet now checks if weblog is using a theme and if so checks if the requested resource comes from the theme.

NOTE: this work only partially implements the overall functionality of the proposal.  there will be further commits to complete the work.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451071 13f79535-47bb-0310-9956-ffa450edef68"
7d9778bb3f7355c19d4a4df57d6d0e4d0c58855d,"A couple tweaks for DebugFilter.

- added in a bit more debugging.
- added DebugFilter to filter-mappings and have it commented out by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451072 13f79535-47bb-0310-9956-ffa450edef68"
1283096fb87ac1100410839966822cd6f0473594,"- Removed use of lower() HQL function for better compatability with dbs.
- Fixed location of '%' in parameter.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451080 13f79535-47bb-0310-9956-ffa450edef68"
362b998c3d2f17eed5a878111c307d0866f0b519,"1. change to use org.apache.commons.codec.binary.Base64 instead of com.sun.syndication.io.impl.Base64. the latter was causing odd error when attempting to decode certain passwords. i don't really understand why though, but this is also what the APP endpoint uses.
2. check if user is disabled after auth
3. remove WSSE auth class. no use having that if it's not being kept up to date and not being unit tested. we can add it back in if we need it. 


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451356 13f79535-47bb-0310-9956-ffa450edef68"
bfcf2079eaba7e9ac64c5e152847361478752e53,"1. in previous commit, accidently added 2nd check for disabled user
2. re-factor auth code to be more understandable. move all verification into the verifyUser() method


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@451378 13f79535-47bb-0310-9956-ffa450edef68"
1c91177627582a65346d4ba89a6c1cbc0e785371,"Reverted commit that was using TagSummariesTask.

- Removed TagManager
- Removed getTagManager() from Roller
- Refactored TagCloudEntry to TagStat
- Removed SiteTagAggregateData (and reference from hibernate.cfg.xml's)
- Removed 2 unnecessary tables in createdb.vm

These changes also fix ROL-1247.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452115 13f79535-47bb-0310-9956-ffa450edef68"
fc3064697d984af0dcddf29393b3e77c6af9b517,"removing unneeded reverences to javax.servlet.jsp classes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452235 13f79535-47bb-0310-9956-ffa450edef68"
7cb6ce471364a72e7ed1ae5fb4b9ceadf7845716,"don't fail if trying to create a directory that already exists.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452239 13f79535-47bb-0310-9956-ffa450edef68"
765335c09a8f0497ee5a2092d8c535d008f58cf6,"Second commit for Roller 3.1 Theme Encapsulation work ...

http://rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_ThemeEncapsulation

1. Updated ThemeManager to import resource files as well as templates.

  * renamed saveThemePages() to importTheme()
  * added ability to import static resources.

NOTE: this work only partially implements the overall functionality of the proposal.  there will be further commits to complete the work.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452587 13f79535-47bb-0310-9956-ffa450edef68"
2800317ad7a1aca7ff5edb62081f16a377662c05,"Use TreeMap to keep pages in order

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452634 13f79535-47bb-0310-9956-ffa450edef68"
760713ed0b6b4a2e240250e08e9546b78cbfef26,"Adding missing I18N strings and fixing an image path

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452646 13f79535-47bb-0310-9956-ffa450edef68"
e07457dd4ec2fa21e0940b8431c7b29ee8688ea4,"Catch and report error sending revoke notice

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452647 13f79535-47bb-0310-9956-ffa450edef68"
76a4a1611c747acd4f28c812b09896c0485ecef7,"Shorten varchar(512) fields to 255 to please MySQL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452648 13f79535-47bb-0310-9956-ffa450edef68"
350b5e4419ee1a10ce178b024f099f5c21f71e07,"Oracle considers empty strings to be null, so put bare bones HTML in new templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452649 13f79535-47bb-0310-9956-ffa450edef68"
c41584b9cdd5a1d124709de70f22f0462a761dd2,"Use TreeMap to keep pages in order

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452650 13f79535-47bb-0310-9956-ffa450edef68"
5d434cbaa661410340d96cc23d8b218d6db4e2cb,"Added support for tag aggregate table by adding getAddedTags() and getRemovedTags() to WeblogEntryData bean.

- Refactored getTags() method in WeblogManager to reflect latest design.
- Added support for keeping track of tag changes to WeblogEntryData
- Added support for filtering based on tags in Entry Management UI
- Added getTags() and getHotTags() to Site and Page Model
- Added #showTagCloud and #showEntryTags($entry) macros to weblog.vm
- Updated frontpage theme to use new macros

Also tested to make sure we support unicode in all aspects of tagging.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452723 13f79535-47bb-0310-9956-ffa450edef68"
e4c6f00676d05281d5155a23f327d3f5ba75f377,"Word 'null' is redundant in MySQL and causes error in Derby

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452884 13f79535-47bb-0310-9956-ffa450edef68"
2c2cf7dd992b28cc4b7ec381148ffdfaefcba1c5,"decorator should be default null, as it is in migration script

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452898 13f79535-47bb-0310-9956-ffa450edef68"
c5eabc4bef021ac97ca98e7160e784a2240c4e66,"Fixes for weblog entry creation in WebSphere (ROL-1253)

- WAS 6.1 returns """" for getServletPath(), falling back on getPathInfo()
- Invalid use of "" vs ' in WeblogEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452980 13f79535-47bb-0310-9956-ffa450edef68"
0d3a219476b6105c7fe9df047348ab4559e84b4a,"title and siteURL were being overwritten by name and URL, which should be read-only

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452985 13f79535-47bb-0310-9956-ffa450edef68"
d228592093d63bf17af31692c428c5f52e580468,"PlanetConfigAction is an admin action

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@452990 13f79535-47bb-0310-9956-ffa450edef68"
ef1cd1d13e0e89a6f27a6ce24dce9890ab9caa46,"- Removed unused method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453009 13f79535-47bb-0310-9956-ffa450edef68"
dfffb377762d9f1e11fceb03be7a945e3f2725ee,"- Removed unnecessary call to stripInvalidTagChars()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453010 13f79535-47bb-0310-9956-ffa450edef68"
a4b9303a6385aff5068927fbf165b379c5e0183b,"- Change to WeblogEntryManagementSidebar.jsp to support tag filtering
- Added i18n message for Tags label

These were part of an earlier commit that I unfortunately missed.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453011 13f79535-47bb-0310-9956-ffa450edef68"
5557aef0314dd68a4fcfe5dc4c133305239eebdb,"- New roller-service JSON for Tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453012 13f79535-47bb-0310-9956-ffa450edef68"
9933016c14762ee6fc27c7990d154eac4e1b9781,"- New roller-service JSON for Tags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453013 13f79535-47bb-0310-9956-ffa450edef68"
3221f45dd95546418dd159ef6df6bda8bc833ff0,"Fixing queries broken by removal of group-sub assoc class

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453212 13f79535-47bb-0310-9956-ffa450edef68"
2034642ee926f3cb02f118b04251aaf66545ec1a,"Couple more planet fixes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453244 13f79535-47bb-0310-9956-ffa450edef68"
4e4d94945e823f3c26431890d614d83b1457e7c8,"Adding tag tables and 3.1 migration script

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453264 13f79535-47bb-0310-9956-ffa450edef68"
3189edd6c434b88e8a2dad6a1bc4ef2a057ecad4,"enabling custom models for feed templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453302 13f79535-47bb-0310-9956-ffa450edef68"
181208ff847c3ff0bcc855538cda7e1587eacdc1,"Thirs commit for Roller 3.1 Theme Encapsulation work ...

http://rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_ThemeEncapsulation

1. Added new WeblogResource interface to represent uploaded weblog resources.

2. More modifications to FileManager.

  * FileManager now takes a true WebsiteData object as a parameter to its methods rather than just a weblog handle.
  * FileManager now returns a WeblogResource for calls to getFile() and getFiles().
  * Updated FileManager unit tests to match.
  * Modified all callers of FileManager methods with new method signatures.

3. Updated file uploads form to handle subdirectories.

  * Updated UploadFile.jsp to display both files and directories in the listing as well as to pass around a ""path"" parameter in the form fields.
  * Updated UploadFileFormAction and its PageModel to account for changes needed to handle subdirectories.

NOTE: at this point this work mostly implements the functionality of the proposal, however there are some additional items to complete before being totally finished.  Primarily, this commit breaks part of the theme preview functionality.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453354 13f79535-47bb-0310-9956-ffa450edef68"
1e918b240dc73fdd5c59cc09bec7f1bec8bdf77d,"Fixing build target, which is supposed to compile and copy but do no code generation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453357 13f79535-47bb-0310-9956-ffa450edef68"
58840849fef2f6fed427d5b326f8074b32e2577b,"reverting change to URLModel.themeResource() methods.  unfortunately, these methods can't be changed to point to the weblog resource path because it would break weblogs using themes customized from 3.0 themes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453386 13f79535-47bb-0310-9956-ffa450edef68"
408942d557a2cf15f2fad52599fbf35ce81100af,"updating theme files to use $url.resource() instead of $url.themeResource() in templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453387 13f79535-47bb-0310-9956-ffa450edef68"
e779a3f61233f94531d270a35b3fa2c2596f4e9c,"Further refinements to build target, make it copy web files, make it NOT generate database scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453393 13f79535-47bb-0310-9956-ffa450edef68"
c1bc69321607de25c7678d6a1fe68d9207fa4bf7,"provide a setAuthenticUser() method on parsed request and update a couple comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453412 13f79535-47bb-0310-9956-ffa450edef68"
31abfa755ec9b920b8bc8f131ab0f8c7296aab5f,"fix theme previewing capabilities broken by revision 453354.

1. Updated PreviewServlet to use its own set of rendering models defined by ""rendering.previewModels"" property.

  * added new property to roller.properties
  * updated PreviewServlet to use the new property

2. Defined a PreviewURLModel which extends existing URLModel.  This allows previews to form urls that point to different places than the ""real"" or ""live"" versions of things.

  * overrided the resource() method to provide a different url which points to a special PreviewResourceServlet.
  * added url forming logic in new methods of URLUtilites.

3. Added new PreviewResourceServlet for serving resources in preview mode.

  * defined new WeblogPreviewResourceRequest which extends WeblogResourceRequest.
  * modified a copy of ResourceServlet to be sensitive to previewing.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453415 13f79535-47bb-0310-9956-ffa450edef68"
be8881bfe1f1a657dcea4f5830905cd636da7c5b,"move rendering cache classes from ui.rendering.util package to ui.rendering.util.cache package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453424 13f79535-47bb-0310-9956-ffa450edef68"
93fc1f68a7641f8065a6104169e7f4aace343e5e,"Removing unneeded build-business-all target

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453471 13f79535-47bb-0310-9956-ffa450edef68"
8846d7146bf7d4dc0d45346c57cc48201ffb1b3d,"JSP I18N fixes from Jian Liu and some comment changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453750 13f79535-47bb-0310-9956-ffa450edef68"
bd10b8fd55ad752932a22842827375845ece8459,"Fix for delete in-use and add duplicate-named category problems (ROL-1165, ROL-1163)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453752 13f79535-47bb-0310-9956-ffa450edef68"
db898c208f0b7f378c44194af5289b55b85f5e06,"Ensure that anchor is created even even title includes non-alpha numerics (ROL-1128)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453753 13f79535-47bb-0310-9956-ffa450edef68"
019216e448c4b99f8509f8b2856052d721fb74e5,"Fix for delete in-use and add duplicate-named category problems (ROL-1165, ROL-1163)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453754 13f79535-47bb-0310-9956-ffa450edef68"
8bac1e627d71734b910d9d6035360691ccbafe91,"Ensure errors/messages saved properly

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453755 13f79535-47bb-0310-9956-ffa450edef68"
8d86576e24f9fbdb7177da1a328a5c6d5e30ec0b,"More on tagging...

- Renamed weblogtagagg back to weblogentrytagagg
- Added lastused column to weblogentrytagagg
- Updated 300-to-310 migration scripts
- Renamed WeblogTagAggregateData to WeblogEntryTagAggregateData
- Changed FeedModel to support tags in the request params
- Refactored getTags() and getPopularTags() in SiteModel,PageModel and WeblogEntryData
- Added scriptaculous for tag type-ahead in WeblogEdit.jsp
- Improved TagStatsServlet
- Removed Tags tab in frontpage theme, moved it to the sidebar only
- Renamed getTagSet() to getTags() and getTags() to getTagsAsString()
- Updated Velocity macros to the changes and simplified #showTagCloud macro
- Solved world hunger (mostly in Latin America, Africa is next) [jk]

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@453774 13f79535-47bb-0310-9956-ffa450edef68"
c0160f373e29dd1ecbe059678ae0d58ab6e356de,"Bug in category name logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454195 13f79535-47bb-0310-9956-ffa450edef68"
49b3247e6c7d5c7f94978bc1b9e6f665e0bc9cf4,"I18N and bug fixes in bookmark management page from Jian Lui

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454196 13f79535-47bb-0310-9956-ffa450edef68"
aca5a9408fad2d5338555b5adea30870b596d60a,"Initial commit on Xinha editor. Still need to decide how to deprecated old editor-rte.jsp. Also, need to take a stab at trimming down Xinha -- I really don't think we need all of the files, smilies and plugins

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454197 13f79535-47bb-0310-9956-ffa450edef68"
aed7e0623726950114c981d23fa3d5fa88949aaa,"code reformatting and removing import lines for business layer unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454422 13f79535-47bb-0310-9956-ffa450edef68"
8df3bf36d4e491aa0e18c7bea3ae984616e3c85a,"Removing dav/svn specific files most likely not needed in Roller.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454441 13f79535-47bb-0310-9956-ffa450edef68"
96b7ca021ff9e3e0c3eb1356086a7e3336e29092,"Tag Fixes:

- Renamed count column in weblogentrytagagg to total because of confusion with count function in SQL
- Added TagStatComparator
- Modified Weblog*Request to disable other criteria when requesting tags
- Added tags in feeds
- Refactored HibernatWeblogManagerImpl to deal with case where two weblogentrytagagg rows are added.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454446 13f79535-47bb-0310-9956-ffa450edef68"
ccb5f4986b2ef082223635f39fae570153285606,"a quick first pass at cleaning up some of the unit test targets to make them a little more efficient and tidy.  



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454470 13f79535-47bb-0310-9956-ffa450edef68"
29a131756efa3098380b02647959d6f8b79dfbc8,"Cleaning up some queries to include latest thinking in tagagg race conditions.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454477 13f79535-47bb-0310-9956-ffa450edef68"
cf303d097fb9717fa03dcd92db218ba95276d656,"- Removed drop weblogtagagg statement.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454478 13f79535-47bb-0310-9956-ffa450edef68"
d75d1a890bca0184d1938bde6a07981b524fb53c,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@454577 13f79535-47bb-0310-9956-ffa450edef68"
067d46944ab855bf6770d67525d780ba1f1b8a1f,"fixing bug I just introduced in anchor creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462508 13f79535-47bb-0310-9956-ffa450edef68"
53fde6f189d6d335122dd2fd9bcdfbed2e01e92a,"make it possible to do a fully rendered entry preview.

- add a special preview pager which doesn't enforce things like status=PUBLISHED
- modify preview request to accept a 'previewEntry' parameter defining what entry to preview.
- update PreviewPageModel to use new preview pager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462836 13f79535-47bb-0310-9956-ffa450edef68"
e7a18473c9abc1c9a89b329d29a1993b8db3b8f8,"need to use PreviewPageModel for previews.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462837 13f79535-47bb-0310-9956-ffa450edef68"
9de359c086fae5d4d88b1f89c6d272784910d61d,"Adding new runtime property 'site.pages.maxEntries' to control max entries allowed per weblog page, as well as doing a little cleanup on some runtime properties.

- added new property 'site.page.maxEntries' to runtime config
- re-organized some of the properties in runtime config for nicer grouping
- udpated and re-organized matching properties in resource bundle as well
- removed use of old 'site.newsfeeds.maxEntries' which was no longer being used, instead we only use 'site.newsfeeds.defaultEntries' which affects the size of all feeds.
- updated Weblog Settings form to display an error if user enters an entryDisplayCount value larger than the max allowed entries per page.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462866 13f79535-47bb-0310-9956-ffa450edef68"
092d92c8c84ee115c42748bb6f553a45134c7ff9,"Tweaked JSON output in case startsWith is null

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462886 13f79535-47bb-0310-9956-ffa450edef68"
802169beeb37260692c60291c3f0f4bd7f4fcbda,"Added tests for tag aggregates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462887 13f79535-47bb-0310-9956-ffa450edef68"
ef1eba24bf0815006ec66568c5ba24c22e3fe39a,"I had forgotten to implement tagging in removeWebsiteContents()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462926 13f79535-47bb-0310-9956-ffa450edef68"
2ab720471dbe84c7f2a6fa9f94ec7ef391450f76,"- Tweaked some queries to work properly in DB2
- Fixed a bug in getPopularTags() that was dropping tags with same name but different casing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@462927 13f79535-47bb-0310-9956-ffa450edef68"
a44a5db31cb34c6998ef69a0d9b26733e441c132,"- removed getTags() from SiteModel because PageModel take care of that and it's stateless.
- added getTags() to FeedModel because it's stateful.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463108 13f79535-47bb-0310-9956-ffa450edef68"
4ef2954a63c8d07e9b8dedf699331a9955bf86ee,"- Added configuration property for max intersection size of tags in URL requests, defaults to 3.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463109 13f79535-47bb-0310-9956-ffa450edef68"
fcf1a8681303bb8b25b2589378d28a6552cf7be5,"Bulk delete of comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463255 13f79535-47bb-0310-9956-ffa450edef68"
f688d230deed15c23343fbc18c2ac258de1d0d80,"Follow naming conventions, i.e. remove rather than delete

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463326 13f79535-47bb-0310-9956-ffa450edef68"
6222e8e8cd831e4d0ebe2235dfc20ecb05044ed6,"some final tweaks to upload form for Theme Encapsulation proposal.

- added ability to create a new subdirectory from the uploads form
- updated error handling to produce some better messaging
- fixed a couple bugs in FileManagerImpl



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463388 13f79535-47bb-0310-9956-ffa450edef68"
c5c33dec41b131950c6eabec1c6d858f011fab9a,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463394 13f79535-47bb-0310-9956-ffa450edef68"
c43be2644f70ad82443ace7a782ef5cbc93b56be,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463423 13f79535-47bb-0310-9956-ffa450edef68"
cdf90dc2a2efe4a55a034fdb6083cc214eda1dbf,"First pass at task locking code ...

http://rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_ClusteredTasksViaLocking

1. Added new TaskLockData pojo and db table to persist it to

  * Added TaskLockData pojo
  * Added roller_tasklock table
  * added methods to manage this object in ThreadManager.  NOTE: ThreadManagerImpl is now defined by default to not enforce any locking and we then extend ThreadManagerImpl to provide a version which does include locking support via db.
  * Added TaskLockTest unit test

2. Replaced ScheduledTask interface with RollerTask class

  * Added RollerTask class
  * updated existing tasks to be RollerTasks
  * removed ScheduledTask interface

3. Misc other items

  * moved TurnoverReferersTask to business.runnable package
  * remove BlacklistTask because it's no longer run/supported



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463459 13f79535-47bb-0310-9956-ffa450edef68"
44ca779e587d5319a437478bf4bef1d4f5c2901f,"fix planet manager test compile error.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463470 13f79535-47bb-0310-9956-ffa450edef68"
03c13427a7af67e98a5b972c25c765166922496d,"Bug fix in removeMatchingComments. Had to curtail usage of HSQL bulk delete (for the time being) due to Hibernate and MySQL issues.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463480 13f79535-47bb-0310-9956-ffa450edef68"
4af8e223c945d2332d60b71206091a2f35114972,"code reformatting & cleanup.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463525 13f79535-47bb-0310-9956-ffa450edef68"
471fb9c1b5601e1c06a22d920d91d3999962434a,"small cleanup for RollerFactory to remove the public setRoller() method which really isn't and shouldn't be supported.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463531 13f79535-47bb-0310-9956-ffa450edef68"
1ae5bfc0d27f97656431d09915e7c139975b6745,"Fixed NPE when resource is not part of the theme.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463554 13f79535-47bb-0310-9956-ffa450edef68"
e5645e14aff75b905c5f2103382822f000b28ce6,"Adding new interface for defining entry editors.

1. Added new WeblogEntryEditor interface.

  * defined a new interface to represent pluggable entry editors.
  * created implementations for text and xinha editors.
  * added keys for editor names in resource bundle

2. Added accessor methods for entry editors to PluginManager interface.

  * added new methods for getting entry editors in PluginManager.
  * implemented methods in PluginManagerImpl.
  * add new PluginManagerTest unit test.
  * added new properties in roller.properties to define list of configured editors and set the default editor.

3. Update UI to use new pluggable editors framework.

  * updated Weblog Settings form & jsp to base editor options off of list of configured editors from PluginManager.getWeblogEntryEditors().
  * updated Entry Edit form & jsp to draw the editor using the values from the new WeblogEntryEditor interface.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463804 13f79535-47bb-0310-9956-ffa450edef68"
d31ff9ddcadef9d36097196592383ee1faf918b7,"move ping queue processing code into business layer where it makes more sense, there is nothing ui related about processing the ping queue.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463826 13f79535-47bb-0310-9956-ffa450edef68"
faedc9c929b01e3d08cb73fb67b3ea162ddc6146,"finishing up clustered tasks work by finalizing configuration options for tasks.

1. Defined new configuration method for scheduled tasks

  * tasks are now configured independing in the roller.properties file using a convention of tasks.<taskname>.<prop>=<value>
  * extended base RollerTask class with a method to easy get the properties for a given task.
  * updated existing tasks to make use of new configuration.
  * added definitions for all existing tasks in roller.properties

2. Updated task initialization to use new configuration options

  * RollerContext now sets up tasks based on new tasks.enabled property
  * We no longer fail entirely when a single task fails to initialize

3. Updated ThreadManager with consolidated scheduling option

  * Remove scheduleHourlyTask() and scheduleDailyTask() methods which are no longer needed.
  * Modified scheduleFixedRateTimeTask() method to accept a start time rather than start delay.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463877 13f79535-47bb-0310-9956-ffa450edef68"
0c75b1e510047ac25de5e6ee2ed8fb31977520b8,"fix previewing.  we only want the preview pager when we are previewing an entry, otherwise we want the standard latest entries pager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463879 13f79535-47bb-0310-9956-ffa450edef68"
30e93b6dde70e65633ade056b748de85766e1166,"we load themes from the ""themes.dir"" location now, so that themes can be maintained outside of the webapp.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463880 13f79535-47bb-0310-9956-ffa450edef68"
38db3af7ec94db199f653bccb459c7d323c28c1b,"remove setContextRealPath() and setPlanetCachePath() methods from RollerConfig, they are no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@463881 13f79535-47bb-0310-9956-ffa450edef68"
10be976c593d4bf56f9f8efe1d61239aeddb60ba,"- Made sure that tests called mgr.saveWeblogEntry(entry) because of the required semantics within the manager for aggregates.
- Removed some tests that interacted directly with the Hibernate TagSet to keep it ORM implementation agnostic
  * Note: all operations must be done via addTag, removeTag and updateTags

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464544 13f79535-47bb-0310-9956-ffa450edef68"
c2dc503ce5079e24adfd3c303748fa67481d3601,"- Fixed bug where we were using String.replaceAll() and File.separator in Windows becomes the beginnings of a escape sequence and throws an outofbounds exception. I'm now using replace(char,char).

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464575 13f79535-47bb-0310-9956-ffa450edef68"
85f7b9385696052741f47bdc11b7bef187b29ba7,"- Removed unnecessary interface

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464615 13f79535-47bb-0310-9956-ffa450edef68"
6efa67f82064c5efd9a219fe48b254a7c888ea36,"- Refactored tagging table names to have a roller- prefix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464616 13f79535-47bb-0310-9956-ffa450edef68"
6975fcb66954dd1461bfaa880d422bba13036ef3,"- Refactored tagging table names to have a roller- prefix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464617 13f79535-47bb-0310-9956-ffa450edef68"
d2e0f194ea7c1f3a77d847d9caab82e1d99b7bf6,"Created TaskRunner to make it easier to configure planet tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464640 13f79535-47bb-0310-9956-ffa450edef68"
06fdbfb93e0bf858f3f4c79275bd8a7d12e6407d,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464731 13f79535-47bb-0310-9956-ffa450edef68"
f9909200a5cac0e1d16d7e54d9ab87899f9ee2ff,"make sure that hibernate persistence strategy propogates exceptions occuring during a flush().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464737 13f79535-47bb-0310-9956-ffa450edef68"
4d1aa9c681dbfb343eb4293a6c21f600f5c268eb,"the by-letter queries should be case insensitive

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@464949 13f79535-47bb-0310-9956-ffa450edef68"
3bf5506e3b2cde264c75608186d0850c7681dc1c,"Starting to fixup up the static file generation task

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465056 13f79535-47bb-0310-9956-ffa450edef68"
0406c8cde29179d287e06c2416bd4258bf5322ab,"Added TaskRunner so make it easier to run Roller tasks from the command line
and from cron or cron-like O/S facilities.

Added these properties to make the Hibernate dialect and config configurable 
from a roller-custom.properties override file:

    # Hibernate dialect: You must override this to use a database other than MySQL4
    hibernate.dialect=org.hibernate.dialect.MySQLDialect

    # Hibernate config resource (a classpath-based path)
    # NO NEED TO OVERRIDE this unless you are customizing Roller
    hibernate.configResource=/hibernate.cfg.xml

    # JDBC configuration parameters for standalone tasks
    # Don't override these in the roller-custom.properties file you use with the 
    # Roller webapp, but for the standalone tasks that you run outside of Roller 
    # (e.g. refresh entries) you'll need to override these properties. Do it in a 
    # separate roller-custom.properties file.
    jdbc.driverClass=
    jdbc.connectionURL=
    jdbc.username=
    jdbc.password=

And changed HibernateRollerImpl to use JDBC params if jdbc.driverClass is 
not null or empty.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465057 13f79535-47bb-0310-9956-ffa450edef68"
58fadcc942bebcf0de7bdb386bdfd10ccd3ecd48,"Cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465058 13f79535-47bb-0310-9956-ffa450edef68"
d1ab6156f0c08822f656511c937dd006b0cfd0e6,"Fix in save subscription logic

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465071 13f79535-47bb-0310-9956-ffa450edef68"
cb3a25bb1e445c0029484d04886b1b58b91da075,"Fixing a couple planet related issues

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465248 13f79535-47bb-0310-9956-ffa450edef68"
fee0896730f16af008bb54aa7d4b5cbe0df0f7a1,"Truncate display of comments longer than 3000 characters -- we might want to go a couple steps further and put an upper limit on the size of each comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465338 13f79535-47bb-0310-9956-ffa450edef68"
9665d2895f5d55a354b828636c105b6ad0bd8353,"More fixes in planet tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465339 13f79535-47bb-0310-9956-ffa450edef68"
096d7f874f7447e7f350d87ae786fbb99f6b301c,"Don't print group on error, just the group handle

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465349 13f79535-47bb-0310-9956-ffa450edef68"
438b56b783a89d40c92933b06db4aae5f999c211,"Set thread classloader as soon as it is created

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465351 13f79535-47bb-0310-9956-ffa450edef68"
ba6d28207358198d6fae97a91b0eb5c28d6eebe0,"Hibernate needs Antlr

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465353 13f79535-47bb-0310-9956-ffa450edef68"
5cb242f831d751a2fe3bb138ca3593341a75324b,"not sure if it matters, but setting a more appropriate ejb:bean name.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465388 13f79535-47bb-0310-9956-ffa450edef68"
d25b8ba4616a6aa408d2581179d559e689c830c2,"Some tweaks to file management to switch to a single level hierarchy, similar to flickr photosets.

1. Added new getDirectories() method to FileManager interface.

2. Modified semantics of getFiles() method of FileManager so that it only returns files now, never directories.

3. Added a bit of code in FileManagerImpl to enforce the fact that nested subdirectories are not allowed.

NOTE: this will break the file uploads UI a little bit until it gets re-designed to properly display things using the new ""buckets and entries"" concept.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465389 13f79535-47bb-0310-9956-ffa450edef68"
7f1f09c1a0d7622eea051f91a7d88c17a0bf5119,"Bug fix in planet agg query

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465605 13f79535-47bb-0310-9956-ffa450edef68"
abc8c2de19f3fd7eeb0e5c47e3b339523f7e77a4,"Planet generation task working properly now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465665 13f79535-47bb-0310-9956-ffa450edef68"
10615157a392546fb36f0e1ee00b2b073bd7b5d6,"Moving org.apache.roller.model.* classes under org.apache.roller.business.*

This commit moves the FileManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465668 13f79535-47bb-0310-9956-ffa450edef68"
9d7b1628f510a23dafcd118a1830467ca62463bb,"Moving org.apache.roller.model.* classes under org.apache.roller.business.*

This commit moves BookmarkManager, ConfigManager, and PluginManager



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465676 13f79535-47bb-0310-9956-ffa450edef68"
e06676df79e6bb275264633d8819d708e497e8b5,"Moving org.apache.roller.model.* classes under org.apache.roller.business.*

This commit moves PropertiesManager, ThemeManager, UserManager, and WeblogManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465714 13f79535-47bb-0310-9956-ffa450edef68"
0d07968f4d4af06868bd0e8deb3cffaf859cd931,"Moving org.apache.roller.model.* classes under org.apache.roller.business.*

This commit moves RollerFactory, Roller, and RefererManager



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465716 13f79535-47bb-0310-9956-ffa450edef68"
42ada1b2b57f78b85c6d46c8e70497daaa6a0edf,"Moving org.apache.roller.model.* classes under org.apache.roller.business.*

This commit moves *Ping*Manager, ThreadManager, and IndexManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465720 13f79535-47bb-0310-9956-ffa450edef68"
3dd1dc0ea795987641c95ee8b4035954c8ea75a7,"Eliminating model package in planet code too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465725 13f79535-47bb-0310-9956-ffa450edef68"
45b8f9987dfdb965dff5eee8d8c5894fef55a724,"Fix debug-single test targets to use same config as JUnit targets

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465730 13f79535-47bb-0310-9956-ffa450edef68"
6324b61451e536155949e756fe4af0fd32fcd602,"deleting empty model directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465731 13f79535-47bb-0310-9956-ffa450edef68"
8c91c02fd2e84f3df33a79daa73dba397b982f33,"Eliminating model package in planet code too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465735 13f79535-47bb-0310-9956-ffa450edef68"
9bb22bb677e70ec0f510270465520a878d351942,"Eliminating model package in planet code too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465741 13f79535-47bb-0310-9956-ffa450edef68"
e61ac6e341144fcb4aea9e7cc7009a033b13d3d0,"Redirect to default group if there is one

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465742 13f79535-47bb-0310-9956-ffa450edef68"
57fe0ba302ba15b45d1cf4b0464c6fde81ca626d,"Creating a place for UI layer plugins & plugin management.  It doesn't make sense for all plugins to be managed through the PluginManager in the business layer since many plugins will be strictly for the UI.

1. Created UIPluginManager interface and impl (could need renaming :/)

2. Moved WeblogEntryEditor interface to ui.core.plugins package and moved logic for dealing with entry editors from PluginManager to UIPluginManager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465749 13f79535-47bb-0310-9956-ffa450edef68"
d365714a5852eb47a1472d7d8ccb944894669934,"rename unit test and make sure it's run as part of the UI layer tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465751 13f79535-47bb-0310-9956-ffa450edef68"
8ada7e8def76d25fc547354e795077429e106a91,"Move ThemeNotFoundException to business package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465764 13f79535-47bb-0310-9956-ffa450edef68"
2affe9ce0c5a356a4c88c2829f1c492caae6de48,"More refinements to Planet codebase

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465911 13f79535-47bb-0310-9956-ffa450edef68"
d1fbba0c5251a09558ec34383a15b642170eb982,"A few cleanup tweaks to Tasks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465923 13f79535-47bb-0310-9956-ffa450edef68"
c6c732a228269ca1281cd8e5744a50dc594b874c,"- Improved tagging support for more symbols: c++, C#, @work, o'reilly
- Moved to tag normalization and we are now using Locale to lowercase.
- Fixed ""bug"" in WeblogRequestMapper that was using decoded URLs as opposed to the original RequestURI.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465928 13f79535-47bb-0310-9956-ffa450edef68"
88f411aa9f460b4e6d3a18c27c0a695b8be506fa,"- JSP did not get refactored from .model. to .business.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465968 13f79535-47bb-0310-9956-ffa450edef68"
3858f05ab252826eef0b2cec9ca0f7b9a14c0f31,"- Fixed ClassCastException when dumping tags to log

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@465983 13f79535-47bb-0310-9956-ffa450edef68"
874c9ef197ad6f2124d1cffb54eb346f91c8dba0,"Making product name 'Apache Roller (incubating)' and removing word incubating from the version number

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466126 13f79535-47bb-0310-9956-ffa450edef68"
886b01cdc6ee1b5e19b483fbd1af1fca8a87f3d9,"- Avoiding NPE (same as earlier fix for ResourceServlet)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466134 13f79535-47bb-0310-9956-ffa450edef68"
6d28d0f379bab445ff15048ec79995ac65fd0dbd,"enable full preview for entries that have already been saved.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466200 13f79535-47bb-0310-9956-ffa450edef68"
5dbc57453194e97a0d145e315dfdcbcebca6cd47,"fixing part of the explanation paragraph.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466209 13f79535-47bb-0310-9956-ffa450edef68"
fb6d8cd71fab74b7d805c85c4467f7c48b4e9d7c,"getPopularTags should be visible to templates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466224 13f79535-47bb-0310-9956-ffa450edef68"
dc76b0037145d9fe22fe607d30004ce0c7f8caf2,"Prevent Xinha from adding a space to empty fields

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466244 13f79535-47bb-0310-9956-ffa450edef68"
6f09f995b5509e52cb80a964f4ae717cca89a1de,"- Removing isValidDestination method that made it more complicated for someone to reuse WeblogResourceRequest w/o subclassing.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466255 13f79535-47bb-0310-9956-ffa450edef68"
2db04c22de14dd5e82e56fda5b56c4dee8de698c,"- Updated tests for lowercase() support in tagging

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466259 13f79535-47bb-0310-9956-ffa450edef68"
c163e845f1e80c319acc7ea3dc411ce8ea1f5ae1,"only log start/stop messages at debug level.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466260 13f79535-47bb-0310-9956-ffa450edef68"
baa48847a0510e4e864360415814cc843d42c2e6,"- Fixed bug where I was normalizing on addTag() but not on updateTags()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466263 13f79535-47bb-0310-9956-ffa450edef68"
dd370fbe0fba97421f83451ec1b29d5ebf53ff52,"Indpendent hit count tracking ...

http://rollerweblogger.org/wiki/Wiki.jsp?page=Proposal_IndependentHitCounts




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466273 13f79535-47bb-0310-9956-ffa450edef68"
cacaa6f5023827282067f38ebf08b83becd5fb8a,"oops, also need to inlude HitCountTest in unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466274 13f79535-47bb-0310-9956-ffa450edef68"
6e16ca540cccb2bac5ae2ee24848627e6d2d6bb1,"fixing up file uploads UI so that users are allowed to maintain folders.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466301 13f79535-47bb-0310-9956-ffa450edef68"
c62ddcdcc1cc15b6cf4fff0ff0bd085c3d804583,"make sure worker thread is properly shutdown.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466307 13f79535-47bb-0310-9956-ffa450edef68"
ad1f3fc7a08c7a1ccc7d6bf6fb5f7b28152141fe,"a little cleanup on worker thread usage plus some logging.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466308 13f79535-47bb-0310-9956-ffa450edef68"
965c216ae9bf01c4f5c3c03f42bb7c2ce784a926,"a few fixes to theme encapsulation work.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466313 13f79535-47bb-0310-9956-ffa450edef68"
8671900013fb21e6128c2732f2db5d02c6183b40,"code cleanup and reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466314 13f79535-47bb-0310-9956-ffa450edef68"
9401f9f0f9acd6021ee34eb14d4ba087727fff47,"make sure that you can't add a template when one with the same name already exists.  and make sure that if someone adds a 'Weblog' template that we set the defaultpageid for the weblog accordingly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466316 13f79535-47bb-0310-9956-ffa450edef68"
b39f0a3f0e0898be6bb64fffea53bbb3cb8cc756,"Fixing up experimental Groovy scripts to run with 3.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466642 13f79535-47bb-0310-9956-ffa450edef68"
83fc4da3cf189a6d1c14dc2fd49ea98ccc8d0b89,"Adding logging for DB connection params (except password)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466644 13f79535-47bb-0310-9956-ffa450edef68"
fa98a825db69ebf7cd066ab5296440789e20f97b,"Separating TaskRunner classloader so it can be used elsewhere, switching from properties to command line args

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466645 13f79535-47bb-0310-9956-ffa450edef68"
86a6de2df8fc0970519bac2fad9f521caf075e61,"Fixing incorrect comment about planet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@466646 13f79535-47bb-0310-9956-ffa450edef68"
ad6004fa0dfd83efeb120e998078e80f146ce601,"restoring 'id' column of rag_group_subscription table and delaying its deletion until the future 4.0 release so that we ensure a simple upgrade/rollback path for minor releases under 3.x



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467049 13f79535-47bb-0310-9956-ffa450edef68"
5156df69a799916573e3724d04385e0546e0238d,"make the id for editors match the old values so that the upgrade path is non-intrusive.  this is mainly so that someone could potentially revert back from 3.1 to 3.0 without any problems.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467063 13f79535-47bb-0310-9956-ffa450edef68"
f7f7dd97dcba5b1abf74b68bd9b22de6d7af230c,"Updating docs for 3.1, first the template guide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467107 13f79535-47bb-0310-9956-ffa450edef68"
eb19c9082aeebfb8a6ba835c22c87398ea818fa7,"fixing bug with theme importing which was causing bad paths.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467123 13f79535-47bb-0310-9956-ffa450edef68"
b8cf778fde1f410caa8127cd62003e2f5d2b475a,"Setting more reasonable sizes for editor text areas and moving summary below content, since it is less often used

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467125 13f79535-47bb-0310-9956-ffa450edef68"
79c0484798524c46a2b795ed78596303e9a31597,"ROL-1281: fixes to avoid unnecessary session creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467126 13f79535-47bb-0310-9956-ffa450edef68"
eebf66c8d342eec535af0be45a21ad03d9e6bfd2,"ROL-1280 entry management page queries now page correctly

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467133 13f79535-47bb-0310-9956-ffa450edef68"
f8bad2a44930f4ad2d7bbb3d0b31269c243f6083,"Fix for ROL-829 comment munging escaped HTML content

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467138 13f79535-47bb-0310-9956-ffa450edef68"
5d2ea8ee9388dfd32d8aa73f556b11f750be4f88,"Remove primary-key and not null constraints from rag_group_subscription id. SQL tested on MySQL and Derby. Oracle, PostgreSQL and HSQLDB SQL copied from docs, but not yet tested

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467202 13f79535-47bb-0310-9956-ffa450edef68"
32ff9327c73a413af97d572f47ec153883f75ed2,"Removing debug println

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467347 13f79535-47bb-0310-9956-ffa450edef68"
2b6cca75b9b314e3224ff7ccda0ab5d45ab93226,"ROL-1281: fixes to avoid unnecessary session creation

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467396 13f79535-47bb-0310-9956-ffa450edef68"
8a3adaa20412e76216301c9a671b52608415e5ac,"Moving Struts tag / JSTL tag local sync into its own filter

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467398 13f79535-47bb-0310-9956-ffa450edef68"
1369065c6bd9bab6679331dd7d71a14060922941,"Refactoring, webapp directory structure adjusting and bug fixing in Planet Roller webapp

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467435 13f79535-47bb-0310-9956-ffa450edef68"
4524ed6b53a24268d4399b53516426b06ae92a80,"Fixing the license header

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467520 13f79535-47bb-0310-9956-ffa450edef68"
4fc6f1efa9a766475710171ad842f75b336d8692,"Planet Roller blog registrtion page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467680 13f79535-47bb-0310-9956-ffa450edef68"
f2d71b1c7ba83e7bc514a012862f87dc5aa688cf,"add resource string for 'full preview' button.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467709 13f79535-47bb-0310-9956-ffa450edef68"
f7be807b42255f68972d8a30f0b60aa9d42951f8,"fix tab indexing so that tabbing flows naturally from top to bottom down the entry edit form.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467710 13f79535-47bb-0310-9956-ffa450edef68"
fcc8acd9fd3c3541ec446b89c1bbe0b391083cd7,"Planet fixes, refinements and a custom build option

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467743 13f79535-47bb-0310-9956-ffa450edef68"
b0ac954c823d9ca571cf7d55440e093f4548b5b4,"Planet fixes, refinements and a custom build option

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@467744 13f79535-47bb-0310-9956-ffa450edef68"
637dddc665774cdac9a241b4dc500632ea7257ef,"Adding Atom 1.0 feed support and Apache license headers in template files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468066 13f79535-47bb-0310-9956-ffa450edef68"
e3c74a06d59f8742df67f74f6b39b99b82ac9f7c,"fixing comment form rendering on entry previews by removing check for entry published status in WeblogEntryData.getCommentsStillAllowed() and moving that check to  comment and trackback servlets.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468068 13f79535-47bb-0310-9956-ffa450edef68"
0dc758beeeb519c72ac01774be79aa54fc74468e,"fix for showEntryTags macro so it doesn't try and show a tag count, which isn't available in that scope because you are iterating over TagData objects, not TagAggData objects.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468069 13f79535-47bb-0310-9956-ffa450edef68"
3db687d1810989739b345a8dcb472b212ab5f437,"fixing a couple bugs in upload form.

1. prevent creating of directories with bad character patterns like ""/"", ""\"", and ""..""

2. fix NPEs if uploading/deleting a null list of files




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468075 13f79535-47bb-0310-9956-ffa450edef68"
8e8e34cbadb7e8580a3de357589c276ed0253050,"we changed the text editor's id from 'TextEditor' to 'editor-text.jsp' for backwards compatability.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468094 13f79535-47bb-0310-9956-ffa450edef68"
07d72db7a467fb3e3288a74c2c65ae79f98b6c57,"fix bug in WeblogEntryData.getCommentsStillAllowed() which was causing an NPE if it was called on a draft/pending entry.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468099 13f79535-47bb-0310-9956-ffa450edef68"
55389e4b8d675c124b43970a2364af535895bc96,"OPML import

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468397 13f79535-47bb-0310-9956-ffa450edef68"
15e6dda2cc7ae86c1388a92eed3c858c3947f740,"only invalidate the caches on a saved comment if the comment wasn't being moderated.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468442 13f79535-47bb-0310-9956-ffa450edef68"
392738c514b74589f94c6b98fe1e1c81d0a291ad,"removing #showTagCloud() macro because we don't want to support it and it's easy enough for users to do on their own.

slighly modifying #showEntryTags() macro to use a regular space instead of non-breaking space.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468464 13f79535-47bb-0310-9956-ffa450edef68"
4d0c88904f695cef8b3aa571ebf9b83530ac179e,"Roller-Planet UI refinements

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468533 13f79535-47bb-0310-9956-ffa450edef68"
5becca425288d04697246d9e5317658ed9b61abc,"Final Roller-Planet changes, use config for cache dir not POJO

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468536 13f79535-47bb-0310-9956-ffa450edef68"
7bfd4d436481beaf33b9ff9e72b9bcf59b780312,"Fixing start page fwd

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@468689 13f79535-47bb-0310-9956-ffa450edef68"
4e62b4fdd3645da3a93811221d45d98ec392ddfb,"make sure that entries which are not published or are published to future are not available as permalinks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469217 13f79535-47bb-0310-9956-ffa450edef68"
66e44dc95b2bc521fc91a15cfe4d496b087e084e,"Removing non-core editors from Roller, adding to Roller Support

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469252 13f79535-47bb-0310-9956-ffa450edef68"
54d4d78f25224b956407555c897882f4364ac12a,"Fix for content/summary switcharoo on save (in Xinha)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469256 13f79535-47bb-0310-9956-ffa450edef68"
ed653b66307a5d8fcc376bc99ef44866fb9a60af,"don't include tag display in any of the themes by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469301 13f79535-47bb-0310-9956-ffa450edef68"
099d74fe862120ea168f2d627056622a3c18f610,"comment out old preview button, it's not really of value now that we have full preview on saved entries.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469302 13f79535-47bb-0310-9956-ffa450edef68"
e3ca9b8a2fd4316493cf90bb040fdcb83bcb18d0,"fixing a bug which was blocking uploads into subfolders.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469305 13f79535-47bb-0310-9956-ffa450edef68"
b0bd7130bf26678e3796c559afa6466e9728e35e,"Adding a way to enforce that tag urls specifying tags which don't exist get a 404 and are treated as invalid urls.

- added new method getTagComboExists(tags, weblog) to WeblogManager and impl.  does a simple check for the listed tags against the tag agg table.

- added a validation check in PageServlet and FeedServlet to call getTagComboExists() if the request specifies any tags.

- also did a little change in WeblogPageRequest and WeblogFeedRequest so that getTags() returns null instead of an empty list if no tags were specified.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@469679 13f79535-47bb-0310-9956-ffa450edef68"
65ae55e9f63b363f2420348a1e4efc2493d57ab4,"fixing a bug when importing theme resources to paths in subdirectories.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470047 13f79535-47bb-0310-9956-ffa450edef68"
2b35c8c66984eeeb7b44468e7bc09499281c1fb3,"doc updates, merge to roller_3.1 pending

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470104 13f79535-47bb-0310-9956-ffa450edef68"
eca26cfb4d3d6d4e57fcc87935f15b3ed8ead503,"fixing up a conflicting url situation with JSON tags stats servlet.

- modified TagStatsServlet to expect an additional path element which specifies the defined context or scope of the request.  current options are 'all' for site-wide behavior or 'weblog' for single weblog.  the rest works the same aside from that.

- updated entry edit jsp to use the proper new urls for the tags stats service.

- added a new method in URLUtilities for getting the json tags stags service url.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470112 13f79535-47bb-0310-9956-ffa450edef68"
0500010d9a95b6c13d2a579edb51863d8ad17282,"fix compile bug in planet manager test.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470119 13f79535-47bb-0310-9956-ffa450edef68"
8215aac5a21b32a745e454f48dcf17315f6bfa5c,"add unit test for new getTagComboExists() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470120 13f79535-47bb-0310-9956-ffa450edef68"
fe47d7b4c99207bddbfd6532e645b3c4820f7d76,"- undoing json tags servlet with the idea of using '/' to differentiate between tag and weblog handle.

  e.g. /tag/foo is for a tag /tag/foo/ is for a handle.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470126 13f79535-47bb-0310-9956-ffa450edef68"
54500ae4e6d9a7a7074d44e500fa0351c952140e,"- Re-added getWeblogTagsJsonURL to URLUtilities
- Re-added call to getWeblogTagsJsonURL in WeblogEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470144 13f79535-47bb-0310-9956-ffa450edef68"
14b28b1942e203ec021b2c6bbb2490d2dec41ca7,"- Added support for '/' to differentiate between prefix and handle.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470145 13f79535-47bb-0310-9956-ffa450edef68"
f806f6456807e01478a9c39bc3a53c138fdf8d2a,"- Added configurable limit to TagStatsServlet.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470149 13f79535-47bb-0310-9956-ffa450edef68"
1a3a5b139020afcd5dfc72d847692a5b291cf67d,"- Refactored getWebsite() methods to getWeblog()

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470150 13f79535-47bb-0310-9956-ffa450edef68"
67d5b7f4c0819c2083cfb4149346a95605f08a21,"- Added a custom-build-web extension point to the build.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470166 13f79535-47bb-0310-9956-ffa450edef68"
de7dd3c6b4e9ba140559ef3a617ee3d44fa88da8,"- Avoiding NPE in WebSphere.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470171 13f79535-47bb-0310-9956-ffa450edef68"
ef2f3f9edd0229e29f53627132dc8c23f15f1a4d,"- Removing extra '<div>'

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470174 13f79535-47bb-0310-9956-ffa450edef68"
fd72bbd1fb2606a9bda967c9360c9bda1ea30dbb,"- I had forgotten to refactor the setters as well. :(

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470178 13f79535-47bb-0310-9956-ffa450edef68"
f8baebbaf8d4b0e7500e515c62061a7be979660a,"- More forgotten refactoring as it hid inside HQL.

  Bad Elias. I blame Hibernate and declarative programming (HQL).

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470186 13f79535-47bb-0310-9956-ffa450edef68"
8303a1e10fb1b120f6d797d55ecb71a051030d97,"Height less than 200 collapses Xinha

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470479 13f79535-47bb-0310-9956-ffa450edef68"
6ca3b9e8e452febbd13e00b7ad4200ac723c1b24,"fixing weblog removal which was broken after website -> weblog renaming for tag agg pojo.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470519 13f79535-47bb-0310-9956-ffa450edef68"
2f0f73fbe15eb2255628a073793c23d3c7ff88d2,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470615 13f79535-47bb-0310-9956-ffa450edef68"
34e32d96e1bace32fd63c363600cdf0252ef55a9,"changing logging behavior so that you only get a warning if a ping fails for the last time, rather than repeating the message for each failed attempt.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470616 13f79535-47bb-0310-9956-ffa450edef68"
3c653096394af513b7cd32ef475f30a86f5d716d,"add a finally block to ensure that resource stream is properly closed even if an exception occurs.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470625 13f79535-47bb-0310-9956-ffa450edef68"
3caa77f63d0187c6542f03aef85604cb54907fd2,"updating the hit count processing code to use a process which is easier and less likely to introduce synchronization issues.  counts are now simply shoved in a running list by the HitCountQueue and the processing job now grabs the list and tallies the hits before saving them to the db.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@470627 13f79535-47bb-0310-9956-ffa450edef68"
4f2b350a45a14ba44c5722dd522726468da61ce4,"changing log level on refresh entries logging message.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471070 13f79535-47bb-0310-9956-ffa450edef68"
f2163e975f381aa4bbd88fbe3fe31e019196066c,"changing log levels from info to debug.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471071 13f79535-47bb-0310-9956-ffa450edef68"
366287bbe8026ad945fa5ad27bb8da1c96e448fd,"task intervals are in minutes, not seconds.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471074 13f79535-47bb-0310-9956-ffa450edef68"
05017803fd12301f1b9a4aea67ac88b7dc26c698,"fixing problem with category permalink urls (/weblog/category/foo) which was being caused by the fact that we double encoded that part of the url.  the double encoding was a bad work around for the fact that the WeblogRequestMapper had been improperly using decoded urls for the request mapping.  So now that the WeblogRequestMapper is doing the proper thing we can remove the double encoding.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471086 13f79535-47bb-0310-9956-ffa450edef68"
188033c5a9f35811336619ee9a64c0695dcffa55,"first pass at 3.1 change notes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471088 13f79535-47bb-0310-9956-ffa450edef68"
63757d7e08bd423f9f3ca7ea486276efe864adc9,"fixing a few null pointers which are now more likely to happen since we are trying to limit session creation for weblog urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471950 13f79535-47bb-0310-9956-ffa450edef68"
c751c8e804c09ee433c8a60e757f905487f41091,"fixing bug in previewing caused by the fact that the entry pubTime is null for entries which are DRAFT or PENDING.  to remedy the problem we are making a copy of the draft entry object and setting the pubtime to the current time.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@471955 13f79535-47bb-0310-9956-ffa450edef68"
c51c2f6bfd15799989469bd9fd47ae3d6e684b03,"fixing some logic bugs in task locking code.

- removed methods getLastRun() and getNextRun() from thread manager
- added methods getNextRun() and getLeaseExpires() to task lock pojo
- fixed method isLocked() in task lock pojo to account for lease expiration
- fixed RollerTask logic to perform proper checking when attempting to acquire a lock



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472186 13f79535-47bb-0310-9956-ffa450edef68"
303a453320e2fa3236bf7dee89a50118bf5659d7,"fixing broken import statement.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472191 13f79535-47bb-0310-9956-ffa450edef68"
d99a94ab42a326a3a0a4a220ecb3dfec6ecd9cd9,"Tomcat 5.5.X requires session creation before response is committed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472382 13f79535-47bb-0310-9956-ffa450edef68"
817979f709dd4db94479e3afd11e2d7dfd7da1b3,"frontpage theme still referenced tag cloud macro

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472387 13f79535-47bb-0310-9956-ffa450edef68"
65d82f18de74772e131831af2de228dd84e55485,"code reformatting and reorg.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472615 13f79535-47bb-0310-9956-ffa450edef68"
e6038d6c78b7fc431cb23a77fe5cd1e92ae7fb7c,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472623 13f79535-47bb-0310-9956-ffa450edef68"
9460dd78bb7aaaeecebe4b189d899937e88c93a6,"code reformatting and reorg.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472626 13f79535-47bb-0310-9956-ffa450edef68"
f3d9f98c979f8691c2d69c51d51628342cdf0d10,"Small doc corrections relevant to 3.1

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@472631 13f79535-47bb-0310-9956-ffa450edef68"
6191a6f36bb657c144ec2843f146826971a2d146,"Remove column keyword for Oracle in macro that adds a nullable column.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@473389 13f79535-47bb-0310-9956-ffa450edef68"
f75ab552a7918cf94a705cce01104f6cc4db69ad,"a bit of tidy up on some of the business unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@473523 13f79535-47bb-0310-9956-ffa450edef68"
c1dc9df560ce3587d06278118834e8e7a31f09b7,"adding a set of junit TestSuites which group the unit tests into logical blocks so that testing can follow a more ordered progression.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@473532 13f79535-47bb-0310-9956-ffa450edef68"
579e0fb82a42581153ac92a4091c7e4f7718fd59,"a little cleanup on category test.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@473566 13f79535-47bb-0310-9956-ffa450edef68"
71ff8c3f0cf05949e7a6f47aab4aa264b0528ebe,"Fix for ROL-1293: ""Regression: non-alphanumics not stripped from anchors""

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@473829 13f79535-47bb-0310-9956-ffa450edef68"
a801eed1428899df04883232abaa8ecf017a0961,"Bug in config form

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@474473 13f79535-47bb-0310-9956-ffa450edef68"
c37b6e7b1d81a0ab282c0ea05151c67fff04dac5,"Need to stay JDK 1.4.2 compatible

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@474484 13f79535-47bb-0310-9956-ffa450edef68"
1c36bebb8ab027a8a4da4fc15e28187de8965fb3,"a little code cleanup and logging tweaks for persistence session filter.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@474913 13f79535-47bb-0310-9956-ffa450edef68"
c131ead2ec8978624da6222a1c6e0c2087ce817c,"code cleanup and reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@474916 13f79535-47bb-0310-9956-ffa450edef68"
861ba5ee707ef9fd833c838403fecba8de9e763c,"Planet should use planet config, not Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475050 13f79535-47bb-0310-9956-ffa450edef68"
d87635d3dda9e768e4970ed0991c2c0b931dd7d2,"Better error handling in group form

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475054 13f79535-47bb-0310-9956-ffa450edef68"
e236d2c5a18c2cf4d43d0eca081c7e43d666b520,"Fixing category output

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475058 13f79535-47bb-0310-9956-ffa450edef68"
c9d135534edadd0ee66c2fefe1d454e6b1621b7b,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475061 13f79535-47bb-0310-9956-ffa450edef68"
765100e90b9b9f3486a3188c0cfd5919cc48ef29,"update test config so that it doesn't create any categories or folders/bookmarks by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475074 13f79535-47bb-0310-9956-ffa450edef68"
318020d151f6e6f69d71c7a211f51dde545c002c,"Reworking the hierarchical objects persistence model and enabling lazy fetching for all single and collection-valued associations in Hibernate.

I. Remodeled weblog category data model to remove use of HierarchicalPersistenObject and Assoc classes.

  * Each category now points to its parent and children through the parentid column of the weblogcategory table.
  * Did a little cleanup on unit tests to reflect this change.
  * Removed all code which dealt with WeblogCategoryAssoc objects.


II. Remodeled folder/bookmarks data model to remove use of HierarchicalPersistentObject and Assoc classes.

  * Same as weblog categories, uses a parentid column to reference parent and child relationships.
  * Did some cleanup on unit tests.
  * Removed all code which dealt with FolderAssoc objects.


III. Removed HierarchicalPersistentObject and Assoc classes since they were no longer needed.

  * Removed all code which used these objects and delete the classes.


IV. Enabled Hibernate lazy fetching for all pojos so that associations can be fetched in a lazy manner.

  * All this really required was changing the xdoclet marked in a variety of the pojo classes.


V. Modified RollerSession to only reference a user id string, not the UserData object itself.

  * This is required to prevent lazy initialization exceptions from Hibernate because the stored UserData object is a detached object and thus referencing its Roles or Permissions associations later in the session causes problems.  The fix was simply to store the id and to load the actual UserData object using the id when it is needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475368 13f79535-47bb-0310-9956-ffa450edef68"
171e16682329389fa56552d4f858661e5367f3f0,"Use addColumnNull macro uniformly.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475615 13f79535-47bb-0310-9956-ffa450edef68"
1668dfb97a2c16e222e36a2154726a798fec6b35,"distinct is unnecessary (and fails on Derby)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475787 13f79535-47bb-0310-9956-ffa450edef68"
5ab5606a1f13ae685ac61023df670202ad68cd3e,"New ROME build to fix date parsing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475789 13f79535-47bb-0310-9956-ffa450edef68"
61ac74bdf2130cc16bab18340cd2ef335b1ca095,"New ROME build to fix date parsing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475790 13f79535-47bb-0310-9956-ffa450edef68"
be37f92ceacf691a0b3f4bd94a79cae9f27f10f0,"Fixing incorrect property name in default HTML template

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475791 13f79535-47bb-0310-9956-ffa450edef68"
358ba5cc96c8705e4ce9e58272bdbc1199668fb8,"run business unit tests using JUnit test suites.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475826 13f79535-47bb-0310-9956-ffa450edef68"
d87308375bc4ae43ae62b14504b90424acf043d8,"Roller.getXXXManager() methods no longer throw a RollerException.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475828 13f79535-47bb-0310-9956-ffa450edef68"
eacd141827dc09e233ee8bec5307358f9f645be9,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475830 13f79535-47bb-0310-9956-ffa450edef68"
818a03fb1188d5f94963b5e1951fc3f7cd445add,"Better date and content/summary handling in ROME->Roller conversion

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475847 13f79535-47bb-0310-9956-ffa450edef68"
1679d6c6cad7a11571e5c3cb47df0c61be86ebed,"Better hash key creation using feed's URL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475851 13f79535-47bb-0310-9956-ffa450edef68"
8094e185900863485f7bcea98fc68d5525287b8c,"Separate refresh-entries and generate-planet tasks

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475852 13f79535-47bb-0310-9956-ffa450edef68"
62c394152e7e8f7c9b5ce00539e64f30bfdea952,"Disallow non-alphanumerics in handles

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475853 13f79535-47bb-0310-9956-ffa450edef68"
6e6b624117edcf49ee2dc136189282c670125ff4,"Only need to set one side of sub-group many-to-many

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475854 13f79535-47bb-0310-9956-ffa450edef68"
952771a72c6d3506985fbaca0216d1ee0a8d5573,"Working around Velocity bug in output file handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475856 13f79535-47bb-0310-9956-ffa450edef68"
65630ade973a06e243f5f14b4ab6fe7117f128e2,"Cleaning up BookmarkManager

- removed method moveFolderContents(src, dest) because it's not needed.  this is already implemented elsewhere in the code by simply changing the parent of a folder or bookmark and saving.

- removed getPath() method because it's just a dupe of folder.getPath(), which is the preferred way to accomplish the same thing.

- removed method getFolderByPath(weblog, folder, path) because it's an unnecessary dupe of getFolder(weblog, path).

- removed method removeFolderContents(folder) because it wasn't being used.

- removed method isFolderInUse(folder) because it wasn't being used.

- removed method isDuplicateFolderName(folder) because it does not need to be public.  this method is still used in the implementation class, but doesn't need to be accessed by public code because it is implied by calling saveFolder()

- there were a few tweaks to test and other classes as part of these changes.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475885 13f79535-47bb-0310-9956-ffa450edef68"
c2fd28775886532d4f39e323d7048bd8d4da1374,"some code reformatting and comment cleanup.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475895 13f79535-47bb-0310-9956-ffa450edef68"
3c6f2f4ae53f51ad5d324aca6170c33c1d6eb05e,"Cleaning up UserManager.

- removed method getUsers(offset, length) because it was an unneeded dupe of getUsers(enabled, start, end, offset, length)

- modified method getUsers(enabled, start, end, offset, length) to also accept a weblog object to constrain the result set.

- removed method getUsers(weblog, enabled, offset, length) because it was an unneeded dupe of the new getUsers(weblog, enabled, start, end, offset, length)

now, there is only a single getUsers() method which can handle all cases and this is easiest because that method is only used a handful of times anyways.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@475909 13f79535-47bb-0310-9956-ffa450edef68"
486619b5fba1c00611bd5a7e54ef77cdb8aac569,"Cleaning up WeblogManager.

- removed method getNextEntries(entry, cat, locale) because it wasn't really being used

- removed method getPreviousEntries(entry, cat, locale) because it wasn't really being used

- removed getWeblogLastPublishTime() methods because we now have a lastModified attribute stored for each weblog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@476014 13f79535-47bb-0310-9956-ffa450edef68"
8a8dbc7cb7b6d059d89e041f349e336cab92b338,"First cut at DB independent category 3.2 category migration

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@476131 13f79535-47bb-0310-9956-ffa450edef68"
f674229ff6c8ac18b7f831e318d2b8942acb253c,"change WeblogCategory constructor to not accept an id because id should always be null for new categories.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@476572 13f79535-47bb-0310-9956-ffa450edef68"
1125c58b39a1d2358b104199bf9b9ce4bf153a3f,"switch unit tests to use different category constructor.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@476583 13f79535-47bb-0310-9956-ffa450edef68"
8e904d851f264aef217c94dbb3d59b83cf79edf6,"Fix for ROL-1296, cannot disable user

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477243 13f79535-47bb-0310-9956-ffa450edef68"
43fbb1161f004ce73278dafade6ae66349248d0a,"explicitly state that we are enabling Hibernate L2 cache in config



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477274 13f79535-47bb-0310-9956-ffa450edef68"
d2061cf4d6b817af89731ade014a9a860257dbda,"trunk is now 3.2 dev



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477362 13f79535-47bb-0310-9956-ffa450edef68"
05be0867941ac1033647fd3e12a5f7fa67c88c83,"Adding new path column to folder and weblogcategory tables and updating domain model and managers accordingly.

I. Added a path column to folder and weblogcategory tables to track full path for each node within the hierarchy.


II. Updated FolderData and WeblogCategoryData pojos to use path as a simple attribute.

  A. this mainly meant adding in a Hibernate mapping for the path attribute and updating the usage of constructors to ensure a path value is set when the object is created.


III. Updated impls of manager methods do operations against folder or category paths.

  A. updated the way that folders and categories are looked up by path.

  B. the big win here is when doing a lookup of associated classes against a whole branch of the folder or category hierarchy.  the happens in the getWeblogEntries(cat, subcats) and getBookmarks(folder, subfolders) methods.  we can now very efficiently get all bookmarks or weblogEntries which are associated with a given branch of the folder or category tree.


IV. Make a couple tweaks to unit test classes and a couple struts actions to accomodate for these changes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477387 13f79535-47bb-0310-9956-ffa450edef68"
8b2515ffddc9cd8098ac68d6894b24b1616187d0,"Fixing Atom validation errors wand warnings

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477388 13f79535-47bb-0310-9956-ffa450edef68"
6a6e55ed74dad5c65ed2f068dc9f3a75978f1756,"fixing some logging levels.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477393 13f79535-47bb-0310-9956-ffa450edef68"
8e68f291dddfa39f8cde6ea6f2250d1eac30431c,"filling out Bookmark unit tests.  Bookmarks should now have full coverage of bookmark operations.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477405 13f79535-47bb-0310-9956-ffa450edef68"
eb1769dc9541f069735827b3c8acd3cf23dab4d5,"fix up implementation of equals() and hashCode() in folders and categories and add unit tests for equality of both.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477511 13f79535-47bb-0310-9956-ffa450edef68"
8661c7daa6ec2615e4eba54718296c66c9980d09,"Add moveFolder(src, dest) method to BookmarkManager and unit tests.  This is needed now that we persist the path to a folder.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477528 13f79535-47bb-0310-9956-ffa450edef68"
2ad60b736eb3bc31beb84e2b9ae093876ce2b28d,"Eliminating personal directory, making JUnit haltonerror configurable

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477710 13f79535-47bb-0310-9956-ffa450edef68"
4122c1653224e1e183165ccf2e14735f803c06ff,"ROL-1246: Adding site/blog statistics methods to WeblogEntry and SiteModel

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477712 13f79535-47bb-0310-9956-ffa450edef68"
15fa929624480300b6eb5cffe08393d7d3fcc19b,"ROL-1279: Bookmark form should check for valid URLs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477713 13f79535-47bb-0310-9956-ffa450edef68"
104f94760e5b98d984fa8d0ac45bb2aaf65a063e,"ROL-840: Calendar should not show future posts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477714 13f79535-47bb-0310-9956-ffa450edef68"
5e30768383f867759a53e225a4e6ab1979dfd6c2,"Fixing bugs in planet manager tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477715 13f79535-47bb-0310-9956-ffa450edef68"
eaa5ab4fadfaaefc6547654dad1bfefa24c4e45e,"Removing personal dir

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477716 13f79535-47bb-0310-9956-ffa450edef68"
1912bb0a6777f3f0661ff5b62583d4bbd383fd3b,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477848 13f79535-47bb-0310-9956-ffa450edef68"
ccffb0437409a0b1012071c0a56d527eb91cd2c1,"remove old part of Jazzy spellchecker.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477849 13f79535-47bb-0310-9956-ffa450edef68"
1d80c0ef39a39a09e77ca81a6956e3b0a2fcae95,"remove unused ArchiveParser class.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477851 13f79535-47bb-0310-9956-ffa450edef68"
a2fca494d7b23fc5a37c972c1a96f4dfc77475f7,"removing unused Authenticator interface.  the functionality from that interface seems to have been incomplete and ultimately is already handled by RollerSession.getAuthenticatedUser().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@477854 13f79535-47bb-0310-9956-ffa450edef68"
3e38d0ce8eab069405031f774c4a0e532895afc1,"Option to show full comment text

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@478192 13f79535-47bb-0310-9956-ffa450edef68"
3ad3920dccfd06ac57b9ffad7df162c3f5f95b8c,"Dynamically updated #showHitCount() macro

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@478245 13f79535-47bb-0310-9956-ffa450edef68"
178cabc75864f78895e8d84d7813629a9f1141c1,"new path columns need to be of type TEXT because they could be fairly long in cases where people have a deep hierarchy.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@478275 13f79535-47bb-0310-9956-ffa450edef68"
60e04a111911a3428f70545621cec81a8f44a176,"oops.  bookmark and category queries need to be confined to a specific weblog :/



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@478312 13f79535-47bb-0310-9956-ffa450edef68"
dc3caf63a8e0aaf4587ad53bba4abe17a83042ba,"move taglibs.jsp to /WEB-INF/jsps/ so it can be with all the other jsps.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@478412 13f79535-47bb-0310-9956-ffa450edef68"
4e86a62c92a19e6136aa47341c663131d0690101,"For paths: use INDEXSIZE for index sizes, use #longtext() for type

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479648 13f79535-47bb-0310-9956-ffa450edef68"
161fdb0628a27cfe47c13e1713e644278fcb711a,"Adding weblogHandle to StatCount object

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479649 13f79535-47bb-0310-9956-ffa450edef68"
c2333253316b6deb165e937dc960e7c3c799f1de,"Added weblogHandle to StatCount, remove unncessary CLOB comparison w/excerpt from applyReferrersFilter

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479650 13f79535-47bb-0310-9956-ffa450edef68"
78284d3c4dcb094954eff29535618c070056b703,"Moving from HSQLDB to Derby for JUnit tests

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479652 13f79535-47bb-0310-9956-ffa450edef68"
ebef50a687ecc017bd714992325b67cc6a5fd78e,"What was I thinking?

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479667 13f79535-47bb-0310-9956-ffa450edef68"
71357f40f2844b9ee1d4f804b759d723af326804,"No longer need HSQLDB

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479669 13f79535-47bb-0310-9956-ffa450edef68"
b4e7b8af5a7a0b3cdc263bda3ca2515dde59b878,"Upgrading to ROME 0.9 pre-release

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479680 13f79535-47bb-0310-9956-ffa450edef68"
02a677c4a0cb68898ab52f913bf9b8cf674c3fb8,"Oops. Bad syntax in INDEXSIZE change.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@479782 13f79535-47bb-0310-9956-ffa450edef68"
651f4a84e23275b35a95bbe583277ef2e53837cb,"Planet uses ROME 0.9 too

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@480035 13f79535-47bb-0310-9956-ffa450edef68"
bce04d36c425dc51361428e7837ec8d337135f6f,"fix bug in ThemeManagerImpl which was causing the weblog theme to not get updated to CUSTOM after a theme import.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@480636 13f79535-47bb-0310-9956-ffa450edef68"
f67cc120d988db9355194b1ea18ebbfc01095da5,"fix bug in BookmarkSaveAction caused by not properly preparing the form again after catching a url validation error.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@480640 13f79535-47bb-0310-9956-ffa450edef68"
65007a11593ac9859a6836b1954ea325e85775d0,"alter default allowed & forbidden file upload extensions to not be so restrictive, the old defaults were both unreasonable and caused problems with the new theme encapsulation because they prevented resource imports for things like css and js files.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@480646 13f79535-47bb-0310-9956-ffa450edef68"
7746c0290b197ec6b7fd02e0de3d1c37667a2a88,"fixing bug which causes a ConcurrentModificationException when deleting a sub from a group in sync websites task.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@480668 13f79535-47bb-0310-9956-ffa450edef68"
934427b036d6ff2b4e2a03f2ea22d04e169d80e7,"Fixes for ROL-1145.  Don't link back in time beyond creation date of weblog (website).  Relies on creation date of weblog being set (non-null).  If it is null, at least limits stepping back beyond beginning of Java epoch (Jan 1, 1970 UTC).

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@481624 13f79535-47bb-0310-9956-ffa450edef68"
cfe2ff8986422a08f7d76cbb5ddb4c5f201f7671,"Added username.allowedChars and comments for a couple of properties

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482175 13f79535-47bb-0310-9956-ffa450edef68"
1fd0ed785e505e97933036c8d1ecd5806f9820fe,"Merging changes from revision 469202 back to trunk.  This was a fix for NPEs caused by unset website.lastModified attributes which was committed to the 3.0 branch only and needed to be in trunk as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482257 13f79535-47bb-0310-9956-ffa450edef68"
8735dd2f60f00d8388a99b87c9a8a52f81ae98c8,"add an index on roller_hitcounts.dailyhits column which improves performance on the getHotBlogs query.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482265 13f79535-47bb-0310-9956-ffa450edef68"
09c113a306c79ad8d6401cee684e7b9a66d49721,"Updated jdo sandbox with latest jpa and jdo impls

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482428 13f79535-47bb-0310-9956-ffa450edef68"
75860e573316657e2e2ec28c27f20a2ea1cd15bb,"Fix for ROL 1312 (commit into mainline).  This will be integrated to 3.1 branch in a subsequent commit.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482695 13f79535-47bb-0310-9956-ffa450edef68"
ba3fe71257daf7fc77f5d6883168f8c20041e94f,"fix for SiteModel url creation so that it properly handles paging of tags urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482833 13f79535-47bb-0310-9956-ffa450edef68"
29ede889a7ae117068b3ebeb2127a33b6bcc53d9,"remove bannerStatus.jsp component from 404, 403, and error jsps.  for some unknown reason the inclusion of this component (which requires data from the db) causes a connection leak problem over time.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482853 13f79535-47bb-0310-9956-ffa450edef68"
5425c4ed3a8c55263bba9d353c98a517852e1be5,"comments pager should use ""null"" for pending status, not false.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@482868 13f79535-47bb-0310-9956-ffa450edef68"
5d9296aee6b2b0ee6a3a91b1935b80d66ea4962d,"my latest Netbeans project file for Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483152 13f79535-47bb-0310-9956-ffa450edef68"
7819bcb3ba4f4be24382ab59684d29da60ea3349,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483166 13f79535-47bb-0310-9956-ffa450edef68"
7ea2d69b58cf43fc27d027dd74f13eb49c8f8135,"Updated German translation from Thomas Hofmann 

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483182 13f79535-47bb-0310-9956-ffa450edef68"
e638436aeab327016ceb5383e247bc1216541ebc,"there is no reason to put an endDate on comment queries being used for public display.  there is no way for comments to be published into the future.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483183 13f79535-47bb-0310-9956-ffa450edef68"
0d9756045d0b326b57f9320ab9488440dc473615,"we don't need to limit the comment feeds to the last 90 days.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483184 13f79535-47bb-0310-9956-ffa450edef68"
85ecb3887837e4b73be78148c0cde89f62420b7a,"Start date should be optional.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483186 13f79535-47bb-0310-9956-ffa450edef68"
6febd42886a63077cded70cf1af220b0ea5cfd7a,"there is no need to limit entries feeds to within the last 90 days.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483187 13f79535-47bb-0310-9956-ffa450edef68"
e8d733ec4d60a8965a7d7a02474373d05879cd3a,"for some reason planet pojos had not been updated to use hibernate lazy fetching.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483196 13f79535-47bb-0310-9956-ffa450edef68"
252bd9ffe8cf709c5d547b5701f8273486d2bd65,"just making note of various other db cleanup items for the 4.0 release.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483197 13f79535-47bb-0310-9956-ffa450edef68"
746ef28dc5ca043d328aa8ce76cc9560c5d56161,"a few more indexes to improve query performance.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483200 13f79535-47bb-0310-9956-ffa450edef68"
29b8ef6e9dbfd39323da734fadbb8d063aca9866,"also add indexes to createdb script.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483202 13f79535-47bb-0310-9956-ffa450edef68"
57a6192ca26138868d3f2d93077f43e9a57b2d47,"when forming tagging urls we want to encode each tag independently and join them with a '+' rather than joining them first and encoding the whole string.  the latter causes the '+' chars to become %2B which breaks the urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483279 13f79535-47bb-0310-9956-ffa450edef68"
d25f639087fecb978ab032367aed30f2db626f32,"add methods to URLModel to allow the formation of tag based feed urls as well as tag based page urls by providing a List of tags.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483281 13f79535-47bb-0310-9956-ffa450edef68"
149131331143bad1c6ca74a8be53b9dd9004b59f,"Fixed hardcoded action path in create directory form

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483507 13f79535-47bb-0310-9956-ffa450edef68"
9ac647a3a8273b91f163f749a9cc3aa07bef9e9e,"Moved standalone database config to end of file under misc settings, to help avoid confusion

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483515 13f79535-47bb-0310-9956-ffa450edef68"
c95afbe3b3f412ec6194f7902027fbec8cd93ff0,"Updating task runner example to use TaskRunner

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483546 13f79535-47bb-0310-9956-ffa450edef68"
6569d8743cf89410a847435398305f4d2d7a3762,"Updating roller.properties, adding note about encrypted passwords

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483550 13f79535-47bb-0310-9956-ffa450edef68"
79c31859828db5af936739c0a6def8c211fbff5e,"update feed autodiscovery macro to add contextual feeds for tag and category urls.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483561 13f79535-47bb-0310-9956-ffa450edef68"
cd37dfd4f8a806c22e64bb1ce16aff53ee239494,"sinceDays should be optional for planet pager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483564 13f79535-47bb-0310-9956-ffa450edef68"
dffd43bf01a7ff48aacea8595e9cb3a47844131b,"Updates for jpa datamapper

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483601 13f79535-47bb-0310-9956-ffa450edef68"
c05d9c8b0fd5f3473f7f7aa5c90526ffd5466a4f,"Updated orm mapping for datamapper

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483608 13f79535-47bb-0310-9956-ffa450edef68"
f3ecbc3b2ca7735fd63677b9b88e986fcc7d55ba,"just use varchar(255) for new 'path' columns in folder and weblogentry tables.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@483643 13f79535-47bb-0310-9956-ffa450edef68"
81b1a8c5494917f83eb12b9ffa9f7ed7336f9dd8,"cannot reference associated objects directly when using lazy fetching, so instead we must use the getter method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@484666 13f79535-47bb-0310-9956-ffa450edef68"
7c1e3db4ef04950396a13a73530ba2f9b9965d8a,"toString() methods don't need to print out data from associations.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@484680 13f79535-47bb-0310-9956-ffa450edef68"
c7a408b2107fd33e45ee355eae6e9c9f2e5cafb7,"Updates for datamapper

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@484896 13f79535-47bb-0310-9956-ffa450edef68"
293ba9718a5ec2b12f3aa5c6f38d800a396bfcb1,"Move xsl to src so they are visible to Netbeans editors

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@484932 13f79535-47bb-0310-9956-ffa450edef68"
87fa2ac7554980016232a2ddf9cac2cd51981531,"Bug fix in get feed entries query

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485746 13f79535-47bb-0310-9956-ffa450edef68"
d7b7f03223ea84d39342d0c3f99263bea8e71d75,"Support for get feed entries in standalone planet model

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485747 13f79535-47bb-0310-9956-ffa450edef68"
895ea7c54a4d0920bd160de5c06452b2ca36d803,"Final ROME 0.9 release files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485759 13f79535-47bb-0310-9956-ffa450edef68"
c57f0bad23bacf6a349374fc9043acf574b30e0f,"Mostly finishing off the process of moving the Roller Planet code into it's own project workspace so that it can be built as a standalone application separate from the Roller Weblogger code.

1. Moved Roller Planet business code to sandbox/planetroller.  This includes the PlanetManager and PlanetManagerImpl as well as all the planet pojos, plus one of the planet tasks which is not specific to the Weblogger app.

2. Copied some parts of the Weblogger codebase to the sandbox/planetroller codebase.  This is done to keep things working and in some cases this copied code can actually be moved into a shared Roller Core library so that it's not longer duplicated.  This includes the RollerException class and some various utility classes in roller.util.

3. Moved Roller Planet unit tests to sandbox/planetroller, where it makes the most sense.

4. Updated build process so that all Roller Planet operations can happen on their own: building, testing, etc.  NOTE: the link between the Planet and Weblogger build process is not fully flushed out and will need further refinement, but this commit is a start.

5. Reorganized some of the remaining Planet code left in the Weblogger src to be moved under the roller.planet package.  This was for the planet struts actions and formbeans.

6. Updated the Weblogger configuration to easily include the Roller Planet component as an addon module.  This meant tweaking the planet.properties file included with the Weblogger app as well as adding a planet-hibernate.cfg.xml to the Weblogger app for configuring the planet hibernate session factory.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485845 13f79535-47bb-0310-9956-ffa450edef68"
8b6bfbdb1604e23d85fb433ba5bb64487266a7e4,"fix package name for hibernate session context class and turn ""show_sql"" off.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485921 13f79535-47bb-0310-9956-ffa450edef68"
c2e7b48f9ff2ba63c719bc2b1d91ca37eaaa589f,"include appropriate build properties in ant.properties file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485922 13f79535-47bb-0310-9956-ffa450edef68"
3ced05fbedfc6257265db0ae76f0962a50c532f2,"clean up build script by trimming some unnecessary fluff.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@485923 13f79535-47bb-0310-9956-ffa450edef68"
10cbb338a1fe981f4993b36e4c7f8b639e68bc8f,"Fixes and temporary hacks to get planet working again

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486019 13f79535-47bb-0310-9956-ffa450edef68"
927949d13c056d20195fa55895878da312e1afb7,"Create a project environment for stable Roller Planet code and keep the experimental Planet UI work in the sandbox.

1. Create project environment for stable Roller Planet code based on java blueprints layout suggestions under apps/planet.

2. Move Roller Planet business layer code to new Roller Planet project environment and ensure a proper build and test environment.

3. Leave experiment Roller Planet UI in sandbox/planetroller and allow it to use the Roller Planet business layer built separately.

4. Update main Roller Weblogger code to use Roller Planet business layer code in new location.

NOTE: the build process is a little bit hacky as of this commit, but we will be working quickly to refine the new process for building the various modules and piecing them together into applications.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486297 13f79535-47bb-0310-9956-ffa450edef68"
9fc9faec275e94931c8167ccd326417264aa8329,"remove old directories.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486298 13f79535-47bb-0310-9956-ffa450edef68"
b80340f7e234fbf1489b9f31e44bf42382836c27,"cleanup the Roller-Planet build process a bit and setup main Roller-Weblogger build process to dynamically build & include the Roller-Planet business layer library.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486346 13f79535-47bb-0310-9956-ffa450edef68"
2f166bc6c4ed3cdaf00b3fcd9fded534b972c36f,"planetroller sandbox project needs the Roller-Planet business layer jar as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486355 13f79535-47bb-0310-9956-ffa450edef68"
805cb4bbe85f18fb7ecc58def56977b120925a25,"More extensive fix for ROL-1312 plus couple of fixes to get unit tests working with most recent directory structure changes from Allen

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486361 13f79535-47bb-0310-9956-ffa450edef68"
b54d7a1e80785d21dfd24100e9fa116cfefdb6c4,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486394 13f79535-47bb-0310-9956-ffa450edef68"
6a6e4b826e7ddb469cbb1a4a4b3a8419ec0cbe93,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486401 13f79535-47bb-0310-9956-ffa450edef68"
d450f80fc14b5916e211f04ebfd978121c9b2a5b,"Datamapper updates to sync with latest Roller changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486449 13f79535-47bb-0310-9956-ffa450edef68"
a41acc4adb1ed6e0b629f0d50d16ea1797afa9dc,"Fixed user guide link

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@486865 13f79535-47bb-0310-9956-ffa450edef68"
205b594b2345d98ff485fda4f1ae53eb353ae931,"Removing unused Xinha components

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487321 13f79535-47bb-0310-9956-ffa450edef68"
8acab185cdf3eb513cb441caab72728a6a64f3db,"Trying to cover each and every copyright notice

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487331 13f79535-47bb-0310-9956-ffa450edef68"
559fffedec0bf8b8f99082fe5aa45867e9ea3e15,"Datamapper JPA ready for testing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487352 13f79535-47bb-0310-9956-ffa450edef68"
e6037dc633b57479b7c678665a1516532050248f,"Datamapper starts working

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487611 13f79535-47bb-0310-9956-ffa450edef68"
f65bc2ff654fa0784711b915d2a2f57518d9a3c8,"Ignore build dirs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487735 13f79535-47bb-0310-9956-ffa450edef68"
a53810c68a5372be7d1ac8312eb2c8684adb9b76,"Updated DE translation from John Doe (LogicTechnics at gmx.net)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487744 13f79535-47bb-0310-9956-ffa450edef68"
a4b46d98e89f092495c857ca5ef9d3ce236cb459,"Until we can load both Weblogger and Planet O/R mappings, we still need planet objects in the mapping file

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487751 13f79535-47bb-0310-9956-ffa450edef68"
c32e4a0f6abb1b1aa04b62ea0d20d6eb4f2f0b15,"Updated to new dir structure

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487752 13f79535-47bb-0310-9956-ffa450edef68"
3ef24e2518affbaa682c4e88651b3565d2835f90,"Fixing double insert of rag_group_subscrioption bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487753 13f79535-47bb-0310-9956-ffa450edef68"
850403d8cd86a2f0677cd12d50e50c156633d318,"Added conditional register, login, logout links

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487758 13f79535-47bb-0310-9956-ffa450edef68"
fb30bff1272ce35cf1c31ff5a3b3ac607f45fa3d,"Adjusted comment for 'aggregated site-wide frontpage'

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487760 13f79535-47bb-0310-9956-ffa450edef68"
6b8da6d6e725aa14ae5176c5242319bc34b49f1a,"Backing out conditional links -- they won't work properly with cache. Need to find another approach, perhaps AJAX?

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487761 13f79535-47bb-0310-9956-ffa450edef68"
69afe0a9dcfcf9b89bc9b375f4b55629b2812ef0,"Added note about using Oracle 10g

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487818 13f79535-47bb-0310-9956-ffa450edef68"
8cc96b336bfd7a14e1c142aeae4511b5ca4d0a17,"Taking planet POJOs back out of hibernate.cfg.xml, I had a config problem

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487938 13f79535-47bb-0310-9956-ffa450edef68"
7594b730548e8c21c74a3091c754832ffed1ba3f,"hibernate.cfg.xml now in WEB-INF/classes, so we don't need to copy it out of metadata

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@487939 13f79535-47bb-0310-9956-ffa450edef68"
d89369f5dbc18b33d9f7f8cdd96589b7e0d85b09,"Datamapper updates for Weblog and User

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488349 13f79535-47bb-0310-9956-ffa450edef68"
7ce2847a984147aec91db9d37b4e52e9feb39489,"1st cut of Anikia generated website for http://incubator.apache.org/roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488413 13f79535-47bb-0310-9956-ffa450edef68"
9b38646773e24a40a1f9e05327823dc95b8f2439,"Couple of webpage tweaks and those missing jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488418 13f79535-47bb-0310-9956-ffa450edef68"
f6b2858c3e462a7732c2c337a4c4558a0eb6fbcd,"Datamapper marked non-persistent fields as transient in mapping

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488497 13f79535-47bb-0310-9956-ffa450edef68"
3c818ad209d1c9ae3f8f5b69df4fb16a90d098ba,"Correcting comment form name

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488697 13f79535-47bb-0310-9956-ffa450edef68"
57d6dc3bdca7fd8032b6a6621168952c79ed7a10,"Added a readme and published files

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488767 13f79535-47bb-0310-9956-ffa450edef68"
11f7da52db0362f70b7c26f96c64aa249f07376a,"Fixing ROME package name to bring in line with apps/planet re-org

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@488775 13f79535-47bb-0310-9956-ffa450edef68"
3f499a11a3a387ca4eb504770c212f1a2680e7c2,"Updated template guide to document generated HTML and CSS classes used

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489133 13f79535-47bb-0310-9956-ffa450edef68"
0a64de87950492472272986ce587ff62df754f6d,"Fixing an incorrect comment

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489165 13f79535-47bb-0310-9956-ffa450edef68"
bbae3791f11f7edc1f6408a51dca36bd8cc5b9da,"Change bookmark, user role, and weblog entry to explicitly manage relationships

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489412 13f79535-47bb-0310-9956-ffa450edef68"
137504530f446883ece7cbd01f742ecdb26c78a8,"Removing ununsed and unnecessary method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489468 13f79535-47bb-0310-9956-ffa450edef68"
233504004fe078a24e55fa258eb23de36bc30ff2,"Fixed missing changes from relationship dependency updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489490 13f79535-47bb-0310-9956-ffa450edef68"
c7bca764f1fe3840c1c1bfab59efec4692fa89eb,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@489811 13f79535-47bb-0310-9956-ffa450edef68"
c9864577a2ca6d04bdc49906bc65d0ba82360b4b,"Restoring non-server side plugins

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@491966 13f79535-47bb-0310-9956-ffa450edef68"
3a9a38268d5de74d9bc15638c3fb49224442dce5,"Manage relationships on both sides

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@492013 13f79535-47bb-0310-9956-ffa450edef68"
303a313eb9a892650c66852949b96a8ec95bcc43,"We can live without this server-side Xinha plugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@492021 13f79535-47bb-0310-9956-ffa450edef68"
d5a029e26822893c4fae0aff93544cf2eafd0b32,"Datamapper updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@492347 13f79535-47bb-0310-9956-ffa450edef68"
a0d2a49cb70c5e583f107b27004feaa5dd40193f,"Implementation Comment Validators proposal plus some bug fixes in comment features

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493205 13f79535-47bb-0310-9956-ffa450edef68"
80f8308a19ebf6516be8a991a89e3ba09cabb369,"Define Derby tasks in start/stop db targets

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493592 13f79535-47bb-0310-9956-ffa450edef68"
3eb0977bb4c20eb4fc62c03e634a346b45cc8f61,"First cut of Akismet validator

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493593 13f79535-47bb-0310-9956-ffa450edef68"
7569efcd76f3e364a98b11f2fa96043f5ef42de1,"Fix incorrect assignment of Id to transient instances

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493627 13f79535-47bb-0310-9956-ffa450edef68"
c0513f7b9cb0107f29663603f148be55ef87d009,"Version info now available from backend

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493762 13f79535-47bb-0310-9956-ffa450edef68"
7635d447de56a05851e1c2920f213de3310f8c20,"couple of comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@493765 13f79535-47bb-0310-9956-ffa450edef68"
3e400d82cf2375cd7010b9eb7286d8cbb4ce7ee7,"fixing bad modification from revision 489490.  websiteid is not optional for weblog categories.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494128 13f79535-47bb-0310-9956-ffa450edef68"
ba0080ce8b5a8ade4144abd53afb05333203bb27,"main() method was mistakenly running referrers turnover task instead of hit count reset task.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494151 13f79535-47bb-0310-9956-ffa450edef68"
b7313cc97dbb9f4dd70389ad37c776aa0c270367,"Fixing get of media-link entry

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494185 13f79535-47bb-0310-9956-ffa450edef68"
faf51b0c78848d9b7659f9767f5c13ec032186a5,"Added referer and userAgent fields to CommentData persistence metadata; added new class PersistenceHelper; changed query to avoid flushing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494526 13f79535-47bb-0310-9956-ffa450edef68"
79d010ab6870218abfd5fc29f1031c2c2e039133,"small query optimization fix.  instead of adding the isenabled=<true/false> criteria to the query, just check it after the object is returned.  this ensures that the website.handle index is used for the lookup.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494546 13f79535-47bb-0310-9956-ffa450edef68"
73ad14f04ea022357a57675382831f6b217aceec,"mail and activation jars moved.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494557 13f79535-47bb-0310-9956-ffa450edef68"
11ae4fc0b0df0152c1a43606035e002883bea224,"fixing bug where categories couldn't be modified.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494605 13f79535-47bb-0310-9956-ffa450edef68"
a3254e2b303ab7fa718e89c87656e5194a4b81ea,"Datamapper updates for managed relationships

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494696 13f79535-47bb-0310-9956-ffa450edef68"
91d19d272745fa3df23a4ab55a333c07c29db4c1,"Roll back managed relationship changes from revision 492013

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494698 13f79535-47bb-0310-9956-ffa450edef68"
e72699aeb4b2cd6caf7cfc899a0113de3cbb50f8,"Correct way to drop NOT NULL constraint from an ID column in PostgreSQL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494826 13f79535-47bb-0310-9956-ffa450edef68"
d5736dbe121ff59ca14f059c58a824d863e189bd,"fix bug in feed self links where velocity gets confused when you use the $url.feed.entries.xxx(<nulltype>, boolean) method with an actual null value.  this commit fairly effectively works around the current problem, but a more robust fix would be to actually rename the new atom(List tags, boolean excerpts) method to something like atomByTags(List, boolean).



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494903 13f79535-47bb-0310-9956-ffa450edef68"
7c00af82fc6b2b8cbd7952b929e9bc870fa3583e,"Adding new status attribute to CommentData class to replace the old combined use of approved/spam/pending boolean flags.  Comments now support 4 distinct status options, APPROVED, DISAPPROVED, PENDING, SPAM.

This change makes it easier to track and manage the state of a comment and more notably improves query performance against the comment table because the sql query now uses fewer criteria.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@494908 13f79535-47bb-0310-9956-ffa450edef68"
2e64f38514d2617e742f5fc7460de422a8eea546,"consolidating implementations of getCommentCount() methods and adding a new criteria to enforce the counts only be against APPROVED comments.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495064 13f79535-47bb-0310-9956-ffa450edef68"
37fad107c993bcad6f833c219f888abc1f0c86e5,"consolidate implementations of getEntryCount() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495068 13f79535-47bb-0310-9956-ffa450edef68"
fae3cdd62ab02a049bcdb683b028b7f8224ef024,"Show hit, entry and comment counts for each blog (ROL-1311)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495267 13f79535-47bb-0310-9956-ffa450edef68"
64f35d3e1b876ac4583519787fb8a3472da759b2,"Retrieve entries by tag methods (ROL-1302)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495273 13f79535-47bb-0310-9956-ffa450edef68"
83e51c675246b0c03e706162e82d648c623f7115,"minor comment correction

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495274 13f79535-47bb-0310-9956-ffa450edef68"
08d552e57d6dd109503be6ef49a689f2bd37aab3,"Improving handling of future scheduled entry postings as noted in Jira issue ROL-1284.

This adds a new SCHEDULED status option for weblog entries and assigns this status to entries published with a pubTime in the future.  This allows for easier tracking of scheduled entries, rather than always just doing date comparisons, and will improve query performance now that entry queries don't always need an end
date.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495347 13f79535-47bb-0310-9956-ffa450edef68"
c84642231af136fae2afee2d3a1eba3994571cba,"Datamapper updates for CommentData status changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495349 13f79535-47bb-0310-9956-ffa450edef68"
e2ea8b16fd977ea0475e8b78f1df904930d12c4b,"Need quotes around default 'APPROVED' string.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495351 13f79535-47bb-0310-9956-ffa450edef68"
5936b1ace164ee9fb05204d56eb74c601227c771,"fixing bug with lazy initializations caused by the use of detached objects in search operations run on independent threads.  since search operations are run as background tasks on separate threads they cannot directly use objects passed in from other sources, so we simply requery for the few objects to prevent any problems.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495355 13f79535-47bb-0310-9956-ffa450edef68"
b0207fb05a2e624e85d3c37708d66089ce2558b8,"make it a bit easier to be able to run unit tests against other dbs, more work needed though.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495475 13f79535-47bb-0310-9956-ffa450edef68"
a89d92369324ebda332f058c5278f35ba456730f,"Fixes for race conditions in lock acquisition via HibernateThreadManagerImpl from Jira issue ROL-1306.  A number of fixes are included in this commit ...

1. Added a database uniqueness constraint on the roller_tasklock.name column to
prevent any possibility of there being duplicate insertions for a given task lease.

2. Updated the acquireLock() method to use a more robust acquisition method based on a single sql update statement as suggested by Elias.  This should adequately eliminate race conditions when 2 or more members of a cluster attempt to acquire a lock at the same time.

3. Updated the acquireLock() method to perform all lease activities based on database time, which should negate any potential clock skew issues between cluster
members.

4. Introduced a new clientId attribute for a task which makes it possible for each member of a cluster to be uniquely identified with regards to ownership of a
lease.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495640 13f79535-47bb-0310-9956-ffa450edef68"
ecd405d1141ef5e0ba0ce93b629095784e25bc80,"small fix for synchronized timing of task execution within a cluster.  when a task finishes running we leave the timeleased equal to the interval time for the task so that no new leases for that task can be given before the interval time for the task has passed.

this ensures that a quick task which runs with only relative frequency doesn't mistakenly get run more frequently by various members of the cluster.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495658 13f79535-47bb-0310-9956-ffa450edef68"
4d1ee02075c7f9a3ba6b5e34cc9b782c0120fc24,"Make RollerTask truly abstract and not require all tasks to go through the leasing process.  Tasks which are meant to be synchronized amongst the cluster should extend RollerTaskWithLeasing.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495659 13f79535-47bb-0310-9956-ffa450edef68"
179b615d277a8a8c810bf28f3d7175f323db6a5e,"a little bit of renaming to use the term ""lease"" instead of ""lock"" when dealing with task leasing.  this is more consistent with JINI's terminology as suggested by Elias.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495666 13f79535-47bb-0310-9956-ffa450edef68"
57282a5ad3e80b7be69413cb7903f95e00f74e99,"A work around type fix for Jira issue ROL-1294 for fixing inconsistent scheduling for Roller's periodic tasks.  This fix changes the scheduling of RollerTask objects such that instead of scheduling them directly on the Timer we use a wrapping executor class which when triggered launches the real task on it's own thread running in the background.  This prevents one task from hogging the schedulers time and delaying other tasks from running.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495736 13f79535-47bb-0310-9956-ffa450edef68"
a0b7a382fb3bdef9ba9960a462ade69e7f5baeac,"fix bug in folder save action where updates where not taking effect.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495749 13f79535-47bb-0310-9956-ffa450edef68"
14e4457e3e5ee5ac9290ba4b7d850361fad7a2af,"getWeblogEntries(cat, subcats) and getWeblogEntriesPinnedToMain(Integer) in HibernateWeblogManagerImpl return entries for use on weblog display, so they must be constrained to entries marked as PUBLISHED.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495759 13f79535-47bb-0310-9956-ffa450edef68"
f2bd0a00f3cbea149b310d0f8fc884c8b72b1481,"The task for promoting scheduled entries to published status should be a RollerTask instead of custom thread managed by the cache manager.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495784 13f79535-47bb-0310-9956-ffa450edef68"
38865fbc9f415788b22b2798b06036dc20a4e726,"add access to clientId persisted field.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495792 13f79535-47bb-0310-9956-ffa450edef68"
78f4d076b77ed34bc3263d49eed6f3c7e87947c9,"Datamapper changes tracking trunk updates

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495810 13f79535-47bb-0310-9956-ffa450edef68"
872452aaac60b3b6f503db52049f0c18254d3e6e,"Oops forgot JPAThreadManagerImpl.java

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@495816 13f79535-47bb-0310-9956-ffa450edef68"
b1c489e6762f909e7158697fd96e0e822a87ee06,"Fixed findbugs typos thanks to Markus Fuchs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@496903 13f79535-47bb-0310-9956-ffa450edef68"
39d72799114ae1d2349f497a8ea79788a2d815df,"* Completely eliminated PersistentObject, so POJOs no longer need to extend
a common base class and setId() and getId() methods are no longer mandated.

* Ensured all POJO equals() and hashcode() methods use ""natural keys"" as 
recommended in Hibernate in Action. Used Jakarta Commons EqualsBuilder and
HashBuilder to simplify implementations.

* De-kludged our Hibernate store() implemenation, it now uses saveOrUpdate().

* All unit tests pass, BUT had to comment out subfolder creation code. I'm 
still trying to figure out why test teardown fails when subfolders are created
in testFolderCRUD() but not in the other BookmarkTest tests. Removing a weblog
with folders and subfolders works fine through the UI too.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497459 13f79535-47bb-0310-9956-ffa450edef68"
f794d0b97bc449c8884370d72b4acb2bf5c98473,"Import fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497463 13f79535-47bb-0310-9956-ffa450edef68"
12aa3528be117c62acf673ba3e67039303e10e65,"Moved send-trackback logic to backend, added response parsing and error reporting

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497673 13f79535-47bb-0310-9956-ffa450edef68"
3a87f81fb10dec26914d485c61fdc18b30368425,"Added a couple comments on new sendTrackback() method

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497688 13f79535-47bb-0310-9956-ffa450edef68"
b028d8f534db4621f7fb839243963c18bb1f1b63,"Workaround for JPA/Toplink bug

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497691 13f79535-47bb-0310-9956-ffa450edef68"
f1b64f5bcc496849592da9c5a7e1345686749cb4,"ping queue task should have a main() method like all the other tasks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497923 13f79535-47bb-0310-9956-ffa450edef68"
9322d407418dd304a915ecca5941058c81ceefc7,"a more complete fix for the velocity issue caused by having multiple atom(<nulltype>, boolean) methods in the feed url model code.  this fix breaks out the old atom/rss url model methods for getting feed urls by tags and changes them to atomByTags() and rssByTags().



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497936 13f79535-47bb-0310-9956-ffa450edef68"
3279d84bc6e41095736aac0558868f9096463b2d,"Ripping out PersistentObject, starting to add PlanetImpl

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@497945 13f79535-47bb-0310-9956-ffa450edef68"
de682f17bb62b79b191d8d0c00d8febdac573d09,"Fixes to JDO impl and fixes to tests that were saving detached objects

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498108 13f79535-47bb-0310-9956-ffa450edef68"
bf3f77130cf9f2199c9097689d3bdaef523e4121,"Removing unnecessary ID setter/getter

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498639 13f79535-47bb-0310-9956-ffa450edef68"
5a4b271d4b020ab0231ea7786b2217d8f86dbec4,"Log exception in beginWriting catch block

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498640 13f79535-47bb-0310-9956-ffa450edef68"
95beca8297e2b83e771b2fd41aa62eeeefad7383,"Removing some confusing old TODO comments

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498648 13f79535-47bb-0310-9956-ffa450edef68"
f788f934da70b465e57e931358479b5fb2a43250,"fix up PlanetFactory to ensure there is no possible double instantiation of Planet implemenation.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498741 13f79535-47bb-0310-9956-ffa450edef68"
2a65a19152ed082497e28982242807d8bf7c72d8,"don't need 'show_sql' on by default.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498743 13f79535-47bb-0310-9956-ffa450edef68"
4c83197a2a4340f8376514bd00eef2dde5905630,"change Roller Weblogger build process to use a static build of the Roller Planet library.  this appropriately decouples the two projects so that work can be done on the Planet project without forcing effects on the Weblogger project.

moving forward, the Planet library included in the Weblogger app should only be updated when the Planet code has been appropriately tested and the project committers feel that an update is warranted.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498748 13f79535-47bb-0310-9956-ffa450edef68"
0713a4c031a7f1b17fe79afecac794ffa1fae03f,"escape/unescape JavaScript, needed for JSON generation/processing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498803 13f79535-47bb-0310-9956-ffa450edef68"
cbeb5f068da7b9e8aeff414593c888aef0c5d1c8,"No saving detached objects in tests, fix in weblog manager

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498819 13f79535-47bb-0310-9956-ffa450edef68"
3574a5a49fa7af281006f03cdcc3795abcbba066,"adding start/stop debug messages to scheduled entries task.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498830 13f79535-47bb-0310-9956-ffa450edef68"
be1a6415157538e6b621357d2b1c787299e169e4,"make sure new posts have the appropriate commentDays set.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498831 13f79535-47bb-0310-9956-ffa450edef68"
ce4420b936e9dd7d2fca7fc9c19da1c4be7a146e,"oops

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498832 13f79535-47bb-0310-9956-ffa450edef68"
a1fc7b498eed1b0087320a7a756a46e3fe8e7a77,"when getting entries by tag we don't need an endDate now that scheduled entries have their own status.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498866 13f79535-47bb-0310-9956-ffa450edef68"
0a72de8e0826fc1c1118cf9b978e80c064b9e880,"oopsie.  we want to query for entries with status=SCHEDULED, not sortBy SCHEDULED.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@498867 13f79535-47bb-0310-9956-ffa450edef68"
66c9a069f6854e61744a0f7f750c91880c384560,"Atom in capitalized in the namespace URI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499071 13f79535-47bb-0310-9956-ffa450edef68"
ac3fd8e349a02e55a79629054c46174a86ec08d9,"Set location header properly (on post) and claim to implement draft #12

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499175 13f79535-47bb-0310-9956-ffa450edef68"
20986c8193bc5ac0d60950222ff475bec04976cb,"Use only path in equals() and hashCode() as we did before getting rid of PersistentObject. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499419 13f79535-47bb-0310-9956-ffa450edef68"
0b88b1646c47381ff1729b1cdb358c819bd67d45,"Add website to equals() and hashCode(), which is redundant but allows us to work around a JPA issue.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499420 13f79535-47bb-0310-9956-ffa450edef68"
65e8dcabdc390dccf1a5efca2e193c86aa0fbd9a,"use uniqueResult() method rather than setting max results and using list(), this prevents the addition of a ""limit ?"" to the query which is unnecessary.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499475 13f79535-47bb-0310-9956-ffa450edef68"
f24544f1a533b4feaf7ac5213aba3313abf06287,"fixing bug in atom comment feeds where content was being displayed twice.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@499995 13f79535-47bb-0310-9956-ffa450edef68"
dddc0abae0350fed73b3e3abfbf6099b189b9c57,"add method hasCategory(name) to weblog category pojo to check if a given category has the named child category.  unit test included.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500031 13f79535-47bb-0310-9956-ffa450edef68"
bad74e31150367eba6704cdb91a8f0e9b5e032f3,"add method hasFolder(name) to folder pojo to check if a given folder has the named child folder.  unit test included.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500032 13f79535-47bb-0310-9956-ffa450edef68"
0f23023db695844a3ca02763b33c134de17f0aec,"fix bugs in folder and category save actions to prevent renaming to an existing name.  also fixes up the error messaging so that a nicer message is displayed to the user.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500034 13f79535-47bb-0310-9956-ffa450edef68"
ded504b2f5f5f6ad1ef121aa8bd8d442cd588cae,"make it even a little bit easier to do automated testing against any type of db.  everything is controllable from the ant.properties file and and the only annoying part left is that you have to duplicate some properties into the testdata/roller-custom.properties file.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500315 13f79535-47bb-0310-9956-ffa450edef68"
1fd515957bc4af881bad501d6f604f375133de75,"add a teardownPermissions() method.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500408 13f79535-47bb-0310-9956-ffa450edef68"
9fec8c5d1a045ce21752ef4adcc2c7da439d761e,"some better logging and exception handling on a few tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500409 13f79535-47bb-0310-9956-ffa450edef68"
e19c097678f94a6f29f6562a99f4bb2acefd8b05,"fix for removeWebsite() so that it properly removes entries on a weblog via calls to WeblogManager.removeWeblogEntry().

update to getWebsites() method so that endDate is not mandatory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500412 13f79535-47bb-0310-9956-ffa450edef68"
93be1d89d22d13dcca0f03724bf33a811b537adb,"roller_user_permissions table should have foreign key constraints against rolleruser(id) and website(id).



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@500413 13f79535-47bb-0310-9956-ffa450edef68"
ce105de0fecbfdb814d0a1a73cf48b25e240bcd4,"reorganize droptables sequence to make sure we don't run into conflicts with foreign key violations when dropping tables.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501137 13f79535-47bb-0310-9956-ffa450edef68"
d7d615af548eb74d5a4859a78c3ff41bef4bca02,"add a unit test for cascading deletes of comments through the delete of an entry or weblog.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501141 13f79535-47bb-0310-9956-ffa450edef68"
f3bcc91e897f1ab6f1974cb20ce9ccca591abe0e,"Addressing TODO items in datamapper/JPA back-end, incudes two changes under src that should have 0 impact on production (i.e. new classes that are not used when Hibernate back-end is in use)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501161 13f79535-47bb-0310-9956-ffa450edef68"
8b49d576591d61a228e80110fcde422278a48681,"add convenience methods for adding children to parent pojos.  this adds addFolder() to FolderData and addCategory() to WeblogCategoryData.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501553 13f79535-47bb-0310-9956-ffa450edef68"
594627d3291d503e2b5547d7566c5f230139411b,"fix bug in folder and category save actions where a newly created folder or category does not show up in the list view immediately after the save.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501621 13f79535-47bb-0310-9956-ffa450edef68"
fb7f9539a48ab77353b2d96b96b04041d008095b,"setup and teardown methods for a weblog category.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501622 13f79535-47bb-0310-9956-ffa450edef68"
9ecc968ab69ab879f1006d71318c0626219c45f5,"flushing out weblog category tests to provide better testing coverage.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501623 13f79535-47bb-0310-9956-ffa450edef68"
c22d956629855394e7840d30c13c43ab7479c128,"pass in trackbackURL to message.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501624 13f79535-47bb-0310-9956-ffa450edef68"
147b1ca85861652083377ad83c8cfb90e32fa7ff,"comment moderation approval message needs a couple line breaks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501628 13f79535-47bb-0310-9956-ffa450edef68"
d0381cd3b29b05810b68ccdcb29902abd2e7f49e,"small backend cleanup.  remove method getWeblogCategories(WebsiteData website) from WeblogManager because it is an unnecessary dupe of getWeblogCategories(WebsiteData website, boolean includeRoot).



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501652 13f79535-47bb-0310-9956-ffa450edef68"
42785e3a9f0e0af7280cf175ae9e067dadae2b49,"a few more tests for category lookups by path.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501656 13f79535-47bb-0310-9956-ffa450edef68"
c5f4e1b4caa0b75171cddb76880bb7c7a40f1668,"small backend cleanup.  remove unnecessary method getWeblogCategoryByPath(website, category, pathString) from WeblogManager.  that method provides no functionality not available via the existing method getWeblogCategoryByPath(website, pathString) and none of it's callers were using the category arguement anyways.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501657 13f79535-47bb-0310-9956-ffa450edef68"
8a207458ae0214d56491761d3405467d51a3fa61,"don't log IO errors from sending trackbacks at ERROR level because that fills the logs with unnecessary exceptions about malformed urls, etc.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501658 13f79535-47bb-0310-9956-ffa450edef68"
e862a14a59d3cd3f37811b4afdc1c7366e7627bb,"updates to folder testing to provide more test coverage.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501692 13f79535-47bb-0310-9956-ffa450edef68"
37e160e2e23380db08a6875f4e692802e909b773,"renaming a test class.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501903 13f79535-47bb-0310-9956-ffa450edef68"
a75092a78603cd8e49e52eb1fba65b49eed74d63,"adding a test for deleting of folder parent object.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@501906 13f79535-47bb-0310-9956-ffa450edef68"
ac1ec9b67a17c9c9c7f21b9110f631c9b1bfed10,"formatting only

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502071 13f79535-47bb-0310-9956-ffa450edef68"
777834a8149b2134df0b1804d6365c7f4cc1bc5a,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502438 13f79535-47bb-0310-9956-ffa450edef68"
28f4d72846d56244115e4def82b33d193a504a93,"Comment validator for trackback linkbacks must be sensitive to trackbackVerification runtime config property.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502440 13f79535-47bb-0310-9956-ffa450edef68"
40418d2e5f926de297dc9f11c21f0efa1b904a08,"always add trackback verification validator as a comment validator for trackbacks.  it can still be toggled on/off via the runtime config.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502445 13f79535-47bb-0310-9956-ffa450edef68"
303f3d3be13917324e37d350b72f3f973c50cee4,"uniqueness constraint on tasklock name.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502446 13f79535-47bb-0310-9956-ffa450edef68"
7400332dc6c90e3d6d74943915b6d42e8e31557a,"Updating wiki links, fixing typo

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502617 13f79535-47bb-0310-9956-ffa450edef68"
dc08bd4962905bb4e15abff5a15e6b98bb65868e,"reflectionToString() is not a good solution for implementing the toString() method on pojos because it can lead to infinite loops when 2 objects reference each other, such as in the case of UserData, PermissionsData, and WebsiteData.

Instead, we'll just do it the old fashioned way.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502677 13f79535-47bb-0310-9956-ffa450edef68"
b8359e43c5b71d456b1fa0679e100a40573cd5df,"rss feeds should have self links pointing back to rss feeds, not atom feeds.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502678 13f79535-47bb-0310-9956-ffa450edef68"
42e4584782265934fdaa6441d0ce08ee4127cad4,"error pages can't use taglibs.jsp because taglibs.jsp can require a db session and something about the way the error pages are triggered causes db sessions to not always be closed properly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502689 13f79535-47bb-0310-9956-ffa450edef68"
d733bf916f659941e1e400d3b07a02c93e4391d7,"fixing up various things in db scripts.  removing some old and useless indexes, replacing some indexes which did not get created properly, etc.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502703 13f79535-47bb-0310-9956-ffa450edef68"
9a38c96a022ef940bad2808cba166db8d822e142,"add 2 new configuration properties which give site admins the ability to not save comments or trackbacks which get marked as spam during comment validation.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@502766 13f79535-47bb-0310-9956-ffa450edef68"
114803a015ba98f37712cbe5c0bcb84589ca46ec,"Lots of fixes and enhancements:
- Support for tags
- Fixed support for categories
- Support for resource subdirectories
- Fixed bugs in resource collection paging

Tested against ROME Propono client lib and I'm getting ready to test against the APE.


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@503275 13f79535-47bb-0310-9956-ffa450edef68"
853e31049e9b0517e38db3a6638e3be296a8abbc,"preserve posttime timestamp

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@503303 13f79535-47bb-0310-9956-ffa450edef68"
68547ce1ce380c684596c6b58d294f70283b3f84,"Preserve pubtime and updatetime timestamps

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@503304 13f79535-47bb-0310-9956-ffa450edef68"
f7fef990f0aa171d106a09aad4184d614ba86934,"Now passes APE testing without errors, but I need to figure out why index removal fails.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@503327 13f79535-47bb-0310-9956-ffa450edef68"
03315568928abaf38ee287f287b3b5ac975b18d6,"After some discussions with Tim B it seems preferable to specify no scheme for tags.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@503720 13f79535-47bb-0310-9956-ffa450edef68"
983c31c920fd84e5a14e4fbc97451da651e146ee,"Adding Apache Roller resolution for editing

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@504013 13f79535-47bb-0310-9956-ffa450edef68"
7aded71251e119cf5d02e8fb0f1310bad20e9125,"Replacing XXXs with what look to be the standard scope description for this kind of project. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@504015 13f79535-47bb-0310-9956-ffa450edef68"
d4f3cd93acbecd5a5dc4dab99bcb119598debf65,"LDAP/SSO setup comments and session invalidation change required to make them work

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@504198 13f79535-47bb-0310-9956-ffa450edef68"
bfd6ea22c5eadada0815695905b1e27261367d53,"Updating change list

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@504219 13f79535-47bb-0310-9956-ffa450edef68"
f0f084ea7b3a520c83d597693ebd2f5206720f1c,"Roller Planet application gets a facelift.

1. All the old planetroller stuff from the sandbox is either deleted or moved into the official apps/planet workspace

2. Planet now features a Struts2 based UI which replaces the JSF one.

3. Planet now features a dynamic rendering system based on the one used by Roller Weblogger.  Currently this is very limited, but it will be expanded fairly soon.

4. Planet now features a hashtable like properties table for managing application runtime properties.  Same as Weblogger.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505078 13f79535-47bb-0310-9956-ffa450edef68"
eba7467a854289151e88bdd50516d1a89b15f833,"example templates



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505087 13f79535-47bb-0310-9956-ffa450edef68"
daa55acfcf3567df1cbcc8c96988207a26da1b25,"cleaning up a few things and moving the last couple jsps under /WEB-INF/jsps



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505111 13f79535-47bb-0310-9956-ffa450edef68"
4284b20a4bf4613ecfab4ab4f6c09df037036b25,"oops, that wasn't supposed to be committed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505112 13f79535-47bb-0310-9956-ffa450edef68"
968b400ff46c0dd1d2a28a4ce5296b5df9123db4,"we don't need to setupVelocity() here.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505117 13f79535-47bb-0310-9956-ffa450edef68"
9d24b69eb3e81cce1376d349b25f90bfdd540ba0,"moving DebugFilter to the correct package.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505118 13f79535-47bb-0310-9956-ffa450edef68"
f333d918ee2e36cd52599b20639a67f28eef0509,"default templates can be inside the webapp where we keep velocity templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505119 13f79535-47bb-0310-9956-ffa450edef68"
3afca714ef3ac8c04eb4c3e2f050352d00ee055f,"comments display macro was missing per comment anchor ids.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505409 13f79535-47bb-0310-9956-ffa450edef68"
f893388913933b4cf291c4655ee4f649651dcdcd,"second attempt to fix connection leak problem with custom 404/403/error pages.

the previous fix wasn't working because many of the tiles component jsps were still importing taglibs.jsp which makes a call to the db and triggers the problem, so to fix that i've created a whole new tiles page specifically for error pages which ensures that none of the error pages make any calls to the db or require a session.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505431 13f79535-47bb-0310-9956-ffa450edef68"
50423a6e64c6ebbe090932379ea06c411b5d8731,"adding in a pluggable url strategy and URLModel and updating templates to make use of it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@505591 13f79535-47bb-0310-9956-ffa450edef68"
5670e3c43673d2c3aa45a7dd1fc2d2fdf8195dbb,"Fixing ROL-1340: userid field incorrect in entries returned by MetaWeblog API

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@506444 13f79535-47bb-0310-9956-ffa450edef68"
c9ab9e8ca37a352860249bda79ff32598b06fbbd,"Fix for ROL-1343, remoteHost may be null

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@506460 13f79535-47bb-0310-9956-ffa450edef68"
f147ada5b81e31f0d48bd0faac1569eb5131f63b,"the correct config prop name is ""cache.dir""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@506582 13f79535-47bb-0310-9956-ffa450edef68"
e0557bdd0c248fc14cbc6d18e74d8db20915d70c,"there is no styles.jsp



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@507206 13f79535-47bb-0310-9956-ffa450edef68"
85a701bdac9f66eb23e8a708839752e61e28bc53,"Pointing to the migrated FAQ, and updating the lhs navbar to point to the cwiki

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@507383 13f79535-47bb-0310-9956-ffa450edef68"
72312e2a3c5b52d4e4ae3a2f6f5ea182f16faa12,"_ to +

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@507394 13f79535-47bb-0310-9956-ffa450edef68"
557b8764c619dfa1db11e941d8d23d41f78ca9a1,"web.xml needs a resource-ref for the db datasource.  also adding a sun-web.xml file for use on Sun containers.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508034 13f79535-47bb-0310-9956-ffa450edef68"
ff3a4b46bb3bde20401cce0bd6d1379e5d4a8014,"build a WAR file as part of the ""dist"" target.  and a small fix for testing against a 3rd party db.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508035 13f79535-47bb-0310-9956-ffa450edef68"
13c19e3317ef115d2261b80a79da57d896d500a4,"cleanup the shutdown/release process a bit.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508048 13f79535-47bb-0310-9956-ffa450edef68"
bc3b2a988d357af080885c7dccfba3fbce135107,"log at INFO level by default, even for tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508197 13f79535-47bb-0310-9956-ffa450edef68"
6b15ce6e4dbc3745227d84a11e3364e2cc431ab3,"fix up some crud regarding the use of the s:url includeParams attribute.

Struts2's default behavior is for includeParams=""get"", but it turns out that is bad default if you are using s:url to link to static resources and various other things where attributes from the action have no relevance.  So to fix this we are setting the new default to includeParams=""none"" and simply letting any s:url calls which want the params to explicitly say includeParams=""get""



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508198 13f79535-47bb-0310-9956-ffa450edef68"
bb940ccb87a9a1d7926f829638a874dad012c083,"directory no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508591 13f79535-47bb-0310-9956-ffa450edef68"
7c0a31a914c858fba4cd5b565a12b16fc493d3ee,"fixing up Roller dbscript generation process to allow for independent db script generation for Planet and Weblogger apps.  Each application can now maintain and generate it's own db scripts indpendently of the other app.

NOTE: this doesn't solve the issue of how to properly include the planet scripts with the weblogger scripts, that will be tackled in a subsequent commit.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508630 13f79535-47bb-0310-9956-ffa450edef68"
edfb834f9a91e9287b1c606d1d0b9006dd6aff06,"unit testing should use new dbscripts location for initializing the db.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508647 13f79535-47bb-0310-9956-ffa450edef68"
da29a0ff96f2829a837418584ae6ef7735d6895b,"make unit tests init db based on the scripts in build/dbscripts



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508652 13f79535-47bb-0310-9956-ffa450edef68"
2fa4fb25e36859e8d7559d467b3849ada2818746,"the Roller Weblogger 3.2 release should not contain any of the new planet tables.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508655 13f79535-47bb-0310-9956-ffa450edef68"
94de558d066ff3f28a1532c097335bde3826f47e,"fixing quirk/bug happening on some containers due to the fact that Roller is overriding the way the /j_security_check url normally works.  this fix simply alters the Acegi authentication url from /j_security_check to /roller_j_security_check.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@508659 13f79535-47bb-0310-9956-ffa450edef68"
3a8caeda43dd511e3efa795c16d35919749a1b98,"need to update scheme enforcement url list to allow /roller_j_security_check instead of /j_security_check now.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@510252 13f79535-47bb-0310-9956-ffa450edef68"
4baf7cd44e07b55d82236b3a1ba002b18fdf607b,"Fixes ROL-1344: Search again doesn't retain chosen category when searching by category

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@510567 13f79535-47bb-0310-9956-ffa450edef68"
22c5d0fe4a357ca343d92132e7492edcdc3d360c,"upgrade struts2 libs from 2.0.1 to 2.0.5



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@510726 13f79535-47bb-0310-9956-ffa450edef68"
e7f859328c7a267b6f68091f7a9dee460da6e0db,"some fixes for proper xml escaping in templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@510728 13f79535-47bb-0310-9956-ffa450edef68"
ebc6f7cad2b254f6df7907818625d7b34057a424,"doing a couple things to continue polishing things up a bit.

1. fixed up some quirks in the createdb script.

2. added first step of validation to forms to enforce simple checks like required fields, field types, and max and min lengths.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@510734 13f79535-47bb-0310-9956-ffa450edef68"
65c543b3c3ffabecff52304eac0f243d5e42311a,"Fixes for ROL-1341 suggested by Thomas Hofmann.  Requires testing before integration to 3.1 branch.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@511010 13f79535-47bb-0310-9956-ffa450edef68"
48168f7dd163be61c506b49706dc27a503f78cbd,"- Better explanation of email setup
- Changed references to 3.0 to 3.2
- Added prominent note about not editing roller.properties directly
- Change Hibernate dialect in roller-custom.properties not Hibernate config
 

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@511858 13f79535-47bb-0310-9956-ffa450edef68"
77fb4fc8dcadcabd4b59304fc25f7a73e32fc9db,"Changing the behavior of the relationship between subscriptions and their entries to not use Hibernate's ""all-delete-orphan"" functionality.  This includes a few changes ...

1. created a new deleteEntries(subscription) method in planet manager.

2. removed the subscription.purgeEntries() method.

3. replaced calls to subscription.purgeEntries() with calls to planetManager.deleteEntries(subscription).




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@512378 13f79535-47bb-0310-9956-ffa450edef68"
f5fb6c72efb47ab472f880e53d74fdfd64a21be3,"removing incubation wording

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@512760 13f79535-47bb-0310-9956-ffa450edef68"
cef6d098b31a10a63b277111c489e74523419073,"Reasonable defaults for comment content textarea

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@512766 13f79535-47bb-0310-9956-ffa450edef68"
8ff75877568125e82bc3301d096814504f924378,"Removing incubating word from footer, pointing to roller.apache.org now

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@512769 13f79535-47bb-0310-9956-ffa450edef68"
779a7b1f67f2709cd0fee31802451cd349ccfad7,"mail session resource-ref should be uncommented by default because users shouldn't need to hack the web.xml file to enable the mail session and on strict containers the absence of this resource-ref prevents the app from using it.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513452 13f79535-47bb-0310-9956-ffa450edef68"
5cce9e2ff381b6693b6c832cbe55056f2783a875,"need to have mail session resource-ref as well.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513453 13f79535-47bb-0310-9956-ffa450edef68"
b19f1a561bdcdf97e89557e36376c84db47255f8,"Fixing broken links and references in Javadoc

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513778 13f79535-47bb-0310-9956-ffa450edef68"
95169a5f7f311482998c58cfbf3840e9b2a31640,"Workaround for Java javadoc Bug #5082928 see intructions here: http://bugs.sun.com/bugdatabase/view_bug.do?bug_id=5082928

If Javadoc fails, you'll need this to find the offending HTML link.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513781 13f79535-47bb-0310-9956-ffa450edef68"
8bab407720e3cc219825b860a62d6a536f7ac98b,"Fixing and updating Javadoc target

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513782 13f79535-47bb-0310-9956-ffa450edef68"
010e0f3e96000ff7a966b2ba78fd9ac2801a6d6d,"Javadoc bug workaround

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513783 13f79535-47bb-0310-9956-ffa450edef68"
bd8e2b1f7b7c322c3c13f0ca12a92019808e395b,"Don't really need that workaround jar in Roller

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513785 13f79535-47bb-0310-9956-ffa450edef68"
e353baf80c83b45c6ed7fad12e3f412767834d85,"Same doc changes that were applied to 3.1: dialect setup fix, upgrade correcitons, removed incubator wording

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513798 13f79535-47bb-0310-9956-ffa450edef68"
a74b4eafbc28d4dfbb49b0f24e6789db77a3672b,"Use Groovy 1.0 final

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513885 13f79535-47bb-0310-9956-ffa450edef68"
e8ea713bdfb58d48ef93b01c92c49648e5a03a1e,"Ensure cache dir exists in standalone build

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513894 13f79535-47bb-0310-9956-ffa450edef68"
7999f2454391466ef228b6a3c7a0d16d5102924e,"Trunk is now for 4.0-dev

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@513926 13f79535-47bb-0310-9956-ffa450edef68"
003f1edd0a8f5045c19de22b681df7619d06d9f3,"Lots of little cleanup items for Planet app ...

1. added a 'description' attribute for Planet object because just a title wasn't cutting it.

2. fixed up some redundancy happening in rendering models package and eliminated all traces of unnecessary code, including the use of the original http request in any Models.

3. updated url handling to be a bit more complete and allow for a planet homepage which is controlled via the planet.vm template.

4. changed the way the homepage is rendered by creating a HomepageServlet and having it use a home.vm template for rendering.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514033 13f79535-47bb-0310-9956-ffa450edef68"
27777ee69be1ecb727834615f34a8299d0316854,"Use entry.getPermalink() instead of forming URL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514150 13f79535-47bb-0310-9956-ffa450edef68"
1ab5c4723f73455cee071cc23bed6575b22d191e,"Include cache dir path in cache dir error message

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514151 13f79535-47bb-0310-9956-ffa450edef68"
e5140be7d796b3ca2a4e58cb9dec34cc1d23f6dd,"Use absolute URL for weblog, in case it's on a different domain from the Author UI

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514161 13f79535-47bb-0310-9956-ffa450edef68"
769c11734f7ad60070af1a32f463e53f3295953d,"The timeleased column is an int (both in the db and in the hibernate config) but this class was treating them as a String. This was causing an error on Postgres (ERROR: column timeleased is of type integer but expression is of type character varying)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514535 13f79535-47bb-0310-9956-ffa450edef68"
0cf8013d86c39d2eda4b95db5c646d100e259ed5,"PlanetGroup must have a Planet

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514722 13f79535-47bb-0310-9956-ffa450edef68"
854b20c61b5d9c5a6b09bc6e9ac8139013354e2c,"switching to Derby and making JSPWiki optional

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514725 13f79535-47bb-0310-9956-ffa450edef68"
d1bf561ac2b09fcea51f050fabdbb9e7bdb6ab13,"Did not mean to commit components

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@514735 13f79535-47bb-0310-9956-ffa450edef68"
3135e605cca6290fb9536bd800abe152ea1093c5,"Fixing grammar issues mentioned in ROL-940

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515045 13f79535-47bb-0310-9956-ffa450edef68"
f0418849565f23cbb4cab035fae6bd1d1fac3f94,"some updated formatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515344 13f79535-47bb-0310-9956-ffa450edef68"
7df04d4bfabd9e4b5e0e8fc8170d6603cc53e7fd,"PlanetData constructor should accept handle, title, description.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515345 13f79535-47bb-0310-9956-ffa450edef68"
0d533b2fdb35dd50d7b49a07b99477a248bac659,"some fixes for default templates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515346 13f79535-47bb-0310-9956-ffa450edef68"
41236855040f8be0d63e02f47c44a8676e8cff4c,"Fixing my blog details

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515358 13f79535-47bb-0310-9956-ffa450edef68"
7983a16324641ffe5bffdb02fdc152f19cb584c1,"Applying the feature from ROL-1365 - adding a Search string field to the manage entries page

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515359 13f79535-47bb-0310-9956-ffa450edef68"
eb5479c793a808ce1c9959ae3ce01222fe0949ec,"Couple more changes for ROL-1365 - my previous commit broke the build (note to self, must use 'ant clean')

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515416 13f79535-47bb-0310-9956-ffa450edef68"
7eb68d465208a5b81c56d7e3a1a833fea95d0d91,"Fixing entry comment link in RSS2 feeds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515428 13f79535-47bb-0310-9956-ffa450edef68"
d4079af0779cd8ad1f96668cbba583765c03a3b5,"Fixing the tests that I broke. Sorry - didn't realise the 'all' task didn't run tests. There are failures though - is that usual? It ends with a BUILD SUCCESSFUL

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515459 13f79535-47bb-0310-9956-ffa450edef68"
c12133d42b57c4326b564ae81f34733edb7cfa7d,"Fixing ROL-1359. It wasn't a case of it using the root all the time (as you'd assume from the symptoms) but of it using the grandparent folder rather than the parent folder for the bookmark. Changing parentFolder.parent.path to parentFolder.path fixes this. I also removed the line below the Bookmark title which specifies 'Path: /Foo' etc. It seems pointless to repeat the path after listing it in the subtitle. 

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515468 13f79535-47bb-0310-9956-ffa450edef68"
8058f0c6d4baaa7a060bcc281c84dc539f1ee0c6,"cleanup

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@515803 13f79535-47bb-0310-9956-ffa450edef68"
9f8c771c825b05778eade81fc856b6cf7be8a3ff,"Updating package docs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516064 13f79535-47bb-0310-9956-ffa450edef68"
e630b2b67dd015660314bb4e120e303a6dae15d3,"Cleaning up and refining scripts

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516118 13f79535-47bb-0310-9956-ffa450edef68"
430f0519e1eaaabc4a0a8d2a4e002665004cea8c,"re-org of scripting sandbox

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516134 13f79535-47bb-0310-9956-ffa450edef68"
60e58663904ce6a94284cf05fc28001a842c311d,"support paging for the planet page view.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516159 13f79535-47bb-0310-9956-ffa450edef68"
fcd50069b009b601b625a0f2324d4dd6c0a13ad9,"oops, small bug.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516160 13f79535-47bb-0310-9956-ffa450edef68"
a963e248927e80d0b0dac213c7de4cd9360332d5,"Groovy renderer plugin

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516239 13f79535-47bb-0310-9956-ffa450edef68"
8e1b6615317a0550304a9f2bd1a327822b28e8b3,"comment fix

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516241 13f79535-47bb-0310-9956-ffa450edef68"
d61eb4c002298595c785e2e155c86a6ac50c53fb,"Correcting blogroll URLs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516268 13f79535-47bb-0310-9956-ffa450edef68"
a7d46f893c3486c1746ddbfc05fe13e5a9bdd1c6,"Couple of tweaks to get Roller renderer running

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516282 13f79535-47bb-0310-9956-ffa450edef68"
3c4f4a793a05048f669b6d45d5c96573d0d765ad,"New BSF renderer

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516493 13f79535-47bb-0310-9956-ffa450edef68"
72b0b1e757f1500fd84179bedf01a5fbb062d232,"New BSF renderer

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516495 13f79535-47bb-0310-9956-ffa450edef68"
a3cb1b4219ea438cf19a9370598950d81817b039,"No need for JRuby renderer. JRuby can be supported via BSF.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@516513 13f79535-47bb-0310-9956-ffa450edef68"
8767646b95e2940bd6bf5126b09166fa0a7e58ff,"Groovlet and GSP renderers, plus README docs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517067 13f79535-47bb-0310-9956-ffa450edef68"
5784394871dbd207648beb562f0869faa56fec6e,"BSF renderer, tested with Groovy and JavaScript

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517070 13f79535-47bb-0310-9956-ffa450edef68"
d997afa7a73cfa599156ada4e0987075d6a1e6ea,"dangit\!

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517071 13f79535-47bb-0310-9956-ffa450edef68"
65bfcae6510b97145f99feb5b846788314aa0b79,"dangit again

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517072 13f79535-47bb-0310-9956-ffa450edef68"
37274e6ed57b27c1cab1a14fb8dfc10b0417267e,"Ignore build and dist dirs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517074 13f79535-47bb-0310-9956-ffa450edef68"
7262ff04b3c92ebb93cee5bfd6ba455ea9d95cf5,"just some code cleanup, reorganization, etc.  no code changes.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517282 13f79535-47bb-0310-9956-ffa450edef68"
200feddd6d4702f2bc4a8631f561d0fc96b3b931,"first pass at some Planet cleanup work.  removing unused or unnecessary methods, cleaning up some queries, etc.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517300 13f79535-47bb-0310-9956-ffa450edef68"
188dcb95083c9865b45361eb54d0528f8ecc4f50,"Fix for ROL-1371, broken comment links in site-wide feeds.

May not be the best long term fix, but it's good enough for now.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517322 13f79535-47bb-0310-9956-ffa450edef68"
f8675963cb3092365f09f6f542d9fd06bb99252c,"second pass at Planet cleanup.  cleaning up some more unnecessary methods, simplifying some backend methods, and flushing out more unit tests.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517436 13f79535-47bb-0310-9956-ffa450edef68"
42ea76a2b3fc29972a0261e8927696a921d69499,"third pass at Planet cleanup work.  moved the logic around feed fetching into it's own pluggable interface/implementation classes called FeedFetcher and removed if from PlanetManager.  updated unit tests accordingly.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517463 13f79535-47bb-0310-9956-ffa450edef68"
4824f58f1a64be859e427c903ee55f49e8291323,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517874 13f79535-47bb-0310-9956-ffa450edef68"
9847ad34cc81f148cf65a2ef8cbeec3a081bc5a1,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517883 13f79535-47bb-0310-9956-ffa450edef68"
c4c23d0b5f3f0847ce6e9edd2c57a572ee1558f8,"make sure objects in collections have some sort of ordering.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517886 13f79535-47bb-0310-9956-ffa450edef68"
b4364dec0270e8b009da3fab5ef228b9dd52a0a5,"order planets.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@517889 13f79535-47bb-0310-9956-ffa450edef68"
7dfcd6430aaf36440db4545e3462c08473d93059,"Point to new wiki pages for userguide and mailing lists

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@518152 13f79535-47bb-0310-9956-ffa450edef68"
d5cc21bbc27400963ddbbae3335bd69931830b87,"Keep resource servlet from 404'ing sub-directories with names that match locale codes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@518171 13f79535-47bb-0310-9956-ffa450edef68"
4cae9bd87f593a359c5d3dcfc2cb04e0cdf958f2,"Fixing NPE in case of incosistent startup where this.website is null and we were trying to call this.website.getId().

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@518767 13f79535-47bb-0310-9956-ffa450edef68"
695aa306b855edb1eb3368ffd5bf2e685133fa48,"Changed to RollerFactory.getRoller().getVersion() for now to resolve bug.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@518777 13f79535-47bb-0310-9956-ffa450edef68"
5a7221b560136c3822596c2a07d661f1add627ce,"Implemented Feed History proposal (with optional flag, default false)

http://cwiki.apache.org/confluence/display/ROLLER/Proposal_FeedHistory

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@518851 13f79535-47bb-0310-9956-ffa450edef68"
f2010ecd8d3293cf6b1d78b7fccbf62f15bae545,"Implement Atom search feeds for Roller ...

... as described here: http://cwiki.apache.org/confluence/display/ROLLER/Proposal_SearchFeeds

- Added a SearchResultsFeedModel, SearchResultsFeedPager
- Added a new method to getWeblogFeedURL to include a term (query) parameter
- Modified the FeedServlet to redirect to the new weblog-search-atom.vm

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519217 13f79535-47bb-0310-9956-ffa450edef68"
fe34e5a5c6a59dfde6cba3df8a47acfbb52d4945,"Changed escaping from XML to HTML

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519220 13f79535-47bb-0310-9956-ffa450edef68"
6bb0d53ad8a4b07bc5d5acc7ee857faffc41e5bf,"Minor Javadoc wording changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519311 13f79535-47bb-0310-9956-ffa450edef68"
7ffa7b81da6cc281acb4144069e936d32e4c6421,"Minor Javadoc wording changes

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519312 13f79535-47bb-0310-9956-ffa450edef68"
477467e13c296b70f81b8afc5777bd68e2759e15,"Should never have been committed

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519313 13f79535-47bb-0310-9956-ffa450edef68"
4529735e23bf76bb2201a4bd162f706656384d62,"Fix for ROL-1374.  Fix to form cancellation cookie path exactly as acegi does.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519478 13f79535-47bb-0310-9956-ffa450edef68"
3b8ef9786a012e83ab0d800b27879a208bb3a4f7,"Use acegi-security-1.0.3.jar.  Believed to fix ROL-936.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@519480 13f79535-47bb-0310-9956-ffa450edef68"
13be865f7826df781c982d4986846dfba5f0c6f7,"fixing up initialization process for standalone tasks.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520042 13f79535-47bb-0310-9956-ffa450edef68"
a608e94f978179daa36ae723591232ca7016803e,"Fixing XSS vulnerability by stripping HTML from incoming comment fields and escapeing HTMLO when fields are displayed in Roller 2.3, Roller 3.0, Roller 3.1 and trunk

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520056 13f79535-47bb-0310-9956-ffa450edef68"
fcb7a0822da3bf8b37b2f01bbfcf5fb4d1249557,"Better looking template for our docs

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520225 13f79535-47bb-0310-9956-ffa450edef68"
d6036988c25470c7dd227a349e5a48da6ecd6c0a,"Jeff Blattman had the right idea, the dev guide should be a real doc

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520226 13f79535-47bb-0310-9956-ffa450edef68"
57b3be0af0b56c49aa51775ab9b90f74be17c52d,"Added outputContentType property to to WeblogTemplate class and made UI improvements to Template Editor pages

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520228 13f79535-47bb-0310-9956-ffa450edef68"
a12554b643eeb13ab6ec1b52ed3d1360882a09a3,"Only Velocity by default

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520422 13f79535-47bb-0310-9956-ffa450edef68"
3eb9d8058a227390f78ea2e16cbb8d31e5fdd14e,"Bug in parameter oredering

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520486 13f79535-47bb-0310-9956-ffa450edef68"
8489793b841aedd74d960964b12a8c17018482cd,"Minor improvements to error handling

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@520703 13f79535-47bb-0310-9956-ffa450edef68"
c7b934f887bb571bc05ba9905d6eec11126183f1,"Implementing Theme XML Descriptors as detailed here ...

http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Theme+XML+Descriptor

Themes must now provide an xml metadata descriptor which defines all the components of the theme.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521044 13f79535-47bb-0310-9956-ffa450edef68"
646fcbdcc3bb50c9c1444ad90a2c90b83f628fc7,"Renaming Atom Admin Publishing Protocol to Roller Admin Protocol, also added some examples in the sandbox that show how to use the protocol from Groovy.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521490 13f79535-47bb-0310-9956-ffa450edef68"
2567288055ed28b78a53ca38fa9be05775aaf907,"slight re-org in examples. minor progress on devguide

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521547 13f79535-47bb-0310-9956-ffa450edef68"
c7658529e968d7613efaf57d02ca49da5babc18e,"XSS fixes, CHANGES file updates and a convenience script for signing builds

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521562 13f79535-47bb-0310-9956-ffa450edef68"
825f89339c5e252116b3038c6236d8dff17ee84a,"initial support for individual templates by action as described here ...

http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Individual+Templates+by+Action

this commit focuses on the functional aspects of the proposal, the UI elements of the proposal are expected to get further refinement and improvement before being considered final.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521615 13f79535-47bb-0310-9956-ffa450edef68"
9e87733ac773c9c6fc00a4e8999067080f9bcac5,"- Modified feed search path from /feed/search/atom?q= to /feed/entries/atom?q=

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521857 13f79535-47bb-0310-9956-ffa450edef68"
b35f52c4338f906a0b776e0ccdb4013177072d5c,"- Modified feed search path from /feed/search/atom?q= to /feed/entries/atom?q=

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521859 13f79535-47bb-0310-9956-ffa450edef68"
e6d5361475fc81349cb30aa40ea2f1c73e933e57,"Fixed velocity call to URLModel that was failing because of invalid method signature.

I added model.categoryPath

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521867 13f79535-47bb-0310-9956-ffa450edef68"
be3f446a2c486cd0463ecdaaf48509c7c3645706,"Fixed URL creation for paging of feeds because our current URLUtilities.getXXX model doesn't work well with paging.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521877 13f79535-47bb-0310-9956-ffa450edef68"
612af257ad562ace5bce7465bf3737590c6020d6,"move ThemeManager under business.themes package to be better organized.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521924 13f79535-47bb-0310-9956-ffa450edef68"
180d3eb0a54af3141a80bbb014faad1bcb97c395,"pojo wrappers are now static.

the CommentDataWrapper has multiple methods which now have built-in support for html escaping in order to prevent possible XSS vulnerabilities.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521988 13f79535-47bb-0310-9956-ffa450edef68"
dddc754f0c4a5440bc14fe96ebf6f340e0bdc2de,"a little bit of cleanup in RollerContext.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@521990 13f79535-47bb-0310-9956-ffa450edef68"
b759061d9ca523126882bb23fbb86c3d22138f25,"a little cleanup in templates UI for supporting templates by action.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522109 13f79535-47bb-0310-9956-ffa450edef68"
beefed320453e4f9e71bc7daac76a838f1396d95,"more cleanup for RollerContext.  removing method getRollerContext() because there is no need to maintain an instance of RollerContext, all of it's public methods are accessed statically.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522119 13f79535-47bb-0310-9956-ffa450edef68"
a3f380bff548b604037051652fde58c2d1f62c8f,"fixing up a few unnecessary references to RollerContext in jsp files.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522128 13f79535-47bb-0310-9956-ffa450edef68"
bdaf1251a794f008e881f10af437f46c6eb01d52,"adding method getTheme() to WebsiteData pojo to provide a more convenient and consistent way of accessing a weblog's theme.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522129 13f79535-47bb-0310-9956-ffa450edef68"
d321148175a1f6a34a6a43014187787ac714a242,"removing old adminapi directory.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522130 13f79535-47bb-0310-9956-ffa450edef68"
361231c4871ba07e1e5d54caee0e8da6c735902b,"fix for ROL-1381, potential null pointer in RollerRuntimeConfig.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522168 13f79535-47bb-0310-9956-ffa450edef68"
d963c29c78e85a2b0930a11a5fcaf4e9c15a9428,"another fix for RollerContext updates.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522410 13f79535-47bb-0310-9956-ffa450edef68"
df5c94dc16d6304df538b5cfadde1b7a7829ca3a,"add support for tags index template action.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@522638 13f79535-47bb-0310-9956-ffa450edef68"
0e58575bff38643d6605c5f7f15cc27c27dea7dd,"preliminary support for weblog custom stylesheets.  this commit implements just the functional parts of the proposal ...

http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Stylesheet+Overrides+for+Weblogs

the UI controls will be added in subsequent commits.




git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@524859 13f79535-47bb-0310-9956-ffa450edef68"
12e405875d80fcc0247f52811724491d22d40fdb,"updating theme import logic to make more appropriate decisons based on templates by action, and in particular we now delete any templates by action left from previous themes when a new theme is imported.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@524889 13f79535-47bb-0310-9956-ffa450edef68"
88af2d72b02fc68001e88c462f653411bbca7d7a,"For now, use the old Incubator site on roller.apache.org. I updated the readme to explain how to update the site and I removed all the incubator wording. I also followed the procedure, put roller.apache.org in-place and removed the old incubator site.

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@525007 13f79535-47bb-0310-9956-ffa450edef68"
60276d6b3924529394400b5cab192bcb314556b7,"Implemented Proposal: Account activation via email.
A proposal and patch submitted by Sedat Ciftci

http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Account+Activation+via+Email


git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@525301 13f79535-47bb-0310-9956-ffa450edef68"
0ed21ee6a2341816cb69e9ad42fbe12c723decd7,"Some refactoring of the object model regarding Templates, Resources, and Themes.

This commit introduces a more natural OO design with regards to weblog Themes and their relationship to Templates and Resources.  Here is an overview of what these changes are ...

Template (interface) - more abstract version of the old Template interface
ThemeTemplate (interface) - effectively the same as the old Template interface, a Template tied to a Theme

Resource (interface) - a generic interface representing a static resource
ThemeResource (interface) - a Resource tied to a Theme

Theme (interface) - access to the things which compose a weblog theme
WeblogTheme (abstract class) - an instance of a Theme for a given weblog

There are then included a variety of implementation classes and subclasses for these various interfaces.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@525922 13f79535-47bb-0310-9956-ffa450edef68"
4edc2efe55de02c700d3f1463eca55aea9f9bed3,"deleting some old and unused code.



git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@525928 13f79535-47bb-0310-9956-ffa450edef68"
44e9fc6bdc1f22cf3f8c6365c9fd433502dcb003,"Upgrading to XMLRPC 3.0

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526459 13f79535-47bb-0310-9956-ffa450edef68"
809a03a63df131beaf4472369c97913f0b0d0557,"Upgrading to Velocity 1.5

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526460 13f79535-47bb-0310-9956-ffa450edef68"
a2b160c2c79821cbf54b6f9293ce6096a8713fd8,"Some refactorings in APP server

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526461 13f79535-47bb-0310-9956-ffa450edef68"
dce6f450c91287393bce40c624df452a8014a3a5,"Fixes to make UI tests run again (broken since Acegi added?)

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526462 13f79535-47bb-0310-9956-ffa450edef68"
e016002979a05859b88d221237c3b9c04719b28a,"Removing uninecessary jars

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526463 13f79535-47bb-0310-9956-ffa450edef68"
5b7c0f0df94b84e7d6267b25555543998610ba52,"Making Roller work with latest Roller-Planet code

git-svn-id: https://svn.apache.org/repos/asf/incubator/roller/trunk@526464 13f79535-47bb-0310-9956-ffa450edef68"
756f4f95f4d60c6fa383c91ac6a29ec4d097b614,"Moving Roller trunk to TLP

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@526746 13f79535-47bb-0310-9956-ffa450edef68"
4b79e0047ea6bc2dd8e4ae45c8984a34ae3f256b,"Having Ant 1.6.2 in the test path causes problems with Ant 1.7

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@526829 13f79535-47bb-0310-9956-ffa450edef68"
a45a30295e0ae4f3e1881b7f9bb4ee2c77caf667,"Roller-Planet tasks now working in Roller-Weblogger again

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@526991 13f79535-47bb-0310-9956-ffa450edef68"
30be51be292bb6ec12191a28d821724d0e0834fd,"The PlanetManager.getEntries() method for a single group should allow for a start and end date as well.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528068 13f79535-47bb-0310-9956-ffa450edef68"
e1d077f12bf1ace2c05b9db9d32f43a23532c2d4,"add test query for entries constrained by group and timeframe.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528072 13f79535-47bb-0310-9956-ffa450edef68"
50864839058b9b13a39c3713cf7d6d9b7b6efc95,"entries pager only applies to a single group.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528073 13f79535-47bb-0310-9956-ffa450edef68"
33844a97ac86cf38e7c4ec62523eea58b331f85e,"unused directory.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528074 13f79535-47bb-0310-9956-ffa450edef68"
329cbc023d512dc7d3e019060e851464ffe4aef7,"final fix up for planet manager getEntries() method by group.  basically i am reverting the changes from revision 526464 which allowed a list of groups to be passed in and reverting back to the code from revision 517463.  the code from revision 526464 was introduced to support a legacy way that the Roller Weblogger code was using the planet functionality, but we are going to fix that in a different way instead.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528078 13f79535-47bb-0310-9956-ffa450edef68"
4527bbb3cb88d337250fcc353a6de41663641414,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528219 13f79535-47bb-0310-9956-ffa450edef68"
d6f587ad38e11686420c0ebb9ab22eacf2fa677c,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528226 13f79535-47bb-0310-9956-ffa450edef68"
5cd05f063263e213d8143ee0240c4a0e137ad2c8,"Fixing up Weblogger and Planet integration some more.  This commit ...

1. updated roller-planet-business.jar used by Weblogger app.

2. cleans up the sql scripts a bit more to include the latest tables from the Planet project.

3. fixes up the initialization process to better handle Planet initialization when Weblogger is starting up.

4. makes some changes for upgrading users to conform to the way the Planet codebase works.  The old planet code allowed for querying a list of entries based on the union of multiple groups, but there is really no reason for that and so it's not allowed in the current Planet code.  In specific, Weblogger used to maintain 2 groups ('all' and 'external') and query for their entries together, but instead those 2 groups have been merged as part of the 4.0 upgrade process now.




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528288 13f79535-47bb-0310-9956-ffa450edef68"
9a01ae7b40f857c91ad14054c31fe667d7789c5f,"a couple files that were missed from the previous commit.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@528289 13f79535-47bb-0310-9956-ffa450edef68"
39c2d9fb59fa33aab1870b23bd9ca01bf3dbf23e,"missing parameter for weblog category was causing feeds by category to not work properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529318 13f79535-47bb-0310-9956-ffa450edef68"
3d786893daa4ec96c94570cf743b3295f980889a,"- Removing namespaces from APP service doc elements
- Fixing resource collections

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529497 13f79535-47bb-0310-9956-ffa450edef68"
eea69339a3ada32e7ba2dc6b531ef849b6b6e040,"source level is now 1.5 in Roller 4.0



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529725 13f79535-47bb-0310-9956-ffa450edef68"
15e26defbaded29780963a696e104cfb43e95fa1,"fixing issue with xml element positioning in web.xml as reported by Matthew Montgomery.  this issue was affecting deployments on Sun Appserver 9 and possibly other containers.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529727 13f79535-47bb-0310-9956-ffa450edef68"
a837ff6b79151bf0b52919a98090a7ff429c63c6,"adding tiles2 jars to the struts2 libs and including struts2 jars in Roller build process now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529729 13f79535-47bb-0310-9956-ffa450edef68"
10463ba7dc081b194eab51608e87d8a6874104b8,"First workings of a migration from Struts1 -> Struts2.  This commit lays down a decent amount of the ground work for a struts migration and provides new struts2 versions for the 5 ""core"" actions.

Some things to note:
  * this commit does not modify or disable any of the traditional Struts1 code, it simply adds new struts2 code which can work side by side with struts1.
  * this is a preliminary commit and there are some known bugs which will be fixed in due time.  the bugs are mostly superficial, so functionality should still work fine.




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529793 13f79535-47bb-0310-9956-ffa450edef68"
968267217dd30214f9f39a65d85453e894354911,"Correct content-type for Service Doc

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529859 13f79535-47bb-0310-9956-ffa450edef68"
df6aed65cdda8898bcd89a3bf7dbb8720fd9204a,"Updating to mention new content-type field in page/template editor

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@529861 13f79535-47bb-0310-9956-ffa450edef68"
6b109250f8a486596e5ed600d8800381aa7e1d38,"If there is a problem loading a theme xml descriptor then throw an exception and so that the broken theme doesn't remain in the theme list.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530088 13f79535-47bb-0310-9956-ffa450edef68"
9737f487bd885b3b9ff2aa39c6e4be0dc191e6f5,"remove unused title.jsp from tiles.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530197 13f79535-47bb-0310-9956-ffa450edef68"
b65b9f0bf30688fc421647a1252697e351ff9077,"fixing up some little things from the struts2 migration.

1. the list of available locales and timeZones is now available in a format that ensures things are sorted properly for display.

2. added a new method to UIAction to allow access to static & runtime properties via simple getProp() methods.

3. replaced all scriplet style calls to access config data in jsps with s:property calls using getProp('key').




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530199 13f79535-47bb-0310-9956-ffa450edef68"
acac0a8d0c4fe9d1280b89f7df78a78563e43da9,"fix up the final few issues with sruts2 core actions.

1. fixed handling for preview image and weblog url preview on create weblog form.

2. made user name field uneditable on profile update form.




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530542 13f79535-47bb-0310-9956-ffa450edef68"
376e140673cc901965548348111e066b112a524e,"only show referrers page in editor menu if referrers are enabled.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530919 13f79535-47bb-0310-9956-ffa450edef68"
8d1b29931002ea7896836e5b5a33fd1920c244d9,"fixing themes to not refer to pre-3.0 model variable $entry and instead to use the 3.0 supported variable $model.weblogEntry



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@530938 13f79535-47bb-0310-9956-ffa450edef68"
5ef9a1853455dbc78cd77aed80c3e996505254f6,"Switching to Number for SQL sum() results, it's safer than Integer

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@531060 13f79535-47bb-0310-9956-ffa450edef68"
83583f82b08f6bc5e6f2ffe7c1470cf944aa0b3a,"Don't need 1.5 check for 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@531172 13f79535-47bb-0310-9956-ffa450edef68"
d65389b7738416745b222f0abf74eef979e9ab26,"Some Ant installs don't have junit plugin

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@531173 13f79535-47bb-0310-9956-ffa450edef68"
5fcf16eee94e9acc935921c74a64fa3dd24b070e,"I18N fix

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@531174 13f79535-47bb-0310-9956-ffa450edef68"
19ab3a4196f848a094e4a547ec2ee488d84af58a,"rag_config is no longer one of our tables.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@532142 13f79535-47bb-0310-9956-ffa450edef68"
ed9331305955a89495db7095ef131a0e280772c5,"we want to use the WEBLOG parameter for specifying the action weblog, not WEBLOG_ID.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@532143 13f79535-47bb-0310-9956-ffa450edef68"
2e9e8a192538286f9ab434bbf1ec7054e0894e3e,"fixing small bug in struts2 footer.jsp



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@532152 13f79535-47bb-0310-9956-ffa450edef68"
153a17b0de75e8edae18a668581bf10a7b0fa5d2,"a little cleanup in register form.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533427 13f79535-47bb-0310-9956-ffa450edef68"
714e9517edcfe5e2704c3e67dc216adb75b177ef,"some cleanup in register form bean.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533428 13f79535-47bb-0310-9956-ffa450edef68"
110f55f385de4fc647df6064193933d4d7e90be8,"a couple new utilites for struts2 support.

1. New code for supporting the tabbed menu rendering which is no longer a custom jsp tag using velocity.  The new code provides a few classes which deal with parsing the menu configs from xml, a few classes which are used to model a menu for use in rendering on the UI, a helper class for building a menu based on the current action/user/weblog combo, and a new tiles jsp used to render the menu.

2. A new interface and struts2 interceptor to support a Roller specific version of struts2's Preparable interface.  The UIActionPreparable interface works the same way except that instead of being executed early in the interceptor chain like the struts2 Preparable interface does, the UIActionPreparable interceptor is the very last in the chain which allows Roller actions to use data loaded by previous interceptors like the UIActionInterceptor.

3. Support for both the new menu code and new myPrepare() method are added to the UIAction class so that actions get built-in support and default implementations which they can override if they want to.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533433 13f79535-47bb-0310-9956-ffa450edef68"
dbd90850e6c95a21bd257098e4f02fa1e761f5a5,"site description should be a textarea, not a textfield.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533434 13f79535-47bb-0310-9956-ffa450edef68"
13841576c58d3ba48bc7b2fbfc43c02323d5b853,"struts2 versions for some authoring and admin actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533435 13f79535-47bb-0310-9956-ffa450edef68"
6a0c0850d0338885f07624cacc74c9fe7cbac405,"when copying web resources, include by default and only exclude certain files like .java files.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533436 13f79535-47bb-0310-9956-ffa450edef68"
e3bcf5c0e15cedd1725d5a1409130b12e3317056,"adding LIST as a built-in and reusable action result option and make sure that ""editor"" is the default required role.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533825 13f79535-47bb-0310-9956-ffa450edef68"
4378ae6af23edf73d194d9fd48787b9ed9e04630,"struts2 versions of ping target controls, both common and custom.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@533830 13f79535-47bb-0310-9956-ffa450edef68"
d86387fffabbe95257fe485181b47797c6288ff7,"Example page model

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534500 13f79535-47bb-0310-9956-ffa450edef68"
85ddfd46339fde310a9a4176e0c71f70760dfc7d,"a little clean up on struts2 tiles head.jsp and adding new head-ajax.jsp for view pages which are going to make use of ajax support from struts2.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534538 13f79535-47bb-0310-9956-ffa450edef68"
723dc47b7e49a1b037d746cdc3c8c58742dbf1b1,"reformatting so that things look nice and pretty ;)



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534540 13f79535-47bb-0310-9956-ffa450edef68"
2acf536d2b7c2bf79857b56cd0102868b901511c,"adding support for errors and messages that pass in a list of arguments.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534543 13f79535-47bb-0310-9956-ffa450edef68"
75a2434d4ef7cc83a475dbd6bef23697692e7c23,"a simple key/value object that can be used for building lists meant to be displayed on the UI.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534544 13f79535-47bb-0310-9956-ffa450edef68"
8bc16dfe711439342911a04df037f1c13fef5dee,"struts2 versions of weblog settings, weblog removal, and maintenance pages.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534545 13f79535-47bb-0310-9956-ffa450edef68"
3396df5418181618e58fd8f5de0bea7e806f6534,"leave support for jakarta string utils taglib.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534546 13f79535-47bb-0310-9956-ffa450edef68"
b763c02e88e53ecb1e996f62e081c2425e5ad796,"start using a static web.xml config file rather than relying on xdoclet to generate one for us.  

also, don't build database scripts with every single build, instead we can just build them when needed using the gen-dbscripts target.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534558 13f79535-47bb-0310-9956-ffa450edef68"
98db9fe1b4a6a95b617d2003c55d2aeffcbfa55f,"Not generating dbscripts from the stage-web target broke the Hudson build, so now we generate them conditionally -- stage-web will create them only if they do not exist. The gen-dbscripts target is unchanged; it will always generate them.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534891 13f79535-47bb-0310-9956-ffa450edef68"
33b61f9340f6bfeb0001cb8dfa810f85a0f6dbe0,"Fixing compile warning

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534895 13f79535-47bb-0310-9956-ffa450edef68"
6ee0652a9c6cefb93d5a3176157d687d880a8581,"code reformatting and tidy up.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@534952 13f79535-47bb-0310-9956-ffa450edef68"
c023720f7f42c370e54c0833fcc26db97de9afc3,"adding licensing headers.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535032 13f79535-47bb-0310-9956-ffa450edef68"
49a63a7c5523243593ccc338b724e8776d896a55,"struts2 versions of the pings, member permissions, and members invite actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535036 13f79535-47bb-0310-9956-ffa450edef68"
e8bf43a0d7a1cae365e2af4ab91b40e207dcebc7,"update to UIAction to have an actual attribute for 'weblog' which defines the handle of the action weblog we are working on.  this allows us to rely on the framework to actually set this attribute on our action directly rather than having us pull it directly from the request object in the UIActionInterceptor, which is important for supporting parameters on multipart form submissions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535940 13f79535-47bb-0310-9956-ffa450edef68"
0da1c4c9a901a3fd9cfff6249e59d1e27f7100b0,"pulling method updatePathTree(folder) out of bookmark manager impl and putting it in the FolderData pojo where it can be appropriately reused, and adding a new updateName() method to FolderData pojo which handles all the path updates which happen when you change a folder name.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535942 13f79535-47bb-0310-9956-ffa450edef68"
23f2b2bd487262537f5bfea83b4cb59f2ec2ee65,"more struts2 migration work.

- Template managment actions updated to remove ajax stuff 'cuz we aren't really ready for that yet.

- Uploaded Resources action migrated.

- Bookmarks management actions migrated.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535947 13f79535-47bb-0310-9956-ffa450edef68"
c246c4a03d2c233e3ba1da2550e3d6ccad7519a6,"struts2 requires a recent version of commons-fileupload and commons-io to work properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535948 13f79535-47bb-0310-9956-ffa450edef68"
b859509eb3d56c0b216779496910a5af0d4036c4,"Committing patch for issue ROL-1136 submitted by Matthew Montgomery which adds support for a new screen name attribute in user profiles and makes that the preferred display field for profiles.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535951 13f79535-47bb-0310-9956-ffa450edef68"
4244b4fb92bec56670245f8a04acf804ca6e95ae,"Cleaning up no longer used sandbox components

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535978 13f79535-47bb-0310-9956-ffa450edef68"
8d310fcc1c10f842c0c58529d0ebdabc928d752b,"needed a page title.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535984 13f79535-47bb-0310-9956-ffa450edef68"
8c5bf39832b5099794b82fb2478549613ac9266f,"fixing linking to properly use namespaces.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535985 13f79535-47bb-0310-9956-ffa450edef68"
3ef686ed49b13d15dd11e349605fe050341fc93d,"fixing problem where action chaining was broken by struts2.  struts2 is complaining about the fact that we set an error message and then chained, so until there is a better option we are just going to set a message instead.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535986 13f79535-47bb-0310-9956-ffa450edef68"
08cd3eb63e5ae96c397ecb6fe821807155c6e329,"set url field length to 70 so that it doesn't cause weird wrapping.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@535988 13f79535-47bb-0310-9956-ffa450edef68"
3deae325ea731f1e648c20ffeaa4db3a2da8a0b8,"removing some unneeded javascript.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@536014 13f79535-47bb-0310-9956-ffa450edef68"
41732c86813672039a0f906a6f9a4610fe27a2f5,"fixing subtitle.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@536015 13f79535-47bb-0310-9956-ffa450edef68"
fea06263412c1a151f5d1aa61ac9a3e06b977f29,"moving updatePathTree() method to WeblogCategoryData and adding updateName() method just as we did with folders.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@536016 13f79535-47bb-0310-9956-ffa450edef68"
7b95c4d8478917175accd82d2db715dde17167cc,"struts2 migration for categories actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@536017 13f79535-47bb-0310-9956-ffa450edef68"
c54cd82f74ffac8215d0af61e2041fddb53e5e5e,"New Japanese translation by: Yuichi Takahashi

Ph.D. Student
Fondation of Computer Science Laboratory
Department of Imfomation Systems
Graduate School of Computer Science and Engeenering
The University of Aizu, Fukushima, Japan

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@536923 13f79535-47bb-0310-9956-ffa450edef68"
6432f2ecdb255d4c4b9542c4a9a3c53be102d218,"struts2 version of global comment managment page.  there are still some bugs in these new struts2 versions which will be fixed in a subsequent revision.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@537232 13f79535-47bb-0310-9956-ffa450edef68"
561bf6957cf937547666003a587c5425f1037fe5,"Fix more instances of casts to Integer or Long directly from HQL queries; use Number.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@537687 13f79535-47bb-0310-9956-ffa450edef68"
571b8bb2b8052d2aa769355cc6f7f9fb58a09f8b,"Putting DB scripts back in original location, at least for now. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538161 13f79535-47bb-0310-9956-ffa450edef68"
c5a7b1375bb23f0e5158ec6c69b82553bcf71808,"Updated path, targets for single class and test debug

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538162 13f79535-47bb-0310-9956-ffa450edef68"
e7425790a70f859bd6c9cfe03b6d0fc5c4d58a6c,"Ignore private dir

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538163 13f79535-47bb-0310-9956-ffa450edef68"
181ed667536217928fbe1e5faff7f7466d0ddad4,"Added a clean target

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538164 13f79535-47bb-0310-9956-ffa450edef68"
4544b08e73ea8397f67a1bf40911bcfa8eb2856c,"Now that we are doing our own web.xml file, we can remove these longer needed XDoclet merge files. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538167 13f79535-47bb-0310-9956-ffa450edef68"
70f154199fb7032b22f0652d695bd90b9ead229b,"Screenname is now required

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538177 13f79535-47bb-0310-9956-ffa450edef68"
a3f70bb6fca06b96409ad8552eba9de21cf90174,"fixing array index exception if query results in 0 comments.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538327 13f79535-47bb-0310-9956-ffa450edef68"
d22160863f56e92e9ecfe3e95e140fd1d73d40a0,"Utility code for dealing with external mediacast resources attached to entries.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538329 13f79535-47bb-0310-9956-ffa450edef68"
6dfdcd715549ab54c01238d6d8b40b5afff634e5,"adding our scriptaculous libs and autocomplete scripts to ajax header so that they can be put in the head section of the document.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538330 13f79535-47bb-0310-9956-ffa450edef68"
eb6915aab15c6c414b68af85f906fbfd91f029f1,"support any object type, not just strings.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538331 13f79535-47bb-0310-9956-ffa450edef68"
d9e55b30a7cc6d24245cb830da208bcacda87a0d,"add standard result for access denied page and a few more common lists used for dropdowns in the UI.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538332 13f79535-47bb-0310-9956-ffa450edef68"
91fc3e49ac9158b62f564665a70466cb13688964,"struts2 versions of entryAdd, entryEdit, entryRemove, and weblog comment managment.

NOTE: this commit does not include the struts2 versions of the entry editor jsps which are needed to make the entry actions work, those could not be committed because they would break the existing struts1 functionality.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538336 13f79535-47bb-0310-9956-ffa450edef68"
38ad7ce373b5cb8e257fb391371ed64bbc2880eb,"struts2 version of entry management action.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538381 13f79535-47bb-0310-9956-ffa450edef68"
acf0ac9b41e7bb44995daec018c6c3e5ff730e07,"Collections returned by backend are not writeable

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538395 13f79535-47bb-0310-9956-ffa450edef68"
fc41b9b611352b5fa5fafa0ed6ae69f25bc1da41,"Roller test data creation script

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538586 13f79535-47bb-0310-9956-ffa450edef68"
6cbbdd6c52d4f027bb51c5dfb0b8d843ecdbee86,"Added TODO: assumes database is Derby

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538589 13f79535-47bb-0310-9956-ffa450edef68"
0e56dae08637304e15e6b9df87e5550c10cd2dcf,"Fixing broken pager, never showed next link

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538620 13f79535-47bb-0310-9956-ffa450edef68"
3e104c1532f82a8c45de5ae6ed5c15e073667102,"struts2 version of referrers action.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538637 13f79535-47bb-0310-9956-ffa450edef68"
5ced726b867fc68e967b4f3bde2b0f16dbf294ee,"adding method for sending user activation email to MailUtil class.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538649 13f79535-47bb-0310-9956-ffa450edef68"
600a05ce50157fbe48f59d1dc30cb89b644410cd,"add convenience method to check if the currently logged in user is an admin.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538654 13f79535-47bb-0310-9956-ffa450edef68"
6d29037517b38fc57fe7151c4d6d6ddb89e47e81,"a quick pass at struts2 cleanup work on core ui actions.

1. renamed a few classes to provide shorter and more concise names.

2. removed some unnecessary code.

3. moved code for sending activation email from Register action to MailUtil.

4. a bit of cleanup on some of the jsps to fix formatting or other little bugs.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538658 13f79535-47bb-0310-9956-ffa450edef68"
8a9f9fcf0665a9c812e95f91b2713c40bf5cb7cd,"tidy up menu code a bit and add support for the 'disabledProperty' element which is used by the pings code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538668 13f79535-47bb-0310-9956-ffa450edef68"
d5d86fff18a75ea2f9bc04ad87cc9c7c9c9bf85c,"need to copy username manually because our bean.copyTo() method does not.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@538682 13f79535-47bb-0310-9956-ffa450edef68"
8681d4c39b6d273845b57c48f58b24cbd2bb0cc2,"fix for full preview on entry edit page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539039 13f79535-47bb-0310-9956-ffa450edef68"
26f06e0a58e4246534e0da7a94739448ca037a18,"fix category remove page title.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539040 13f79535-47bb-0310-9956-ffa450edef68"
b92073d8a0dc92a4cf8fa4754f225bcb1ebc706e,"adding a new struts2 action for the setup page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539041 13f79535-47bb-0310-9956-ffa450edef68"
19d1fda6b591d368ab464c57b41c8479ab253929,"fix for number formatting on resources page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539043 13f79535-47bb-0310-9956-ffa450edef68"
4d54b0f59f8e689d69b3af1c5852fb5ae3746944,"struts2 is now officially used for the Roller UI.  This commit changes all the normal entry points into the UI so that they now point to struts2 urls.

additionally this commit replaces the existing text and xinha editors with struts2 versions since we couldn't copy those jsps to new locations.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539068 13f79535-47bb-0310-9956-ffa450edef68"
90743478d2785abedce0cd8fbe3e035690fe5715,"fix URLModel methods which were forming links to struts1 urls so they now point to struts2 urls.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539134 13f79535-47bb-0310-9956-ffa450edef68"
b8879155f050816e33db04ef677dbf621e7d1447,"fix up theme editor jsp.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539150 13f79535-47bb-0310-9956-ffa450edef68"
0bbbbcee061c841ad9563f79ca69057d275c41c1,"upgrading struts2 libs from 2.0.5 to 2.0.6 which fixes a couple problems happening on the resources page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539544 13f79535-47bb-0310-9956-ffa450edef68"
650bfe4a8e5d4be780e4bbc00111741998cef6ca,"error pages for struts2.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539576 13f79535-47bb-0310-9956-ffa450edef68"
a10e334dcc5fac41d067a26f6a1ede7fceb8a385,"Use Commons Codec for Base64, not Sun internal classes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539581 13f79535-47bb-0310-9956-ffa450edef68"
fe9697cfa18b33582ced17c545feca81b365cd02,"Oops, we missed this comment field when we added XSS preventing escapeing

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539584 13f79535-47bb-0310-9956-ffa450edef68"
92684e3a5a3c06726e8fd9ccda3dba9549335307,"rename WeblogConfigForm to WeblogConfigBean.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539593 13f79535-47bb-0310-9956-ffa450edef68"
c4e0bd60bc9cb0cac0de385f736901b91ecba462,"Comment fields no longer need escaping; that's done by the wrapper

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539595 13f79535-47bb-0310-9956-ffa450edef68"
a45cccd679acc89dff629c651afafd073a1f422e,"cleanup some broken pieces of the template editing actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539633 13f79535-47bb-0310-9956-ffa450edef68"
1567c9c087b6f84a5e5535bdfe4124002a1cb987,"support for 'icon' and 'about' attributes of a weblog.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539635 13f79535-47bb-0310-9956-ffa450edef68"
3de6b3f0174a9494fb9f8003b52e6c4c117884de,"need new database columns for icon and about fields.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539636 13f79535-47bb-0310-9956-ffa450edef68"
5fa1aa8497b04bbed9f3e47fd041c3cd66ee22a7,"Fixing broken build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539670 13f79535-47bb-0310-9956-ffa450edef68"
33ab47cd00f93084435d29bcf0772036278fdb4f,"Added Struts 2.0.6 and removed a bunch of old dependencies

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539671 13f79535-47bb-0310-9956-ffa450edef68"
c6ff94eed99837c20ec00d75bb09b31671ba22d7,"Added missing website.about and website.icon fields

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539679 13f79535-47bb-0310-9956-ffa450edef68"
c66f7fb560758cfe66110266901cddc73e4236c8,"Correcting comments for new website.about and website.icon fields

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@539778 13f79535-47bb-0310-9956-ffa450edef68"
2faec50adaaaca516f2ecc727507f48ead126ee9,"struts2 validation for a number of actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540205 13f79535-47bb-0310-9956-ffa450edef68"
03626eac86732f08d8745fcf2900371790ddeaee,"fixing menu with correct name for templateEdit action.
 


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540207 13f79535-47bb-0310-9956-ffa450edef68"
d4d025a8df14207db08eee4c5d49c5103449a5ea,"Current JMeter test script I'm using to test Hibernate vs. OpenJPA

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540334 13f79535-47bb-0310-9956-ffa450edef68"
16a077609c933ff8f1c71ed6b23ad245bf480eca,"more validation improvements, this time cleaning up validation on core actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540354 13f79535-47bb-0310-9956-ffa450edef68"
79c20d828420bc169ec8ec96bf8beb37010e56e7,"Removing unnecessary reference to InitialContext

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540611 13f79535-47bb-0310-9956-ffa450edef68"
e9dc585a3f01afbdd40fbfee63359a8a3c287c08,"fixing broken forwarding link.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540633 13f79535-47bb-0310-9956-ffa450edef68"
24c4a977ec03797043da9e7175073b0edcdd8de3,"new stylesheet editor page and adding new menu tab for 'design' which holds pages relevant to weblog design.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540634 13f79535-47bb-0310-9956-ffa450edef68"
be6f8bb8ab47e7649d962c22f749aabf3817980f,"make basic theme support a custom stylesheet.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540636 13f79535-47bb-0310-9956-ffa450edef68"
95a39b16e16ef62c930b1cf8ac3cfd8a86888a91,"fix validation on weblog config.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540637 13f79535-47bb-0310-9956-ffa450edef68"
b6cadf54a1bdce1cb0bf09b0c0f2d3771557984d,"some changes to theme selection page.  a work in progress :/



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540639 13f79535-47bb-0310-9956-ffa450edef68"
97ecf90a0a0bbccc443ba36d8c1781f6b3c737e1,"reorganizing the new struts2 code a bit so it has a nicer structure in our packaging.  this is the first batch of updates.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540645 13f79535-47bb-0310-9956-ffa450edef68"
7f466cb6967d5cf137b0507891b122d6135049cc,"second batch of struts2 reorg work, this finalizes the move of all the struts2 code into it's own package.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540652 13f79535-47bb-0310-9956-ffa450edef68"
f20a326c81fff4fa46836b1f5ba5682e93c34aa1,"Point to Struts2 main menu, and apache.roller.org instead of rollerweblogger.org

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540662 13f79535-47bb-0310-9956-ffa450edef68"
b8c862a050bb9eb430ab3ee580114ce5b5d8a056,"Checking in web config files, no longer generating them with XDoclet

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540664 13f79535-47bb-0310-9956-ffa450edef68"
cf21e078e8656e55a165a3276a1b495cd81bbf34,"remove unneeded use of struts RequestUtils.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540671 13f79535-47bb-0310-9956-ffa450edef68"
f39259fa9122e6301719e0a89592c0fdd44fd443,"removing unneeded use of struts RequestUtils class.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540673 13f79535-47bb-0310-9956-ffa450edef68"
238467fd34a42ff2440da60fd8ec0143c2ebcf86,"Correct location and ready to be deleted ;-)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540675 13f79535-47bb-0310-9956-ffa450edef68"
1aa85ec4b4e66d58961cd8f6514ed3bc1fddc252,"Ensure dbscripts are generated on 'rebuild'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540677 13f79535-47bb-0310-9956-ffa450edef68"
67ca6ce4476c641e6ec7419f0e727c8732513019,"DatabaseProvider for JNDI and JDBC properties based config

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540679 13f79535-47bb-0310-9956-ffa450edef68"
766ed2613d9bbd1a90f4e7facce62788c4c12c96,"EOLing of struts1 support ...

* ripped out all struts1 actions & formbeans
* ripped out all struts1 jsps
* ripped out all struts1 configs
* ripped out struts char encoding filter
* ripped out request filter
* ripped out lots of code/config generation stuff (formbeans, struts config, struts validator)
* modified calendar tag to use a simple resource bundle instead of relying on struts1

this commit does *most* of the work to remove struts1 from Roller, but not all of the work.  there are still a variety of places in the code which rely on struts1 in some form or another and need to be cleaned up.  the biggest items being some of the custom jsp tags which can't be removed because they are used by the weblog rendering code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540708 13f79535-47bb-0310-9956-ffa450edef68"
636e6226a34f4f8403f8bf6ae659322028f0a797,"just some reformatting to make things look pretty.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540713 13f79535-47bb-0310-9956-ffa450edef68"
708c041544cbf4ad569fa232e1a1abfa4bcafaf7,"Use new database confg property names

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540719 13f79535-47bb-0310-9956-ffa450edef68"
02afa5832bb43110f6464f88870550f0b98cf0f9,"final bit of cleanup on build & stage targets.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540722 13f79535-47bb-0310-9956-ffa450edef68"
f95cb37255b2abd67214fc63f700e0d7aada3283,"a bit of reorg for struts2 jsps now that we no longer need extra struts2 subdirectory.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540742 13f79535-47bb-0310-9956-ffa450edef68"
c6dc8f7d01955010ceaa29ce991a85f5919dc961,"something seems to have gotten out of wack with the previous revision and some files were deleted when they were supposed to be moved.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@540792 13f79535-47bb-0310-9956-ffa450edef68"
32111b45fbf238079c76e55fb824b4a2e07b2955,"fix null pointer in ui action interceptor caused when accessing a UIAction when not logged in.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541003 13f79535-47bb-0310-9956-ffa450edef68"
f7a8e66821c5d268a8771a3d2c1fb97364646608,"initial fix for ROL-1337 and ROL-1413 which aim to improve and consistify the i18n situation in Roller.  this commit attempts to simplify and unify the strategy for dealing with i18n message strings primarily in places used for weblog rendering.

The main changes here include ...

1. changing the static MessageUtilites class into an instantiable I18nMessages class which is tied to a specific locale.

2. updating places in the code which used to use the old MessageUtilities class to make use of the new I18nMessages class and do so using the most appropriate locale possible.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541035 13f79535-47bb-0310-9956-ffa450edef68"
6e34b02cbaec1c55ce5239e3c455ed7598e18e8d,"Roller's own Acegi user details service, enables Acegi authentication to work regardless of how Roller's database provider is configured. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541089 13f79535-47bb-0310-9956-ffa450edef68"
d89779acd35b7e1028df408b1a8ce2f071a25c8f,"We're using DatabaseProvider everywhere now.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541090 13f79535-47bb-0310-9956-ffa450edef68"
06c60aec98e1d864cee59a947537db554a1b3d7a,"new convenience method for weblog template pojo for checking if a template is considered custom.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541127 13f79535-47bb-0310-9956-ffa450edef68"
ee25d611e5179527e0a4f974432fe40ee47752f4,"adding some better validation for template editor and a few other little fixes.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541128 13f79535-47bb-0310-9956-ffa450edef68"
cced550b8e47bffe4d8cd3bb1c709c222dfe09d5,"adding in 3 more jsps which somehow seem to have gone missing a previous commit.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541130 13f79535-47bb-0310-9956-ffa450edef68"
70ea62990cca73bba193c184f0a59843d6e77f66,"fixing problem where list was not prepopulated on page load due to form field focusing issue.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541131 13f79535-47bb-0310-9956-ffa450edef68"
61211721e0ad6c2a81e1ea0f3930619705c8be74,"provide a fix for a formatting issue that was occuring when using the s:radio and s:checkboxlist struts2 tags.  both of those tags render their outputted items without providing a way to add a line break between each item, so they were always rendered in a horizontal list.

the fix here is to create a custom struts2 theme for roller which overrides the way those 2 tags work and add a <br/> at the end of each printed item.  this custom theme can be used only on the specific uses of that tag which need them, so the default functionality is still available.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541135 13f79535-47bb-0310-9956-ffa450edef68"
ffb0ee4eeccc24a8ce14ed56242ad46d12e5c306,"further pruning of old struts1 code.  removing some old roller custom tags which are no longer used.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541136 13f79535-47bb-0310-9956-ffa450edef68"
d0baeb98caf3791bce9f7e4906057277acacaf81,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541137 13f79535-47bb-0310-9956-ffa450edef68"
8cf1539bd68e4c7f921c001f1481cc6d05add07c,"move ajax servlets under struts2 package to identify that they are used as part
of the struts2 ui.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541139 13f79535-47bb-0310-9956-ffa450edef68"
63a0cbda6a0ec55f6b2e5b5d60c5bc72edc86f72,"Having two copies of planet.properties and hibernate.cfg.xml in Planet was driving me bonkers, so now the build-test target creates a testcontext with WEB-INF/classes and such. Also, Planet now uses DatabaseProvider to allow properties based config, just like Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541328 13f79535-47bb-0310-9956-ffa450edef68"
c5bd0efd6b7c6835031fcbb44781d126ff8a1ba2,"Planet now uses DatabaseProvider properties based config just like Roller does

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541329 13f79535-47bb-0310-9956-ffa450edef68"
6c4a3f07916cc6ef39ef1ecf4dcb48fadccac44a,"We're all on 1.5 now, no?

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541330 13f79535-47bb-0310-9956-ffa450edef68"
493768cd96a2532692dca43dd9a0bc2c67f09bb9,"Planet and Roller using DatabaseProvider approach now still not an ideal situation with the way we're sharing HibernatePersistenceStrategy

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541344 13f79535-47bb-0310-9956-ffa450edef68"
708dc818c207f88a5ccd3fce6b118b8721cfcb7b,"""""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541345 13f79535-47bb-0310-9956-ffa450edef68"
43ae0df0fe8c3ef8ead45293eab24f9c41391c76,"New JPA backend merge: new ""core"" component with shared DB code

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541450 13f79535-47bb-0310-9956-ffa450edef68"
fcd734260aa1fc523c533a47e0ee7805996d45d6,"New JPA backend merge: changes to tests. Probably should have been commited to trunk long ago. All should be safe: they simply ensure that 1) tests work against managed objects only and 2) relationships are maintained on both sides.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541452 13f79535-47bb-0310-9956-ffa450edef68"
2bece9ab36a3792bca22727c4081553c7d8111b7,"New JPA backend merge: changes to ensure that relationships are maintained on both sides.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541454 13f79535-47bb-0310-9956-ffa450edef68"
d4aba30b935ab2a722c6d57e1fdec4290c075941,"New JPA backend merge: change to ensure that read-only collection returned by backend is not modified

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541456 13f79535-47bb-0310-9956-ffa450edef68"
10709bd5078f527089a1e9dd3a9ac06dfef6fdcd,"New JPA backend merge: remainer of JPA changes/additions

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541458 13f79535-47bb-0310-9956-ffa450edef68"
70ff2358264f5caa7aa8d36428341b21ae06b535,"we don't want build & dist dirs in svn.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541498 13f79535-47bb-0310-9956-ffa450edef68"
66298df1eb4967dd861b6824e0163d36ce84eea8,"need openjpa jars.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541499 13f79535-47bb-0310-9956-ffa450edef68"
5c2134b10c33e0db21b7a725c3fa1cdb0dae60de,"need jpa jars to build core component.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541500 13f79535-47bb-0310-9956-ffa450edef68"
3fde6cf9768ed934b713c95da2eb684d4aa5e96c,"need persistence.xml file



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541710 13f79535-47bb-0310-9956-ffa450edef68"
1c4f31dcf95eed14f5a67bb02322fa17f7a75508,"don't need velocity log in svn.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541711 13f79535-47bb-0310-9956-ffa450edef68"
b70c206e5456cdb813039321eea6223b43789d95,"oops, PlanetConfig used in JPARollerImpl?



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541734 13f79535-47bb-0310-9956-ffa450edef68"
2524f5b6f5b8a8748978b76267c45b69dce72da5,"fix the way the entry remove button works, it's now functioning like a link instead of posting unnecessary data to the entry removal action.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541741 13f79535-47bb-0310-9956-ffa450edef68"
c5d80cd99b9180d4cf258560973f695468b4e6f8,"cleanup and improve the theme selector page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541742 13f79535-47bb-0310-9956-ffa450edef68"
42df385ee54e5ae9e683e5ac71659373ced76766,"reformatting.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541796 13f79535-47bb-0310-9956-ffa450edef68"
b84c9d0fde138c929e6cb81f0f5efe48ecdeb361,"updating ThreadManagerImpl to make use of new jdk 1.5 java.util.concurrent code and replace old use of Timer for task scheduling.

NOTE: there is some uncertainty about thow the executeInForeground() method is supposed to work, so that method may need a different implementation.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541799 13f79535-47bb-0310-9956-ffa450edef68"
1fd87a124f989e97a2409b391ddf72d7b1114327,"cleaning things up a little bit trying to fix bug in unregisterLease() method.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541800 13f79535-47bb-0310-9956-ffa450edef68"
1a43cb87f348829ea47b70a2b4b9657888833c7c,"fix for ROL-1182, first field in form is now in focus on page load.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541806 13f79535-47bb-0310-9956-ffa450edef68"
f0d68f9e7cf6eab06eb2108873aa7a49ea1c06a0,"applying patch for ROL-1386 submitted by Matthew Montgomery which fixes the blacklist pattern matching so that it uses blacklist terms as a boundary match, case insensitive regular expression rather than using the simple indexOf() strategy which has been leading to lots of false positives when you aren't careful.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@541815 13f79535-47bb-0310-9956-ffa450edef68"
e03aca8427b41efd8d58143cf4e84fa45178e165,"some cleanup work on trackback processing to fix ROL-1350.

This commit creates a general utility class for representing trackbacks, triggering a trackback request over http, and retrieving good response messaging.  We move the trackback sending logic out of the WeblogManager interface because there is really no reason why trackbacks need to be part of the WeblogManager because it doesn't require any persistence.  The new trackback implementation makes use of the commons httpclient to help with the trackback sending.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542348 13f79535-47bb-0310-9956-ffa450edef68"
1d67770faac343b523fbf53487abecf49d9e33a0,"MailProvider class described in Easy Install proposal:
http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Easy+Install

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542610 13f79535-47bb-0310-9956-ffa450edef68"
b3fd76bca2922525786cf3bacc7120b588d935dd,"Changes to RollerContext described in Easy Install proposal:
http://cwiki.apache.org/confluence/display/ROLLER/Proposal+Easy+Install

* Change contextInitialized() so that it initializes only the UI portions of Roller
** Move RollerImpl initialization into RollerImpl classes
* Change contextInitialized() so that it does not throw exceptions
** So context will load regardless of Roller configuration


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542611 13f79535-47bb-0310-9956-ffa450edef68"
4d5f2e0c59b52c4c7b32faa0198aca472a9316b7,"Latest project files, with core component and single-file debugging targets

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542612 13f79535-47bb-0310-9956-ffa450edef68"
7ae7ce6300e9dde33fe6303d0fa233c88c5e8728,"planet code should continue to use planet HibernatePersistenceStrategy for now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542623 13f79535-47bb-0310-9956-ffa450edef68"
84570255258e3b783512d48f7dc5f3e4e098101f,"First batch of pojo renaming work.  This commit includes ...

WebsiteData -> Weblog
PermissionsData -> WeblogPermission
FolderData -> WeblogBookmarkFolder
BookmarkData -> WeblogBookmark
RoleData -> UserRole



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542656 13f79535-47bb-0310-9956-ffa450edef68"
a91f44f6903061f01fcb1d66305adb6586b3ea64,"second batch of pojo renaming work.  this commit includes ...

HitCountData -> WeblogHitCount
RefererData -> WeblogReferrer
EntryAttributeData -> WeblogEntryAttribute
CommentData -> WeblogEntryComment



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542669 13f79535-47bb-0310-9956-ffa450edef68"
9bcac8b5f4e988313d08d69a7fcc1d6eb66c825b,"third batch of pojo renaming work.  this commit includes ...

UserData -> User
WeblogEntryData -> WeblogEntry
WeblogCategoryData -> WeblogCategory
WeblogEntryTagData -> WeblogEntryTag
WeblogEntryTagAggregateData -> WeblogEntryTagAggregate



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542688 13f79535-47bb-0310-9956-ffa450edef68"
989fe44a872e6efc137948d0683befcafe13b6e5,"fourth batch of pojo renaming work.  this commit includes ...

AutoPingData -> AutoPing
PingQueueEntryData -> PingQueueEntry
PingTargetData -> PingTarget
RollerPropertyData -> RuntimeConfigProperty
TaskLockData -> TaskLock



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542694 13f79535-47bb-0310-9956-ffa450edef68"
91f3c03d1d184d1f68bd583739f0f6276805cbfb,"some final bits of pojo cleanup work, removing unused pojo classes which were created at some point but never actually used.  we can easily recreate them if/when they are actually going to be used.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542700 13f79535-47bb-0310-9956-ffa450edef68"
2c07023d42f3c8899a1eafc2197b70572e1d2e64,"make HibernatePlanetImpl constructor public which is about to be needed by the updated weblogger src when it's moved into the roller.weblogger package.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542721 13f79535-47bb-0310-9956-ffa450edef68"
975d183eba221708cd6856a7f4a9f5fa93c51b34,"putting all Roller Weblogger code under the org.apache.roller.weblogger java package.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542723 13f79535-47bb-0310-9956-ffa450edef68"
b930d0bcd50db1bf6c07b825333cd4bdce71dce2,"creating Roller Weblogger application space under apps/weblogger and moving existing project files to new application space.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542739 13f79535-47bb-0310-9956-ffa450edef68"
0b1fc4af436ac935213bff02a17bba3c45febf8c,"reverting a couple changes which made it into the last commit on accident.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542741 13f79535-47bb-0310-9956-ffa450edef68"
cfd1d8b8073d8c7605b54459c13b21ba1bf49c35,"netbeans project file.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542742 13f79535-47bb-0310-9956-ffa450edef68"
ad2ec9b372f17bc3d50e36d57aebae27b6f65302,"Correct source paths for Roller, Planet and Core

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542748 13f79535-47bb-0310-9956-ffa450edef68"
3e75094fe0a66bcc8446068c55f867d97222155b,"dev mode options should default to false.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542865 13f79535-47bb-0310-9956-ffa450edef68"
70d2a88b319159769b94a0febec25eee8b9dae17,"a little bit of reorg on Weblogger bootstrap process which was causing some issues.  this commit introduces a new bootstrap() method to the RollerFactory class which contains the handful of specialized initialization steps done by some of the Weblogger backend managers.  this method is then called from the RollerContext contextInitialized() method at app init time.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542883 13f79535-47bb-0310-9956-ffa450edef68"
06d06683a3949264475e397975eb360136c2f0cf,"default impl for testing is JPA now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542884 13f79535-47bb-0310-9956-ffa450edef68"
b0bf828c14bf4f3ce4a9934e7ecad3010bb67b8f,"needs to construct a HibernateRollerPlanetImpl when calling instantiate().



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542887 13f79535-47bb-0310-9956-ffa450edef68"
d85e6a403bf97d510f90e2302808d1051c20bb5a,"instance name is JPARollerPlanetImpl and it's now in the roller.weblogger package.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542888 13f79535-47bb-0310-9956-ffa450edef68"
d013980f8f05fcf050939451e485e141dce1a51d,"Relative paths to jars, changed project name to roller_weblogger_trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542889 13f79535-47bb-0310-9956-ffa450edef68"
1df2900b07076ae0a780ce3d9b1c1149cc410d2c,"ignore build and dist dirs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542896 13f79535-47bb-0310-9956-ffa450edef68"
65a2ca9491b96538f24cff31cb2ca9f44ed3a3a0,"Use same jars for all source

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542905 13f79535-47bb-0310-9956-ffa450edef68"
aeb5da418c7b47ad66427cb8cb3549637d906191,"fixing scheme enforcment settings to work properly with struts2 urls.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542946 13f79535-47bb-0310-9956-ffa450edef68"
77286fdbaf4a2556ec44327aed57a3817c52f50f,"remove newline at end of file which causes an illegal state exception when dispatching to page servlet.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542947 13f79535-47bb-0310-9956-ffa450edef68"
36f47a67a2eac810bed08013d9db6afb08e77132,"remove use of old struts1 dependency.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542965 13f79535-47bb-0310-9956-ffa450edef68"
f550f3cec95de9d433141c5a48281627605d7151,"remove use of old struts1 dependency.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@542967 13f79535-47bb-0310-9956-ffa450edef68"
8b0fa0f00ba6e748f4d794b6b11f44ac41379793,"Sign-release script belongs with weblogger

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543135 13f79535-47bb-0310-9956-ffa450edef68"
c91deced6f84e3e45f6708e63c129d64b6ae7325,"Removing unnecessary build scripts, but we probably need to tell people to up their Ant memory to 512m or more.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543136 13f79535-47bb-0310-9956-ffa450edef68"
d6783ab80955f46875968ca09e58ee56117f228e,"Ignore build and dist dirs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543137 13f79535-47bb-0310-9956-ffa450edef68"
a39ebcb1db8f51798df4cbca4e6b20d867cbd6ca,"Adding top-level build script to be used by build/test servers that wish to do project-wide rebuild and test.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543138 13f79535-47bb-0310-9956-ffa450edef68"
58dae3b2d7e3fab2209147b63ac00bbbbee8fdcc,"Oops, need all target before apache-release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543191 13f79535-47bb-0310-9956-ffa450edef68"
ecdcccfbfb3c8d2ae88cc78aa637e31615179afb,"cleaning up the way cancel buttons work.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543318 13f79535-47bb-0310-9956-ffa450edef68"
77f3d11ddbf8e548a652205c55658bee4b1405a6,"fixing logout and weblog config urls.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543319 13f79535-47bb-0310-9956-ffa450edef68"
878de78952c3301e46aa05ae38ee98f413f222fa,"adding struts2 versions of weblogger planet actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543322 13f79535-47bb-0310-9956-ffa450edef68"
f6cc0be05ad5e57519b900d2d4d5703c719577f0,"shortening size of search string textfield so that it's less likely to wrap to the next line and look ugly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543323 13f79535-47bb-0310-9956-ffa450edef68"
528108cf0a292d53fc09be9df26516fe1fceb8d5,"fixing bug where the link for ""modify custom stylesheet"" was present on the shared theme optioner of theme selector page when the user was currently using a custom theme.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543328 13f79535-47bb-0310-9956-ffa450edef68"
bc36f511d27794ee7a22eb22e6a86a52f4e1b421,"fixing up templates sidebar add template form so things aren't so cramped.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543331 13f79535-47bb-0310-9956-ffa450edef68"
003a66a5e0b3608a98b31c376b7e1e698f2afe5b,"fixing up ugly looking link to add ping target.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543336 13f79535-47bb-0310-9956-ffa450edef68"
d0975a79cf609e10d54eeaef6dbe6da2b555a4cb,"preview images are png, not jpg.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543345 13f79535-47bb-0310-9956-ffa450edef68"
276722ebeef8bf2deeb9355c7f6a34fc86937290,"serve theme preview images directly out of our themes rather than the old hacky way of having to put the preview images in a specific folder in the webapp.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543346 13f79535-47bb-0310-9956-ffa450edef68"
a0875e1031726b10c8783726bd90279ce595528d,"reorder fields to be consistent with register and profile pages.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543348 13f79535-47bb-0310-9956-ffa450edef68"
0e9a69430459c43f5f2fa4d03d6a879bcc3831dd,"use uneditable form fields instead of ugly old plain red text.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543350 13f79535-47bb-0310-9956-ffa450edef68"
dc46e479a6c5f7053d49e9e1da250eccef49d20c,"admin actions for creating and editing users need screen name as well.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543352 13f79535-47bb-0310-9956-ffa450edef68"
da3d72eb7e33b81916c273f61a1e1dbb5ba064cf,"Should fix the duplicate meta-data warnings mentioned in ROL-1436, we had the same persistence.xml file in two jars.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543355 13f79535-47bb-0310-9956-ffa450edef68"
54f84503dd053697f1f3ccf75f8dcd9184c9619d,"create user bean needs to have properties for screen name for it to be editable :/



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543356 13f79535-47bb-0310-9956-ffa450edef68"
020484a72bc0419c70991b7aad77bfb66a2c0005,"fixing temporary hacks of themeEdit.jsp which had hard coded strings in it, now everything is migrated back to the resource bundles again.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543357 13f79535-47bb-0310-9956-ffa450edef68"
803a0adef945077f709a183bd2c52cb4b9ab033e,"update textfield sizes to 40 so they aren't strange looking and are easier to use.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543358 13f79535-47bb-0310-9956-ffa450edef68"
a25b4b7e42b422fcf8a9759034d4a1aeaf95843c,"fix for ROL-1424 where the members and membersInvite actions were making changes to weblog permissions and the changes weren't being reflected on the page until after a refresh.  it turns out that the problem was that we are not properly ensuring that both sides of the weblog -> permissions relationship was being managed.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543386 13f79535-47bb-0310-9956-ffa450edef68"
93f0c83c457f6e713c27a4c0a3d56c8190a9bca6,"fix for ROL-1425.  the category selector on the entries sidebar needs an option for ""Any"" at the top of the list.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543393 13f79535-47bb-0310-9956-ffa450edef68"
573f5028876624ebbae8210936f1169c28f37e7a,"i guess ""weblogCreate"" meant create a weblog entry, not create a full weblog.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543567 13f79535-47bb-0310-9956-ffa450edef68"
6613639681e0abe892ef3123987effd2ec3cf27f,"fixing small bug where status value was not properly being set when editing an entry, so you couldn't change the status of the entry.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543570 13f79535-47bb-0310-9956-ffa450edef68"
37d935b6c3630410569ca67f4e9e33cc285f446b,"more work to fix ROL-1422 which wasn't quite fixed all the way.  this is still an issue that i don't understand, but it's a bug with the struts2 code and sadly we don't have much control over it.  this mailing list thread details the issue the best i've seen and links a forum posting where someone else shows their solution, which is to add the ActionContextCleanUp filter ...

http://www.mail-archive.com/user@struts.apache.org/msg55135.html




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543608 13f79535-47bb-0310-9956-ffa450edef68"
8abc4144a48df3804effba90ecc013fddf0840c2,"fix preview url on entry edit page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543610 13f79535-47bb-0310-9956-ffa450edef68"
91dd11368c71d8eb273f589706cd9d21605470ff,"removing templateAdd action and moving its method into the templates action.  this is basically needed because we can't do proper validation in templateAdd because the way it works is to always dispatch to the templates action for display.  however, struts2 validation works by simply detecting action errors, even if they were set on a different action, and thus the action chain gets messed up when the templateAdd action would report any errors.  this approach is the easiest solution.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543612 13f79535-47bb-0310-9956-ffa450edef68"
3794d75c498264b593b4ba88d368f15930ba6b1a,"strange, i guess the struts2 message text handler does something special with brackets in key strings so in this case it was causing a null pointer exception.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543631 13f79535-47bb-0310-9956-ffa450edef68"
5d9fadb849038ebabbcd0d08019b8da4c265fe1a,"oops, weblog comment management was showing global comment managment subtitle and tip.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543636 13f79535-47bb-0310-9956-ffa450edef68"
086582bdbe96c8d58e26f418a911ceb991ce9d36,"we don't need a hidden field for userName anymore.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543640 13f79535-47bb-0310-9956-ffa450edef68"
01f257e2b4edc1c59a35756b8d1519a7eba6b6a4,"userName should no longer be shown publicly, so we'll just return screen name in the wrapper instead.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543645 13f79535-47bb-0310-9956-ffa450edef68"
573a8b4121a18fcb153b58f79ec2ad6a4ec5ad62,"show screen name instead of full name in feeds.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543646 13f79535-47bb-0310-9956-ffa450edef68"
60d0744560d4e79061c2d8701fb70dc43151adec,"fixing up feed rendering.  seems that a number of things were broken when the feed history stuff was added in.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543672 13f79535-47bb-0310-9956-ffa450edef68"
745e6a110512051004c139bb2242da0611341d03,"a bunch of cleanup work on pojo wrappers.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543760 13f79535-47bb-0310-9956-ffa450edef68"
9694c56bb6c91f899c15e9f7f42af658ef70d95f,"bye, bye old menu tag code :)

this commit removes all of the old velocity menu tag code and replaces it by using the new menu code.  the old use of the menu tag in weblog rendering has been replaced with 2 new methods in the MenuModel and some updated macro definitions.

NOTE: this commit removes the use of 3 methods from the weblog rendering velocity context, 1) MenuModel.showAuthorMenu(), 2) OldPageHelper.showMenu(), and 3) OldPageHelper.showEditorNavBar().  technically this could be a concern for backwards compatability, but we can pretty reasonably expect that these methods were only called from Roller macro calls which still function properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543855 13f79535-47bb-0310-9956-ffa450edef68"
d170861263cb333791645f37859a4c094bda1824,"remove old HybridTag class now that it's no longer needed.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543857 13f79535-47bb-0310-9956-ffa450edef68"
431f895a11e020786f5c2629ec00ff82a299f309,"remove old RequestConstants class, which is no longer used.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543859 13f79535-47bb-0310-9956-ffa450edef68"
307ec80075d60b445c69ca768c29dfae73c36f8d,"RollerException lives in Core now.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543886 13f79535-47bb-0310-9956-ffa450edef68"
36b217eb5e5ac415b9241587b3001568a25e3b76,"Project file for core

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543889 13f79535-47bb-0310-9956-ffa450edef68"
9602b2ae62619d778ef5a965151fbed4db06c33a,"RollerPermissionsException isn't even used, deleting it.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543943 13f79535-47bb-0310-9956-ffa450edef68"
c9441512af65497fec4ec1ea309c7ec77d6f105c,"create a base exception class for the Weblogger application which extends RollerException.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543945 13f79535-47bb-0310-9956-ffa450edef68"
703066fea025e7b5e4123dd7e798f8f9c522fca8,"weblogger code should throw application specific WebloggerExceptions rather than generic RollerExceptions.  in order to accomplish this we need the hibernate and jpa PersistenceStrategy classes to be application specific.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543951 13f79535-47bb-0310-9956-ffa450edef68"
0bb014b52bec5a697b556049e2456345ec6ca87d,"need to add JPAPersistenceStrategy to weblogger code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543952 13f79535-47bb-0310-9956-ffa450edef68"
e1891804cf05691298fb0ab787b87559788e1da2,"planet code should throw application specific PlanetException and not a generic RollerException.  in order to do this we need the hibernate and jpa PersistenceStrategy classes to be application specific.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543966 13f79535-47bb-0310-9956-ffa450edef68"
aecd1dceaebbf0f9400a4118eb09e46f40a19fa1,"updating Roller Core and removing hibernate and jpa persistence strategy classes and updating roller-core.jar and roller-planet-business.jar used by weblogger.  this also required a couple tweaks to the weblogger code to support the changes in planet with throwing PlanetExceptions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543967 13f79535-47bb-0310-9956-ffa450edef68"
92b57c56f31ad43fc9240f7116a18cd57bc6348b,"removing unused directory.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543969 13f79535-47bb-0310-9956-ffa450edef68"
74e570c36a877cdd3aa2c5ef766363525ac7e8c7,"no need for all those jars in core build classpath.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@543971 13f79535-47bb-0310-9956-ffa450edef68"
53491ed6f08cce057ea220d2bfe48f136f148fb3,"modify getActionURL() method so that it can receive a map of extra parameters to use for building the url.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544001 13f79535-47bb-0310-9956-ffa450edef68"
d381647c0bb4d42cd24634319f023a0b7276292a,"planet integration happens in the weblogger web layer, not business layer.  we want to keep the planet integration code out of the weblogger business layer.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544002 13f79535-47bb-0310-9956-ffa450edef68"
e53020cb67ddc945e1a024f6d99303459e192dc3,"move mail sending code to MailUtil class.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544003 13f79535-47bb-0310-9956-ffa450edef68"
afffe2a001ebdf94d5a412f3713d2665ac74a752,"upgrade junit to 4.1 so that we can start using annotations :)



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544011 13f79535-47bb-0310-9956-ffa450edef68"
4a1b4b15821b4b29af0702c27ab299d4ac775e1e,"fixing up planet code.  it seems that when the jpa code was merged in our id generation strategy switched to manually generating UUIDs but the hibernate backend was not properly updated for this change.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544016 13f79535-47bb-0310-9956-ffa450edef68"
ce22952ab561b237b596d89b04a4699ab61ad193,"we can no longer use the same planet group uniqueness test via the saveGroup() method now that we are using generated ids because the group id is never null.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544027 13f79535-47bb-0310-9956-ffa450edef68"
72e81bda3537f190e3679c88c4a03e727111027a,"some finishing touches tidying up weblogger planet actions.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544028 13f79535-47bb-0310-9956-ffa450edef68"
0dd26d4867af3e96d30a455e692a2da7e9be9ac6,"need to flush changes that happen during bootstrapping, in specific any new properties added by PropertiesManager.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544242 13f79535-47bb-0310-9956-ffa450edef68"
cb51c67f7813a431b962830fddfaa42c9e5be19e,"fix for ROL-1423 which adds paging controls to the struts2 comment management actions (global & weblog).  these had gone missing during the struts2 migration.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544270 13f79535-47bb-0310-9956-ffa450edef68"
979ce87067d17bacd1c638511523f2a79943c8c3,"don't set id to null, pojo id values are automatically given uuids at construction time and we need them to save the objects.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544276 13f79535-47bb-0310-9956-ffa450edef68"
6e49641f3757ebd5255ff728ee9e4fc0e1e53bc8,"fix for small quirk with using the struts2 checkboxlist tag on comment management pages.  the struts2 checkboxlist tags forces us to have an html label element even if we don't want one, so on the comment managment pages we use some custom css to hide those labels.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544320 13f79535-47bb-0310-9956-ffa450edef68"
c66e492f97568ef412a13af78f8b6e0ef27beb40,"fix bug in file resources action where resource url links were not pointing to the real resources.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544322 13f79535-47bb-0310-9956-ffa450edef68"
0b9cc12fce247a245a7ab4684b1c572284268af0,"paging count should be 30, not 2.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544326 13f79535-47bb-0310-9956-ffa450edef68"
158cde148ea8b56310c9c7d91ec87b4f8a59130d,"adding back paging controls on entry management action which went missing during struts2 migration.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544327 13f79535-47bb-0310-9956-ffa450edef68"
7f6f331e843b94fb9d379b8ad88e2db496e86b63,"flushing out error message keys in resource bundle.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544333 13f79535-47bb-0310-9956-ffa450edef68"
cea9584978c79860290b8763ca3d512f5731e08d,"fix up messages display so that field errors and action errors are formatted the same way.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544336 13f79535-47bb-0310-9956-ffa450edef68"
87c6aafa29dfc5fc4d74b2b1f80b931a71eb65ab,"renaming pojo wrappers to match new pojo names.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544550 13f79535-47bb-0310-9956-ffa450edef68"
94e0a01d34fdd803560711211c28e62348747880,"fixing up imports which were broken and including one of the old pojo wrapper names.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544582 13f79535-47bb-0310-9956-ffa450edef68"
14cb055619498755b84c2c1322593a3fdcdd383a,"remove old custom date picker tag and that allows us to remove our custom tld file now because we don't really have any custom tags used by jsps anymore.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544584 13f79535-47bb-0310-9956-ffa450edef68"
7bd75ce0e71506efeb5118c94234c63dcc9e71f6,"removing unused directory.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544592 13f79535-47bb-0310-9956-ffa450edef68"
c6ba87f5e2943dded3110356a93336f5fc115b32,"reverting to use of old calendar widget instead of struts2 datetimepicker.

the struts2 datetimepicker has a number of bugs in struts 2.0.6 and they are not going to be fixed unti struts 2.1 which has an undetermined release date.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544614 13f79535-47bb-0310-9956-ffa450edef68"
dc1e82532474e06b1319a8be3bd8f4fcb5293ff8,"fixing up UI head includes.  we no longer need overlib, only the ajax-head needs the calendar stuff, and we don't need the struts2 s:head anymore.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544615 13f79535-47bb-0310-9956-ffa450edef68"
861b63db453a72042a42e34f2d4590adcacf4b4f,"cleaning up some unused javascript.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544631 13f79535-47bb-0310-9956-ffa450edef68"
ca5a94ba17e92217965cbc82fe5e69162e0f45b0,"add the protoype.js file as part of the normal ui html head and update a bunch of our javascript to use prototype to lookup DOM elements by id rather than doing it ourselves.  this is meant to ensure proper cross browser support.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544632 13f79535-47bb-0310-9956-ffa450edef68"
4f7dba214eed796a9e09371b80c3c2a77e4aa795,"some final cleanup on error pages.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544661 13f79535-47bb-0310-9956-ffa450edef68"
c552088af9eb091a7907ee240cab869baa32d095,"weblog comment management action needs to support restricting view to only comments from a single entry.  also fixing comment notification email so that it sends out the right url to the comment managment action to view comments just from the commented entry.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544664 13f79535-47bb-0310-9956-ffa450edef68"
d7ce53a8af8c38a4424f7d7d2781a410a18e58a2,"removing more old and no longer used code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544665 13f79535-47bb-0310-9956-ffa450edef68"
711a1d72a67e6aaefc09aa7ac4f7c8135fb3af85,"code reformatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544667 13f79535-47bb-0310-9956-ffa450edef68"
55d082da2aa772956d5c6e32c6df3e9e95fed10d,"fix some browser compatability issues with theme selector.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544720 13f79535-47bb-0310-9956-ffa450edef68"
525295b9307b71f00dd4504f5db48f39b901a748,"redirect support for old struts1 urls which need to be maintained for backwards compatability.  this commit includes redirects for the old yourWebsites.do url which is distributed in emails regarding member invitations, and it includes redirects for the old commentManagement.do url which is distributed in emails regarding comment notifications.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544876 13f79535-47bb-0310-9956-ffa450edef68"
7cc40ac80403de566b8bc20d529ee9928bd373c5,"oops, previous commit was supposed to get updated mappings in web.xml, not changest to test config.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544901 13f79535-47bb-0310-9956-ffa450edef68"
ac4f4e930abfd765e0ad1aae6d985cd9d3ba12ac,"fix up theme chooser so that when a user is doing a custom theme for the first time they are forced to copy templates from an existing theme as a starting point.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544902 13f79535-47bb-0310-9956-ffa450edef68"
42239a5066a30fb648f6a94fe57848951e9a9172,"provide a more appropriate and visible notification to users when registrations are disabled or when their weblog theme does not support a custom stylesheet.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544916 13f79535-47bb-0310-9956-ffa450edef68"
7f577ae6435602e0e724e4268738eeb6c04072b2,"brushed metal and sotto themes should support custom stylesheets.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544922 13f79535-47bb-0310-9956-ffa450edef68"
7213a2c7185b527ef2f7c5889a1f1200e6cb640c,"fix bug where stylesheet editor shows warning about no custom stylesheet available when the stylesheet action is being accessed for the first time on a given theme.  the bug was that the custom stylesheet template needs to be created at that point but wasn't being properly set so that it's available for the action execute() method.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544927 13f79535-47bb-0310-9956-ffa450edef68"
7e25e1fdf4fbc1689311782e45fd21ea618873cd,"themes need a link to custom stylesheet for it to work.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544928 13f79535-47bb-0310-9956-ffa450edef68"
e98d551c004be68e132d57061961656e9088a527,"make it so that the current custom stylesheet template doesn't show up in templates list.  this is to prevent confusion for users by seeing the template show up automatically and have the same contents as the stylesheet override template.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544976 13f79535-47bb-0310-9956-ffa450edef68"
17c2c5fada9a6df35f3f880457c80bae78208c4a,"improve theme descriptor parsing validation a little bit.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@544984 13f79535-47bb-0310-9956-ffa450edef68"
b8880555660ec2de3db8f7cda64d1470c72b75ec,"fixing up link to entry permalink on entryEdit page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545258 13f79535-47bb-0310-9956-ffa450edef68"
53a042779ff13ec89492a08590a03a3bc4b6d0fb,"more updates to theme editor to fix a couple bugs and improve the usability and verbage a bit.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545328 13f79535-47bb-0310-9956-ffa450edef68"
e280838eeb80a09577d4ca24ffafd9bb97ef64b6,"a slight bit of code cleanup.

- moved the core.util byte array response caching stuff directly into the CompressionFilter since that is the only thing using it.

- moved the UIUtils class into the ui.struts2.util package since it's really only used to support the struts2 ui.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545344 13f79535-47bb-0310-9956-ffa450edef68"
5d151c6ac21e4b6074e84213643bdacaf9fa78aa,"Upgrading Ant to 1.7.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545377 13f79535-47bb-0310-9956-ffa450edef68"
e6e3a70ff5894218cb9d31612f489e7d2471d371,"Oops. Didn't mean to delete this one quite yet.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545382 13f79535-47bb-0310-9956-ffa450edef68"
65a6888d017a85a7b7116583845e5e64eceb8d56,"JPA is the default backend now

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545400 13f79535-47bb-0310-9956-ffa450edef68"
58269a098f42c75063b6fc8321c06671c6fa33f6,"moving weblog entry plugins into a new business.plugins package which is more appropriate than their current location.  hopefully this will be the last time we move the plugins :/



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545557 13f79535-47bb-0310-9956-ffa450edef68"
0825ca0ddf34ccccb2702903030405860f5a8b6d,"move roller.properties and runtime config defs xml file into the src tree so that they are packaged with the business jar file.  these config files are required for the business jar to function and are not intended to be hand edited by users deploying the webapp so it is more fitting that they be packaged directly in the jar file as part of the business layer.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545562 13f79535-47bb-0310-9956-ffa450edef68"
5bd911ac473d22b37990aa71358f4ecf1383afcb,"fixing javascript bug which was causing the select all/none buttons on comment management pages to not work properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545577 13f79535-47bb-0310-9956-ffa450edef68"
6eaeb2e4ca68af4202823b810b6f65930c76b5eb,"custom stylesheet path should not be part of weblog config bean because it cannot be changed via the weblog config.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545665 13f79535-47bb-0310-9956-ffa450edef68"
0502c867f5990eda78adbb76a16d59f4284df372,"the proper way for getting templates for a weblog is through it's theme, the weblog getPageBy methods are going to be EOLed.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545666 13f79535-47bb-0310-9956-ffa450edef68"
19861b94a51fd71295679cf237e373f1b0e528ea,"the proper way to get templates is through the weblog theme, not the weblog getPageBy methods.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545667 13f79535-47bb-0310-9956-ffa450edef68"
e92eeee36a7756a86366a398be5ca1a79149ca3e,"refining theme stylesheet integration.

1. stylesheets are now a first class citizen of themes such that all themes provide a getStylesheet() method which returns the stylesheet for the theme if it is available.

2. stylesheets are treated a little better in our theme.xml descriptor files.  stylesheets are no longer just a simple path but are actually a template with a little special consideration.

3. there is no longer a need for different theme stylesheet and a stylesheet override, they are now just the same thing which makes things easier on users and theme developers.

4. the stylesheet editor in the UI can now start by copying the stylesheet from the theme, giving users a starting point for their css edits and eliminating the need for css styling overrides which is more confusing and error prone due to the way css inheritance works.

5. eliminated the old weblog.getPageByXXX() methods since those have been replaced with the getTheme().getTemplateByXXX() methods.

6. updated built-in themes to take advantage of these changes which simplifies the theme styling, eliminates the old _css template, and makes css customization easier.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@545682 13f79535-47bb-0310-9956-ffa450edef68"
1dcc6668677e98ec6c2e85ccb6a4dcc0d6e176d8,"fix for ROL-1445, an NPE caused when a theme doesn't have a stylesheet defined.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@546191 13f79535-47bb-0310-9956-ffa450edef68"
69aa87385c5763f468cc4b55a4655f476b61b294,"fixing NPE thrown when roller session is null.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@546305 13f79535-47bb-0310-9956-ffa450edef68"
566982c7963a0673fb863b3b8667e01ec111d574,"a small line of debugging to help prevent some hair pulling.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547056 13f79535-47bb-0310-9956-ffa450edef68"
9773d57e696c648a6881587bd1e9f581261d3d90,"updating theme previews so that they are a little bit bigger and easier to see.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547063 13f79535-47bb-0310-9956-ffa450edef68"
397221dee387fd1c723c4ea4dcbe81fd60222c89,"fixing a bug in the upgrade process where we set the default template for weblogs with the action='weblog' attribute.  we actually can't do this by simply applying the 'weblog' action to templates named Weblog because some older versions of Roller allowed people to modify the name of their Weblog template, so instead we need to rely on the weblog.defaultPageId property.  to do this in a database independent fashion now requires putting the code in the UpgradeDatabase code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547310 13f79535-47bb-0310-9956-ffa450edef68"
197ee298b8f2b73c82135b50a0374d8a107a4da1,"some fixes for MailProvider, most notably that the jndi propery name is mail.jndi.name and not mail.jndiName.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547332 13f79535-47bb-0310-9956-ffa450edef68"
d1c444c9e3bcb26ec56693d01edf42ff345c47ce,"one more fix for mail provider.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547338 13f79535-47bb-0310-9956-ffa450edef68"
284d327493c77e644e2805a4a546b04aaced21ba,"for planet groups we only want to display feeds are are not local to the roller instance in order to keep the subscriptions list minimized.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547372 13f79535-47bb-0310-9956-ffa450edef68"
d0e20cb99cf7ba138852b1886e115ce90a316672,"email activation for new accounts should default to off.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547423 13f79535-47bb-0310-9956-ffa450edef68"
008df1a89069a5682860a954c9862dc2ae61c4e2,"don't log a whole exception just for a missing resource bundle key.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547424 13f79535-47bb-0310-9956-ffa450edef68"
1781fea441dd5a55b86646362f765c015de08db5,"need to keep old css files around for backwards compatibility.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547507 13f79535-47bb-0310-9956-ffa450edef68"
81bea9ee892ba673f813c1fbb2791dc1f0da2599,"fixing bug in pubtime conversion for blogs not in the jvm's default timezone.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547517 13f79535-47bb-0310-9956-ffa450edef68"
414257c1e5cb5a7e59a70e8f11c33d2aab128a36,"status line on scheduled entries should indicate so.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547540 13f79535-47bb-0310-9956-ffa450edef68"
a0b8ff93114a99c8f5aeeccdf005d761ae0f51b5,"a couple fixes for metaweblog api.  it appears that the new xmlrpc versions doesn't provide the categories in a Vector, they are now in an array of strings.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547722 13f79535-47bb-0310-9956-ffa450edef68"
b74564c4cb0ca3a84f0c0a7afb181e7fdea4089a,"fix for bug using the xinha editor.  we need to properly trim the output from xinha before it gets submitted because it contains some ugly characters otherwise.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547745 13f79535-47bb-0310-9956-ffa450edef68"
03223f8ed8f3cbac12f742fd2ef4e11d629df922,"fix null pointer caused when someone tries to use the url model to get a resource url without passing in a value.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547785 13f79535-47bb-0310-9956-ffa450edef68"
fae840c046aa4b8559a2cad19b6dfbfa91e7a803,"set some appropriate logging settings for struts2, including a line to keep the overly verbose FileUploadInterceptor from talking so much.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547810 13f79535-47bb-0310-9956-ffa450edef68"
d3addce6601d1a2013547bbdfb7078f4f330be18,"task name was changed to RefreshRollerPlanetTask.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547812 13f79535-47bb-0310-9956-ffa450edef68"
b454b33b58111ed27cf36338b69006c6e3bd426a,"OpenJPA doesn't want you to modify collections returned by ORM

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547920 13f79535-47bb-0310-9956-ffa450edef68"
6df36120d318eecef0b7d47794f5d39ac3ec169f,"Turn down JPA logging a little during tests

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547921 13f79535-47bb-0310-9956-ffa450edef68"
0a19a05f92c6100c710887323b155d8326c83ccd,"Script won't run on MySQL 5 with 'condition' keyword

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547922 13f79535-47bb-0310-9956-ffa450edef68"
73e92009f5a74e0325f9493733a22f7098825e86,"Removing drop of two indexes that were not created by any version of createdb.sql

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547923 13f79535-47bb-0310-9956-ffa450edef68"
a8c873a1646c4caf2d2e567d194bacc4dba08842,"Roller EZ install implementation, still does routing logic in a filter -- next I'll move that to a Struts action and establish some page flow.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547924 13f79535-47bb-0310-9956-ffa450edef68"
8f0c13358cd550903f7c805a832683f09f3e1339,"Name of NB project is roller_weblogger

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@547929 13f79535-47bb-0310-9956-ffa450edef68"
95f2fced27d1c1c7752aba04d63cd81efd7bb35a,"Couple of JPA bugs found during deployment to rollerweblogger.org

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548360 13f79535-47bb-0310-9956-ffa450edef68"
f6bcecfbffea61434b1a940f36d16731c125d683,"fixing a few broken links in user admin profile edit page.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548410 13f79535-47bb-0310-9956-ffa450edef68"
717a40eb9843046622700650a90bfe544f23fec8,"code formatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548499 13f79535-47bb-0310-9956-ffa450edef68"
b1b813441d5c6c603882679f92779d88f95078ea,"fixing bug in multi-language support where the weblog 'show all languages' option is being ignored.  now each servlet checks if the request should be constrained to a specific local and enforces that.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548500 13f79535-47bb-0310-9956-ffa450edef68"
51a09f4d120b274252488e3ad33770993dedca6d,"handle IllegalArgumentExceptions coming from calls to request.getDateHeader().  we don't really want to throw these exceptions back to the webserver and have them end up as 500 responses when we can handle them ourselves.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548502 13f79535-47bb-0310-9956-ffa450edef68"
2c5829ced8113934adf22f0b02576e8929260afe,"removing a buch of unused imports.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548522 13f79535-47bb-0310-9956-ffa450edef68"
bf201e0041b6ef4e2fb324fed3c9609a44bdc921,"Moving comment authenticator and validators into their own package

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548542 13f79535-47bb-0310-9956-ffa450edef68"
c496792a2c510e54dde840e28a433565196462d6,"Oops, wasn't ready to commit that yet

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548545 13f79535-47bb-0310-9956-ffa450edef68"
c929ed0a309f6a35b15c0d9412ae25ce94e461b7,"weblogentry.locale was added in 2.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548757 13f79535-47bb-0310-9956-ffa450edef68"
44d44ffe70a2876c77f0675ea3a7b9aba2b05585,"Refinements to Roller EZ install:
- Moved bootstrap logic from BootstrapFilter to new Struts Install action
- Replaced ""please restart"" messages with ""click here to start using Roller""
- Added unknown error page for unexpected errors
- RollerContext is no longer a DatabaseScriptProvider
- All Struts actions now extend UIAction, no need for ApplicationAware

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@548758 13f79535-47bb-0310-9956-ffa450edef68"
ae0c981a807952e2d323dbbcc17dc97fb2a4e70d,"a number of tweaks and improvements for Weblogger application lifecycle management which is meant to improve the auto install process a bit.

1. Introduced new WebloggerStartup class which acts as the managing class for the core application startup services such as getting the database provider, mail provider, and running db install/upgrade logic.

2. Sectioned out and setup a bootstrapping state and initialization state of the application, each of which are run independently.

3. Removed attempts to run a fallback RollerImpl during the bootstrapping process when the configured Roller class fails, this just doesn't make sense in the end.  If your desired Roller backend fails for some reason you may not want the fallback alternative.

4. Merged many of the install related struts2 actions into one Install action because it was easier that way and the multiple actions weren't really needed.

5. Cleaned up RollerContext startup procedures to make use of this new layered startup procedure.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549132 13f79535-47bb-0310-9956-ffa450edef68"
1b072de3e9f6020fdbaa3ab6856c01e8418088d6,"update to sql script runner test missing from last commit.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549134 13f79535-47bb-0310-9956-ffa450edef68"
1bc63a5d43416b2d6463199fbdf3a54a30424165,"fixing one more pubtime handling problem.  we were trying to do date formatting in a locale sensitive fashion, but that doesn't work when using the javascript calendar widget because that widget only understands English US formatted dates.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549150 13f79535-47bb-0310-9956-ffa450edef68"
b6ef52a25c1cb150f5de859f4a008f3fd07b175f,"small fix in isUpdateRequired() logic.  if we can't get a db version value from the db then we have to assume that it's a new install and upgrade work is not required.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549290 13f79535-47bb-0310-9956-ffa450edef68"
aefd623893c04ff2322fc9911b85055ec922392b,"more work on improving application lifecycle layering.  this commit adds in a Roller.initialize() method which is used to allow components of the business tier to initialize themselves after being bootstrapped.  This replaces the RollerFactory.initialize() method from the previous commit.

also fixing up the unit tests which need to be a little more aware of the proper way of bootstrapping the application now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549293 13f79535-47bb-0310-9956-ffa450edef68"
c7d819ab3edd819f358182aa56450cfa85721bea,"some final cleanup work moving some of the classes involved in the auto-install database install work into the business.startup package.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549297 13f79535-47bb-0310-9956-ffa450edef68"
53d86f09bdb2d392cad827a9e63ea2ea19aab200,"protect install method against accidental refreshes or malicious users trying to force install work when it's not appropriate.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549556 13f79535-47bb-0310-9956-ffa450edef68"
1c4e9e9facd3aa73adac83ec869cfd3606198995,"we need to set the request locale after doing page validation because otherwise it's possible for someone who has unchecked the 'show all langs' option to be seen as having an invalid page request.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549606 13f79535-47bb-0310-9956-ffa450edef68"
888a066e4c2cbc83e0a40f1896d031b3b5375507,"feed servlet also needs to do validation before forcing a request locale on entries not 'showing all langs'.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549613 13f79535-47bb-0310-9956-ffa450edef68"
bbcd18fc805b7164076340e93962ca6f5d2846c0,"fixing functional issue with multi-language blog support.  we haven't been properly enforcing the fact that the 'show all langs' option is tied to value of the 'enable multi-lang blogging' option.  i.e. that it only makes sense to disable 'show all langs' and force a blog view to 1 language at a time if 'enable multi-lang blogging' is enabled.

this commit includes a fix in the weblogConfig action to enforce this rule moving forward and it also includes a sql command for upgrading users to make sure that existing blogs are properly updated to enforce this.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@549614 13f79535-47bb-0310-9956-ffa450edef68"
ef9df9c3e39dd1ec00be84dddda2596b0988d833,"Merging branches/roller_guice work into trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550055 13f79535-47bb-0310-9956-ffa450edef68"
50651109418635b9d4de379d76508cb2ac9cc829,"Oops, forgot the most important bits

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550059 13f79535-47bb-0310-9956-ffa450edef68"
d8f97029dcd77b809255947ae7428e9ad3d0a9bf,"Don't use those Sun-internal Base64 calls

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550062 13f79535-47bb-0310-9956-ffa450edef68"
f2a5265dcc1ed7b75ba673a9bd5a15ee5fe374ed,"Couple of JPA related fixes; don't modify collections returned by queries

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550629 13f79535-47bb-0310-9956-ffa450edef68"
7b3142b0ae3f871c10b90fd0e601e5b5eaf46b2c,"Fixing broken bootstrap filter, using redirect without context name only works if roller is installed at root

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550799 13f79535-47bb-0310-9956-ffa450edef68"
aa88fc3968fbe346c31b694b9e2288f8ea7464c7,"lets be anal about the immutability of our business tier classes.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550853 13f79535-47bb-0310-9956-ffa450edef68"
16a0b6826898bf040b16643e5673fae131b4623b,"lets be anal about the immutability of our business tier objects.  we also needed to tie in the initialization process to our managers which use it.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550872 13f79535-47bb-0310-9956-ffa450edef68"
2b0e02d399db4ef30ec99e43e99e930d59253df9,"final bit of cleanup on initialization process.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550882 13f79535-47bb-0310-9956-ffa450edef68"
9f46aeacb0dac055249cc3bee38e9be2a711470f,"updating planet integration jar with some updates to the initialization process.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550885 13f79535-47bb-0310-9956-ffa450edef68"
a21d99bc21308df56649db3f32781fe7830aa055,"session factory and emf need to be protected level access so that subclasses can instantiate and assign them on their own.  updating planet integration jar with this change.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550897 13f79535-47bb-0310-9956-ffa450edef68"
dd595ebcf25f4aac332792afed1901063026a619,"tidy up Weblogger planet integration.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550899 13f79535-47bb-0310-9956-ffa450edef68"
05cf2ebbc23895722cfca28164650404b0d04c26,"cleaning up a couple comments.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550966 13f79535-47bb-0310-9956-ffa450edef68"
e192a87601823052229c65b65934f603b574cbd4,"rename hibernate config used by Roller Planet to planet-hibernate.cfg.xml and move it inside the planet business jar file.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550969 13f79535-47bb-0310-9956-ffa450edef68"
548dcdd5a4df75f5d13905ec87935d0253458411,"a couple tweaks to stay inline with changes made to Planet backend and removing old planet hibernate config since we no longer need it now that the planet business jar includes it.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550971 13f79535-47bb-0310-9956-ffa450edef68"
d983bf5772e4591a2639b0ec3fff5f225d80843f,"default log settings should apply to all Roller classes, not just weblogger.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550974 13f79535-47bb-0310-9956-ffa450edef68"
c01d8f5fe4e114397ec3361526f1f0ef626b5c19,"some final cleanup on planet persistence strategy stuff.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550985 13f79535-47bb-0310-9956-ffa450edef68"
a173653701ee49cee4833ac687fde80e41969ec9,"final cleanup on hibernate persistence strategy based on changes in planet code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@550986 13f79535-47bb-0310-9956-ffa450edef68"
04a31cbd462e636e48f2a68d263354e9bd292627,"implementing comparable and defining a natural sort order for categories, by name.  also cleaning up unused code and comments.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551034 13f79535-47bb-0310-9956-ffa450edef68"
8d445c75de2652d9d15982bcf147ba8e37290f03,"category list should include all categories, not just children of root cat.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551035 13f79535-47bb-0310-9956-ffa450edef68"
e790aec8998ccc09ee83cfdc667f538a8a8cc52b,"category drop down on entry editor should include all categories, not just children of root category.  we are also going to display the category name rather than path, since that is nicer for users.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551036 13f79535-47bb-0310-9956-ffa450edef68"
0a4ef0f34c6b653bed0a0399a3f4f2dfdc6bb74c,"new entries created by xmlrpc need to have the locale properly set.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551040 13f79535-47bb-0310-9956-ffa450edef68"
30ff9fba93278b3add8aa847d60d47f320dfba36,"renaming Roller interface to Weblogger.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551046 13f79535-47bb-0310-9956-ffa450edef68"
7e46fa5db17e464179d176edad92529b17a0cb65,"renaming Roller interface to Weblogger.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551048 13f79535-47bb-0310-9956-ffa450edef68"
0671f36db472f27f2faffb218adde1383193acf4,"renaming RollerFactory to WebloggerFactory.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551059 13f79535-47bb-0310-9956-ffa450edef68"
29c1ec39988f48b1a921a00f9f94cc5355411b88,"renaming RollerImpl to WebloggerImpl.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551061 13f79535-47bb-0310-9956-ffa450edef68"
55f81b0f82447bac65daef7d15b9fda4849ccdf9,"renaming HibernateRollerImpl to HibernateWebloggerImpl and JPARollerImpl to JPAWebloggerImpl.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551066 13f79535-47bb-0310-9956-ffa450edef68"
e4b0bf9ea9d31a306da8b31258908c6cef22cddd,"renaming method WebloggerFactory.getRoller() to WebloggerFactory.getWeblogger()



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551071 13f79535-47bb-0310-9956-ffa450edef68"
a577dc005899b97823aed62a6b6e98d25cff116d,"rename getRoller() to getWeblogger()



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551072 13f79535-47bb-0310-9956-ffa450edef68"
747717fb7a7664ecac6de8ae9aa8315699fa9d29,"escaping a whole bunch of ' (apostrophe) characters in the resource bundle because they weren't being displayed properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551233 13f79535-47bb-0310-9956-ffa450edef68"
b053847d8df9021f9ed617bb6cedc6d34a7b6c0c,"Weblogger's local planet fetcher should be using the user's screen name for the entry author attribute.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551237 13f79535-47bb-0310-9956-ffa450edef68"
b4dd3e8016506a2d13b14179953e349afaab1c41,"cleaning up User pojo and removing old code and doing some reformatting.  also updated the old resetPassword() method to be more appropriate.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551238 13f79535-47bb-0310-9956-ffa450edef68"
06748165aaac2afcb27beea9be3cd01aba6354ac,"fix for ROL-1457 where the weblog entry setData() method was not copying the locale attribute.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551240 13f79535-47bb-0310-9956-ffa450edef68"
aafdb59f53cd2786dd1f59679866e59414d6655d,"fix for ROL-1459 which had a couple small html issues.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551243 13f79535-47bb-0310-9956-ffa450edef68"
502dc61624541f3630c5f46599191c12c0514c04,"fix for ROL-1460, html bug in entry remove jsp.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551244 13f79535-47bb-0310-9956-ffa450edef68"
f7a7ce005baadff8f0929de4bfe1ea0475bbd7d6,"fix for ROL-1461, html bug in entry edit jsp.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551247 13f79535-47bb-0310-9956-ffa450edef68"
741d14b7d3f83852e338d904bbed4d89178793d6,"fix for ROL-1462, misspelling of Referrers in theme templates.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551249 13f79535-47bb-0310-9956-ffa450edef68"
8bcfbb163b83987abc2f9027b81ec2e83e4cb22d,"Applying the fix from ROL-1158. Use Oracle9Dialect (the superclass) and not OracleDialect. Thanks Teppo.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551264 13f79535-47bb-0310-9956-ffa450edef68"
3ab5931516eb0cd964ef3369d20fcea3d54343a9,"simplifying and improving the hibernate persistence strategy a bit more.  this sets things up so that most of the default settings are in the hibernate xml config file, but a user can override any hibernate property simply by specifying that property in their roller config as hibernate.*=

also moving the hibernate config file out of the WEB-INF/classes dir and into the the business jar META-INF file, which is most appropriate.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551289 13f79535-47bb-0310-9956-ffa450edef68"
f99889fabd2933b12fdd00338a1ba3dc25c29e43,"query parameters for trackback requests need to be url encoded.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551350 13f79535-47bb-0310-9956-ffa450edef68"
fd4d81ddd3df86fabb471ae046a6ab2c006f8f5a,"we actually want to use the addProperties() method to include custom hibernate props in the persistence strategy because mergeProperties() only sets props that haven't been set before.  we can also set properties which don't really need to be set by users, such as the hibernate connection provider, directly in the hibernate config file.

updating planet integration jar with these changes.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551351 13f79535-47bb-0310-9956-ffa450edef68"
ae611cfbeaf0f263a4c46925a23d05db834a879e,"don't need to specify hibernate connection provider in planet config anymore.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551352 13f79535-47bb-0310-9956-ffa450edef68"
45677f86263e71c5735253a3a4d1d2d3448ff662,"file is supposed to be named theme.properties, not theme.properties.properties.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551353 13f79535-47bb-0310-9956-ffa450edef68"
7f02524105b245fd8f2ed68bcf1c2fc172b0cc0a,"removing old menu xml configs no longer used since the MenuTag code was deleted.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551355 13f79535-47bb-0310-9956-ffa450edef68"
83849168c6f255f8a265c998ad7a8b9801a33714,"auto install code expects db scripts to be in the classpath now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551356 13f79535-47bb-0310-9956-ffa450edef68"
6b874cf81722e0cd5553d64b38a33a0a7851d161,"planet runtime config defs should be included in the business tier jar file.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551357 13f79535-47bb-0310-9956-ffa450edef68"
e882d02bae970eb3768a1ae767146d554e07ebc4,"don't need planet runtime config defs in weblogger app now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551358 13f79535-47bb-0310-9956-ffa450edef68"
eab9412eebb3912eff21673e4eb1e14193689cd0,"rename guice modules so that they have unique names, just to be clear.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551375 13f79535-47bb-0310-9956-ffa450edef68"
f0b0d410aab3e9fe0ceeacac619e962a07c03be9,"renaming RollerConfig to WebloggerConfig.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551377 13f79535-47bb-0310-9956-ffa450edef68"
f670c9ba6b32808c750a92b167e1a3641203ec2b,"renaming RollerRuntimeConfig to WebloggerRuntimeConfig.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551378 13f79535-47bb-0310-9956-ffa450edef68"
ed8c52380148f99b505186ae7cc5e766e496eded,"need an apostrophe.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551624 13f79535-47bb-0310-9956-ffa450edef68"
babed1d0b83c8d6d3b07241b58a5dd0ac2523d9f,"default ordering for categories is by name.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551626 13f79535-47bb-0310-9956-ffa450edef68"
54e9f72cfee975e7463f0bac0f88d782d2073549,"Added final APP namespace URI and support for app:edited. Tested against latest Ape, there's still one error that needs to be fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551778 13f79535-47bb-0310-9956-ffa450edef68"
20df79834083377b50088c44900db4a1bdf73715,"Fixed a bug in delete-entry. Now passes the latest Ape tests with no errors.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@551982 13f79535-47bb-0310-9956-ffa450edef68"
6ba25d92a5b92e4a57b34e32acc923cb4d43a14e,"do some pojo renaming like we did in the weblogger app.  this just shortens the names a bit to be more concise and also better reflects the object relationships.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552017 13f79535-47bb-0310-9956-ffa450edef68"
1a1030a41dec4924b17201d6d76b3024b53819ad,"some code cleanup and reformatting.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552024 13f79535-47bb-0310-9956-ffa450edef68"
34797f8da94b54bf5dcf9cbfd991d60254960759,"move hibernate mapping files into pojos directory and maintain them statically, which means we no longer need the gen-business target or any xdoclet generation at build time :)



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552027 13f79535-47bb-0310-9956-ffa450edef68"
64d978a8a007c944b72fad8ab22e3bdc19eb0bd1,"rename guice modules so that the class names are unique.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552030 13f79535-47bb-0310-9956-ffa450edef68"
e34bf5d97d967f4726e98df6eb309a8b772f6124,"Adding in a small provider framework which adds a little bit more abstraction to the backend wiring code and makes it easier to tweak how the backend is bootstrapped if desired.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552058 13f79535-47bb-0310-9956-ffa450edef68"
472d56aaed8fce248a988e022858a73e5b1ce160,"Adding missing argument to #showReferrersList() macro to fix ROL-1458

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552234 13f79535-47bb-0310-9956-ffa450edef68"
0b425378027ea2dc757d06953a828ae5d6d01321,"Fixes ROL-1363, use correct syntax for Oracle for drop not null reqirement of id field

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552236 13f79535-47bb-0310-9956-ffa450edef68"
bab4cd258a1dc47bd23ee34060f825b0ab3aa803,"Couple of APP fixes found while doing 3.1 fixes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552240 13f79535-47bb-0310-9956-ffa450edef68"
0a0d35da2c1dd06fc71c51d87a0d48940bf83268,"Fixes ROL-1465 ""PreviewServlet broken due to OpenJPA detached object limitations"" but only for entry preview where these is no need for a dummy weblog ojbect. Theme preview is still broken.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552331 13f79535-47bb-0310-9956-ffa450edef68"
d0ed926bf4f4b5fb9e3d2346e1f1247dcd7feb67,"Accept for entries is now ""application/atom+xml;type=entry"" instead of ""entry"" as of APP draft #15.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552341 13f79535-47bb-0310-9956-ffa450edef68"
971de036edfa9b0c08dba7e148d0eec9240033b1,"Ridiculously lame throttle crap won't work unless it's before post/put of entry. Also, made it optional in case there are databases with reasonable timestamp support. rollerweblogger.org now passes online Ape testing (http://tbray.org/ape).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552354 13f79535-47bb-0310-9956-ffa450edef68"
eca030dae5a145007bfd63c5e6170eb96a511c2c,"minor cleanup. moved throttle method to end of file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552357 13f79535-47bb-0310-9956-ffa450edef68"
6099a344b308c0a0f2ab0feaa16045fcb1e57c82,"Added missing edited field to copy method

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552533 13f79535-47bb-0310-9956-ffa450edef68"
e1368700aac80c122e44344599b7ceaebef74397,"Removing redundant and rarely used authorization methods from RollerSession

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552536 13f79535-47bb-0310-9956-ffa450edef68"
117cb4edc24818312317eb6671deccd300dbc693,"Removing unused isGlobalAdmin method from RollerSession

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552541 13f79535-47bb-0310-9956-ffa450edef68"
d87e27d6f90633ce3c580030f6009b9137d7cb77,"making the 'test' code act as actual test code sources and defining their classpath.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552551 13f79535-47bb-0310-9956-ffa450edef68"
56f52d89b8a5330fe7e51de3a3dc31bddc00d2bd,"updating the Planet fetching and updating process for subscriptions to make it more layered and pluggable.  major updates here include ...

1. Modified FeedFetcher interface to remove old monolithic refreshEntries() method and replace it with just a fetchSubscription(url) method.  

2. Added a new FeedUpdater interface which acts as the feed update processor and utilizes the FeedFetcher in conjunction with the PlanetManager to update all the feed data.  Making this a separate interface allows us to neatly partition logic and provide pluggable implementations based on different updating strategies such as single threaded vs. multi-threaded, etc.




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552628 13f79535-47bb-0310-9956-ffa450edef68"
c074f4e5bef24463c1553ef5fee02122a834aa9e,"planet.properties can move to src folder and be bundled with business jar now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552899 13f79535-47bb-0310-9956-ffa450edef68"
297749ec8c4e56f24c67114c0f286db13c935cb3,"simplifying subscription management UI.  We no longer let users hack away at the details of a subscription because there should be no need, the details come from the feed itself.  So now we simply let users add and remove subscriptions to groups by entering in feed urls and everything else is done for them.

We also get the added bonus of having newly added subscriptions being fetched when they are added rather than at some undertermined amount of time afterwards, so setting up new planets and groups can happen instantaneously now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552916 13f79535-47bb-0310-9956-ffa450edef68"
959159039316864ff78ebfd60b4e6e901d3910f9,"updating Roller Planet integration jar and fixing up weblogger planet integration.

1. Weblogger planet integration code has been updated based on changes to Planet code, including class renaming, updates to bootstrapping process, etc.

2. Weblogger planet UI no longer handles editing of subscriptions, it only accepts feed urls and all the processing of subscription details are handled by the planet code.  This simplifies the UI quite a bit.

3. Weblogger planet integration has been updated so that weblogger can more easily customize the way the Planet backend is bootstrapped for use with integration.

4. Weblogger planet integration has been updated so that local weblogger feeds added to the planet aggregator are now marked with a custom feed url identified as ""weblogger:<blog handle>"" which makes it easier to identify local weblogger blogs.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552968 13f79535-47bb-0310-9956-ffa450edef68"
2e68a4fd280cde4adc258220b7c48597a90c083c,"we identify local feeds as starting with ""weblogger:"" now.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552969 13f79535-47bb-0310-9956-ffa450edef68"
9e13b301ddf13ba62fe3de4ae7e9be50be4e28cb,"no need to have the sql script running filling the logs with lots of junk.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552980 13f79535-47bb-0310-9956-ffa450edef68"
3e764409dc9f0e6287da3309de544fbed92046ac,"give users a nice prominant message when user interation is required as part of an auto install.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552985 13f79535-47bb-0310-9956-ffa450edef68"
3fa8336fbad9e44f5aa8debf8df56b6d7a389bbf,"fix up planet local test.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552990 13f79535-47bb-0310-9956-ffa450edef68"
cf646523f6a39b2cee81d273bb53498cec7094e7,"moving hibernate mapping files into src so that they can be managed statically.  finally we are all done with the code/config generation stuff.

also updating build.xml to simplify and standardize main targets.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552992 13f79535-47bb-0310-9956-ffa450edef68"
cd09503e0a16037d28e40384dd32ab99013b468d,"beginning to make some use out of the Roller Core component by moving a couple utility classes in that were redundant between Planet and Weblogger code.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@552998 13f79535-47bb-0310-9956-ffa450edef68"
c81c7c3f37d10970e32bd1144be4feb02aaeb91f,"removing unused classes.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553001 13f79535-47bb-0310-9956-ffa450edef68"
2ce6180148aafb22e79cb215c8badcc02c3a75bb,"deleting more unused classes.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553009 13f79535-47bb-0310-9956-ffa450edef68"
5c5499e9796fcc04cd123a889fd67343d012156a,"moving PropertyExpander and RegexUtil to core library since they are redundant between Weblogger and Planet.  also moved unit tests for these utilities into core project and updated roller-core.jar integration library.




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553252 13f79535-47bb-0310-9956-ffa450edef68"
c37d4dfe75a012507f1a5688bad1ed3a44cc8ab3,"adding license header.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553257 13f79535-47bb-0310-9956-ffa450edef68"
b8fe81506607f7d0ba139171d6faadd73e9fed7a,"fixing up db scripts a bit and moving old 310 to 320 upgrade work into 4.0 upgrade script.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553276 13f79535-47bb-0310-9956-ffa450edef68"
622b4e90d39aefaa41ab22edd1a9b8dc1f08236f,"Removing removed tests from suite

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553506 13f79535-47bb-0310-9956-ffa450edef68"
bb29c040e09dc723749ec059c4fd0b9124c4e0af,"updating themes to make use of new Weblogger 4.0 features.  Also includes entry titles in header on permalinks per ROL-1355.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553541 13f79535-47bb-0310-9956-ffa450edef68"
4e9df8b8ac111c7f70abfb7a524d18a8ef198e1d,"doing some pojo cleanup by removing old setData() methods and other methods which are no longer used, doing some code reformatting, and removing no longer necessary hibernate and other xdoclet markup.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553572 13f79535-47bb-0310-9956-ffa450edef68"
8241a08c2f65903220f700719cf348cce3272496,"replacing static URLUtilities class for building urls with a pluggable URLStrategy interface.  this is a necessary thing for anyone trying to expand on the application's url scheme to add functionality, but it will also be important for supporting a better previewing environment.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553618 13f79535-47bb-0310-9956-ffa450edef68"
0ed6726d2f4fcf60cf3dfd0f3ffde3100d8df481,"Fixing top-level build to account for removal of all target

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553619 13f79535-47bb-0310-9956-ffa450edef68"
5ee19bb6a9e4dd9f82b02aad297486a3e776112f,"modify rendering Model classes so that they look for their url strategy to be part of their initialization data, making it easy to reuse a Model class with differing url strategies.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553632 13f79535-47bb-0310-9956-ffa450edef68"
92f1350779b0110edc4cb234722760fcc1a77b70,"finishing up the process of plugging in a url strategy throughout the rendering process.  all components involved in rendering need to be able to accept a url strategy to use for building any urls they want to display, this primarily includes Models, Pagers, and Pojo wrappers.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553697 13f79535-47bb-0310-9956-ffa450edef68"
6cf5ad464bfeb736fd9bc6c4bb66b59f34fa7be5,"fixing theme previewing issue caused by the use of the new stylesheet feature.

theme previewing had become effectively broken because the new stylesheet feature was building urls to stylesheets using public urls and not preview urls, so themes were looking unstyled.  the previous couple of commits regarding url strategy work in the rendering system layed the groundwork for this commit, which fixes the problem.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553702 13f79535-47bb-0310-9956-ffa450edef68"
a31a6452fe68050c72432499f598fbd9a9ffa780,"officially deprecating the use of decorators in the rendering process.  old templates which specify a decorator will continue to function as usual, but starting in 4.0 themes are no longer allowed to define decorators for templates so they can gradually phase themselves out.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553721 13f79535-47bb-0310-9956-ffa450edef68"
641a859c420e445f2ca542419fa729bd9891d0d3,"_css doesn not need to be a required template any longer.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553722 13f79535-47bb-0310-9956-ffa450edef68"
f8e582b5cc121ab7d3cb1d0f77aee06513cd7335,"improving comment error messaging as part of ROL-1369.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553725 13f79535-47bb-0310-9956-ffa450edef68"
b469897bfeea0ca11ed100fdcb2d86fe0c3c27e2,"Moving release docs to correction locations in release dir structure and release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553953 13f79535-47bb-0310-9956-ffa450edef68"
85d16a79c7f42e578fbc93ba802b4a5fb987767a,"Reorganized into sections with important settings first, then directories, then feature specifics then all the rest. Nice and tidy and ready for the new installation guide.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@553975 13f79535-47bb-0310-9956-ffa450edef68"
0c4e22f584754190c841f894aaf4746fd85d5b14,"make sure that if a theme has trouble reading a template file then we want to throw an exception and not include that theme in the library.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554037 13f79535-47bb-0310-9956-ffa450edef68"
75ad797da69fcc8c22d15f96e205838b79e1291f,"moving password utility class to weblogger.util package and removing old business utils package which is no longer needed.  this also removes the old DatabaseUpgrade class which was replaced by the DatabaseInstaller class.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554038 13f79535-47bb-0310-9956-ffa450edef68"
3e60f4458009ce0b07f1305bc7e04801c29125b9,"fix for ROL-1286, remove file uploads when a weblog is deleted.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554046 13f79535-47bb-0310-9956-ffa450edef68"
71636de2bd4e17e19af6395427cdb487075e6a15,"First draft of all new install guide, still a couple of todos remain

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554222 13f79535-47bb-0310-9956-ffa450edef68"
e4d73f3db504b1442ae175d46ca54e2286f6d7da,"a little cleanup in UtilitiesModel to reduce redundancy.  Many of the methods were straight copies of methods in the Utilities class.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554245 13f79535-47bb-0310-9956-ffa450edef68"
edeac0f6d43fbbdcb93f4debd93911f1efe12001,"updating model classes to remove dependency on http request object.  now if we can just remove the CalendarModel and its dependency on a PageContext then we'll really be set.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554254 13f79535-47bb-0310-9956-ffa450edef68"
1d1dcaacc7614f2f29fec95c2f16649c09ffd28e,"adding locale support for UtilitiesModel formatDate() methods.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554263 13f79535-47bb-0310-9956-ffa450edef68"
eb7558d81ea09d8d7ac29165fc1d2bf8be16aa04,"formatting change

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554310 13f79535-47bb-0310-9956-ffa450edef68"
bcdf8385ed36275e709cbee2554aef5b09d0c383,"Removing unused imports

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554311 13f79535-47bb-0310-9956-ffa450edef68"
b9566c85a4dbeb519649215fc97789ca1a5a96cc,"Ehcache is a Spring dependency

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554347 13f79535-47bb-0310-9956-ffa450edef68"
bdeda61c31824cc1d23800f057a2266a6182f6b5,"New install guide is complete and ready for review

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554348 13f79535-47bb-0310-9956-ffa450edef68"
790c8b8acbfb4b624859f8879ced450c244f5d0e,"Couple of minor changes to help theme authors apply CSS

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554351 13f79535-47bb-0310-9956-ffa450edef68"
a56790dd837fad9b0952e04c788aa1376c922006,"Ehcache is a Spring dependency

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554353 13f79535-47bb-0310-9956-ffa450edef68"
fc391b722f179f9283480eace83cf5d037d1a0e5,"Changing to reflect correct paths in release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554354 13f79535-47bb-0310-9956-ffa450edef68"
4b036bc5e77c1d7bae693518808a1e39bffcf338,"Hibernate is no longer required, so call tar file ""hibernate-jars"" instead of ""required-jars""

For source release, name ""required-jars"" remains because Hibernate is still required for source and the tar also contains non-Hibernate jars.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554355 13f79535-47bb-0310-9956-ffa450edef68"
8e368fb5a66615fdc7544f88594d2407f2bb0675,"Added references to 3.2 and 4.0 issues, still needs work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554356 13f79535-47bb-0310-9956-ffa450edef68"
106323a4f7e5447c20dee7240ecfa6431fb859cd,"Fix for ROL-1471 ""Resource servlet does not work properly on Windows""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554357 13f79535-47bb-0310-9956-ffa450edef68"
d4f69217f1d1730f6c92d877e7ae995b4ec9ea44,"Netbeans 6 project files, corrected classpaths, etc.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554818 13f79535-47bb-0310-9956-ffa450edef68"
eb7f9d05133c8a6a86be6d70f433133fd087e041,"Classpath fix

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@554822 13f79535-47bb-0310-9956-ffa450edef68"
bcf414735286c0483d6ed4096bd0d3cb1bb1dc74,"One final change to make planet backend fully pluggable.  We want to make it possible for people to plugin their own PlanetProvider classes so we introduce a 'planet.provider.class' into the planet.properties config and setup the PlanetFactory.bootstrap() method to use the configured provider.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555007 13f79535-47bb-0310-9956-ffa450edef68"
5cba3a8448874fea3a73ef56886396217bd0a477,"Make weblogger backend fully pluggable like planet is.  This adds in a WebloggerProvider interface which is used to provide instances of the Weblogger class in any way the implementor wants.  The default provider uses Guice.  Providers are pluggable through the static config file using the 'weblogger.provider.class' property.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555014 13f79535-47bb-0310-9956-ffa450edef68"
4cb4621c7e86954239f1c5d3e20c6976663be0e0,"one more fix for comment messaging issue ROL-1369.  we need some css styling for status messages in addition to error messages.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555026 13f79535-47bb-0310-9956-ffa450edef68"
343b8a7fa690dff5bc5d382da67af597f735b42b,"fix up database installer so that there is no longer a 3.2 release mentioned.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555033 13f79535-47bb-0310-9956-ffa450edef68"
7f30bc40d44cad49bf8a68896bf4c0a93d5ad3c4,"introducing comment plugins to provide greater control and flexibility over how weblog comments are handled.  A number of things changed in this commit ...

1. Added new column 'plugins' to roller_comment table, varchar(255).

2. Added new attribute 'plugins' to WeblogEntryComment pojo, including mapping elements in jpa and hibernate mapping files.

3. Added new interface WeblogEntryCommentPlugin in business.plugins.comment package.  Interface has 1 method, render(comment) which returns a string of the transformed content.

5. Added 2 new comment plugins, AutoformatPlugin and HTMLSubsetPlugin, to replace old functionality.

6. Added 2 new methods to PluginManager and PluginManagerImpl. applyCommentPlugins(comment) which returns a string, and getCommentPlugins() which returns the list of plugins.

7. Added new property 'comments.plugins.classnames' in roller.properties which lists the configured comment plugin classes.

8. Added new runtime property 'users.comments.plugins' which is a comma separated list of the plugins which are enabled.

9. Modified CommentServlet to basically call comment.setPlugins(runtimeConfig.getProp('users.comments.plugins')). This basically applies whatever comment plugins are configured to the specific comment as it gets saved.

10. Modified Comment pojo wrapper so that the call to getContent() actually applies plugins and other transformations before returning output.

11. Unit test for AutoformatPlugin.

12. Add to the current upgrade process to set 'users.comments.plugins' global property and each individual comment.plugins property if existing autoformat or htmlsubset functionality was enabled.

13. Cleanup current comment macros and move logic out of macro and into pojo wrapper.

TODO: the last remaining item regarding this work is to polish up the global settings page and remove the old comment properties and provide a nicer UI for enabling/disabling comment plugins.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555084 13f79535-47bb-0310-9956-ffa450edef68"
d5622869bb285b96c8b2031bd9eba5f37d6b5fcd,"no need to escape and transform comment data in old comments macros or feed macros since all that work is done in the pojo wrapper for us.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555292 13f79535-47bb-0310-9956-ffa450edef68"
54564ecc83d475947466edbff95bb479f72fbe2c,"adding an icon and link to the main menu that allows users to get the the theme edit page for a weblog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555297 13f79535-47bb-0310-9956-ffa450edef68"
4adfcb581eaafba7e484c3e8cf8456d8aab11c50,"renaming Weblogger method getPagePluginManager because it's not a page plugin manager, it's just a plugin manager.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555299 13f79535-47bb-0310-9956-ffa450edef68"
1b2722fffb45f3682c567b01bebc27fce7fc8a90,"fixing up global config page so that comment plugins can be easily enabled/disabled.  also added HTMLSubset plugin.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555331 13f79535-47bb-0310-9956-ffa450edef68"
3b6142b3ecea1edab91fb7b271c46d12efecd135,"Fixing typo bug in AppModule parser

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555621 13f79535-47bb-0310-9956-ffa450edef68"
e373e0fd5ca777d7fb608970ec87bc455d208af5,"tone down the mail session error during startup and only log the exception message since technically users aren't required to define a mail config.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555745 13f79535-47bb-0310-9956-ffa450edef68"
5754dcccc4ff8e1ca1c530c6d0c9767138b3a0da,"escape submitted comment data in the comment form object, not in the comment form macros.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555772 13f79535-47bb-0310-9956-ffa450edef68"
f587373da9c6546496b63d282ce5f344e8bc6f53,"more work on fixing up handling of submitted comments and their formatting.

1. Introduced a new 'contentType' attribute to the comment pojo for tracking the content type of a comment.  Current valid options are 'text/plain' and 'text/html'.  Also added new db column roller_comment.contenttype defaulting to 'text/plain' and corresponding hbm and orm mapping file edits.

2. Updated comment pojo wrapper so that if the content type of a comment is 'text/plain' then it's content gets html escaped before plugins are rendered.

3. Added new runtime config property 'users.comments.htmlenabled' which defines the content type to be set for incoming comments.  if html is enabled then the content type is set to 'text/html' otherwise it is set to 'text/plain'.

4. Updated comment servlet so that an appropriate content type is set for incoming comments based on the 'users.comments.htmlenabled' setting.

5. Updated the database upgrade process to set a content type for all existing comments and to initialize the value of the 'users.comments.htmlenabled' property based on the values of old properties.

6. EOLed the old 'users.comments.escapehtml' and 'users.comments.autoformat' properties.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555776 13f79535-47bb-0310-9956-ffa450edef68"
f11a014590ef7123208c646e70d41c75e0b43560,"plugins test suite

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555777 13f79535-47bb-0310-9956-ffa450edef68"
17591298e930738c0ca0873e933f63362b5a0de9,"updating planet integration jar.  contains a couple updates to allow for pluggable backend providers.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@555795 13f79535-47bb-0310-9956-ffa450edef68"
55104599b8d85220b16bbc713adb805dec67c001,"Roller now logs the Subversion last-changed revision number on startup (if available at build-time)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@556710 13f79535-47bb-0310-9956-ffa450edef68"
3868868a61f8cc7c6435c666b07820fa11dbcd98,"local planet feeds have a new feed url format starting in 4.0 so we need to update existing local feeds during upgrade.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557006 13f79535-47bb-0310-9956-ffa450edef68"
aa04f074238ad751c2c7a16062b53a40e0bbf983,"We've got JUnit so let's make sure it works even if it's not installed in ant/lib

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557116 13f79535-47bb-0310-9956-ffa450edef68"
5afb9186aee6905c2745f12af7766a04d8533edf,"Doh! We've got JUnit so let's really make sure it works even if it's not installed in ant/lib

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557120 13f79535-47bb-0310-9956-ffa450edef68"
4b0e3d765803ba5cfc000dae93a2958efbbd7e51,"Ok, one last try

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557129 13f79535-47bb-0310-9956-ffa450edef68"
b639493f7a0833d0898186cb3307ddf390b04ac0,"minor change to FeedFetcher to support conditional feed fetching based on lastModified time of the subscription.  this is meant to help performance a little bit so that we don't waste time processing subscriptions that haven't changed since they were last fetched.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557339 13f79535-47bb-0310-9956-ffa450edef68"
29ae81ac3cb73c75a408bad3bbad0c90af87e99b,"update roller planet integration jar with changes from revision 557339.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557353 13f79535-47bb-0310-9956-ffa450edef68"
0d656653040ed49d8e55f966f364af53830818c4,"updating weblogger custom fetcher to make use of new planet fetcher changes from revision 557339.  also includes new unit test.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557359 13f79535-47bb-0310-9956-ffa450edef68"
21b3aab661107cbd3b6e6518beb9e1ccd8d8188f,"removing unnecessary message about editing existing subscriptions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557367 13f79535-47bb-0310-9956-ffa450edef68"
7a2bbe2752ca4f6500c04cf8262351e88b55a843,"fixing misspelling of ""blacklisted""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557368 13f79535-47bb-0310-9956-ffa450edef68"
ba2def7bb27c9ec13bce79f3742130040ca758f3,"avoid null pointer happening if theme name is empty string.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557440 13f79535-47bb-0310-9956-ffa450edef68"
203ad94c08db7cfb77fc961895b882f9435e6a3b,"fix potential null pointer if for some reason no last updated time can be found and it's left as null.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557441 13f79535-47bb-0310-9956-ffa450edef68"
e1ff4f30b235c0e8230b4395c06c9c8fa3f5f4ee,"make sure that if someone is looking for a custom page which doesn't exist, that they get a 404.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@557839 13f79535-47bb-0310-9956-ffa450edef68"
279c098bc6ca2f8f91077042eff3fb0d6ecffa69,"Make it easier to extend URLModel by using protected instead of private for weblog and other fields

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558011 13f79535-47bb-0310-9956-ffa450edef68"
1dcaef766f6b981197743e80378a998cb8d3c154,"Fixing a comment 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558015 13f79535-47bb-0310-9956-ffa450edef68"
b6ee670f7ac1948d54f310a2b6a68a55d4715d62,"Commenting out JUnit workaround for now. We need a version of the JUnitTask that can be configured to use our JUnit jar, otherwise test will fail on build servers that don't have JUnit 4.1. Kohsuke's <junit2> tasks might be the ticket.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558017 13f79535-47bb-0310-9956-ffa450edef68"
61c736fb42a7a172484e1da66b6cb9b067f886b0,"Fixed ROL-1475, image URLs were incorrect due to double calls to <s:url>. The problem is only visible if Roller is not installed at context root, that's why Allen and I didn't notice it on our sites.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558053 13f79535-47bb-0310-9956-ffa450edef68"
c54e519db2c696022c7820d0dcd597c24f4339c7,"Fixes ROL-1474, "" Exception (500) occurs when clicks to ""Add Ping Target"" and some other URL (the double <s:url> problem) bugs the same page. The problem is that CommonPingTargets.jsp was calling the CustomPingTargetAdd action when it should have been calling CommonPingTarget action.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558147 13f79535-47bb-0310-9956-ffa450edef68"
40719c4e2ea6a325b636e1708013c94efee64ef1,"Fixes ROL-1483 by moving the invalidate cache call before the delete template call. Apparently, with JPA, you don't want to attempt to use an object after you have deleted it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@558166 13f79535-47bb-0310-9956-ffa450edef68"
343d405f73218b444888972a51844ae80edaa555,"don't log ""cache miss"" message at info level.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559126 13f79535-47bb-0310-9956-ffa450edef68"
a9c0eae3b17be8e29abea78e6122f84ed340d524,"Fixing ROL-1494, Build fails on systems with different JUnit version in ant/lib

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559522 13f79535-47bb-0310-9956-ffa450edef68"
247e0366958b29b1103e0f8bbeea3993e88e7cf0,"add methods for start of hour and start/end of hour.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559556 13f79535-47bb-0310-9956-ffa450edef68"
7308da40a12c7f584d534ed435a9f7a1c9e8c859,"Fixing broken WebloggerRomeFeedFetcherTest


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559805 13f79535-47bb-0310-9956-ffa450edef68"
a7d9e90c6e47361bd6478b42d5b9daedf4b0b097,"Fixing ROL-1477, error handling was incomplete. Also fixed title o modify user page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559829 13f79535-47bb-0310-9956-ffa450edef68"
392717ad6e22a0ff924dcba0d9035b15a54cc0c2,"Implementing ROL-1491 - make log4j configurable via roller-custom.properties

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559831 13f79535-47bb-0310-9956-ffa450edef68"
3168b80c82b25ed645158b78ca662326472b7ca1,"Implementing ROL-1491 - make log4j configurable via roller-custom.properties

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559832 13f79535-47bb-0310-9956-ffa450edef68"
6bbf6eb5c4d372493d273d12f1b1fdafcc7063ba,"Fix for ROL-548 - Bookmark display macro not obeying sort order

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559835 13f79535-47bb-0310-9956-ffa450edef68"
88e82b6c2a4cd7b11267111b36246bad9e967bf7,"Fix for ROL-1493  NPE occurs when select to edit a disable user

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559843 13f79535-47bb-0310-9956-ffa450edef68"
c477335390f66028bb2b65226e9765dab0ef18be,"Fix for ROL-1492 ""Change users profile and admin permissions feature does not work""

The problem is caused by the Acegi user-cache. The user's role is changed in the Roller DB, but Acegi is still hanging on to the old user object. So access to the Server Admin page is denied. 

There might be a way to flush the Acegi user cache, but I don't think there is much need for this cache and I'd rather not introduce any more Acegi dependencies. So I removed the cache from secrity.xml and that fixes the problem.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559865 13f79535-47bb-0310-9956-ffa450edef68"
552110d9926612ea27469aacede00c6efbc397df,"Fix for ROL-1492 ""Change users profile and admin permissions feature does not work""

Better fix: after user is updated, clear the user from the Acegi cache. This is done by RollerContext so we can isolate the Acegi dependency in one class.

Also fixed a couple of missing I18N strings.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559881 13f79535-47bb-0310-9956-ffa450edef68"
7a87eb3fbf8abcc2ec1febb02b2ede9d043b8b08,"Better fix for ROL-548 - Bookmark display macro not obeying sort order

This one does not introduce a new getBookmarks() method, instead the folder wrapper's getBookmarks() method does the sorting.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559884 13f79535-47bb-0310-9956-ffa450edef68"
8001d1b42f1cc6f07c82285b062d6f3d53918453,"prevent a potential null pointer when the updatedSub doesn't have a last updated time.  also adding in some better log handling so that failed subscription updates don't result in really long 4 exception stack traces.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559889 13f79535-47bb-0310-9956-ffa450edef68"
1f488e4ec8d18701b420340cbb6320bf93635e23,"Fixed ROL-1489 cancel button for delete bookmarks doesn't work


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559894 13f79535-47bb-0310-9956-ffa450edef68"
2a1b4ab4786af95aa0a989ac39b51d3bd0eb93c3,"updating planet and core integration jars to include fixes from revisions 559126, 559889 which fix some NPEs and logging in planet code and revision 559556 which adds some additional date utility methods.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559898 13f79535-47bb-0310-9956-ffa450edef68"
fa7b151721e6312029ba6112a523b5c8e31a3c7d,"Removing no longer used date widget

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559908 13f79535-47bb-0310-9956-ffa450edef68"
b64c509229352cc5555d6db76644a655f19fe235,"EZ install work eliminates need for dstest.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559910 13f79535-47bb-0310-9956-ffa450edef68"
34705e1f2b228af0294e954f3e6b3ba71c12a583,"first pass at fixing up task running issues (ROL-1294, ROL-1446).  This commit introduces a couple significant changes to the way scheduled tasks are handled ...

1. Tasks are no longer scheduled using a ScheduledExecutorService in the thread manager impl.  We have replaced that functionality by implementing a custom TaskScheduler class with runs on its own thread and executes the scheduled tasks.  This was done to work around some inconsistencies with using ScheduledExecutorService as well as to implement some behavior specific to the way Weblogger tasks are run.

2. We have corrected for an issue with tasks missing appropriate execution times due to time drifting and clock mismatch issues created by the leasing process.  The has been fixed by updating the leasing logic so that it no longer has any affiliation with trying to prevent tasks from running before their set interval time and by using the custom scheduler in #1 to better synchronize the scheduled runtimes for tasks.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559911 13f79535-47bb-0310-9956-ffa450edef68"
02490c0747a4fac0e71bf4c0d7ea03a200002de0,"hmmm, IDE clobbered import statements somehow.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559914 13f79535-47bb-0310-9956-ffa450edef68"
dcc97340778bcb332394236c7189693b486a0896,"Cleanup

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559916 13f79535-47bb-0310-9956-ffa450edef68"
1600208019ae6b9e5d574d4c9e3b5820d90d7c11,"Fixing ROL-1495 ""Admin user should not be allowed to disable administrator privilege if there is no other admin users in the system""

No longer allow you to change your own role. We don't show the Admin checkbox if you are editing yourself, plus there's a check in ModifyUser action to prevent you from changing your own role.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559948 13f79535-47bb-0310-9956-ffa450edef68"
2ff877ae9253659a5a45d038e6415329f56062d3,"Fixing ROL-1490 ""Locale is a required field"" when re-saving old entry by ensuring that every entry has a valid local. Entries that have no locale are given locale of weblog.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559956 13f79535-47bb-0310-9956-ffa450edef68"
fcb2ab1fe9d29f6c2f70bfcad114a6574c705697,"fix for ROL-1216, which prevents html from being rendered in weblog name/title.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559980 13f79535-47bb-0310-9956-ffa450edef68"
27e86a0c13986ee18f523dded8df082b96a6b013,"more fixes for logging.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@559998 13f79535-47bb-0310-9956-ffa450edef68"
f3698a95a412e9633617757d5177f150e827faf8,"Fix for ROL-1501 ""ArgumentException occurs when click at Filter Entry button""

Bad syntax in JPA query string

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560012 13f79535-47bb-0310-9956-ffa450edef68"
a11a0477a3f859a25da87617d68b3ed81b66ed6c,"Better fix for ROL-1491, now init logging in WebloggerConfig. Seems to work well and typically only one message will hit System.out before logging gets configured.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560240 13f79535-47bb-0310-9956-ffa450edef68"
f352fd6597ab9c09bd882978244cbffbad557857,"Futher tweaks to ROL-1491: without a minimal Log4j config we will miss some startup errors

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560275 13f79535-47bb-0310-9956-ffa450edef68"
28640b8fb4a31d1c0b3777e7d3ba262f00025e80,"Correcting Roller link and making it easier to tweak the product name

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560310 13f79535-47bb-0310-9956-ffa450edef68"
f3d5f8f7660d32cc7aa4d180b421805bf2182f29,"provide a couple very simple hooks to allow for custom build work.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560312 13f79535-47bb-0310-9956-ffa450edef68"
c0622cb5e4afebe7db4b56dd70f3acb655b925bc,"Typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560321 13f79535-47bb-0310-9956-ffa450edef68"
d8eec6230a2edcb0f852cb64d6a8881d6b8d00e9,"missing space

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560346 13f79535-47bb-0310-9956-ffa450edef68"
f8231f2884800b353211223f999367ddfb7f29f5,"a couple fixes for task scheduler.

1. the new scheduler expects the tasklock entry to exist in the db before running a task, so the initialization process for the thread manager has been updated such that all enabled tasks are checked for an a tasklock record and if it doesn't exist it is created.

2. added in a small amount of time adjustment to the scheduler so that it tries to reawaken each minute a small amount of time after the beginning of the first second rather than right at the zeroith millisecond.  this accounts for possible imprecisions in the way the sleep time is chosen.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@560368 13f79535-47bb-0310-9956-ffa450edef68"
b92f2b6096218d4fbfdf179c0a1df29adc3548ff,"Fox for ROL-1502:
http://opensource.atlassian.com/projects/roller/browse/ROL-1502

Corrected query syntax. Also, the pubTime=pubTime,updateTime=updateTime updates, meant to prevent the database from resetting those two timestamp fields cause an error with OpenJPA.Turns out, they are unecessary here because OpenJPA takes care of preserving those value (tested that on MySQL and Derby).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561101 13f79535-47bb-0310-9956-ffa450edef68"
d2a5591084ab1678f07c8d050ddbdf5865b5ae19,"Log the reason that the mail config failed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561130 13f79535-47bb-0310-9956-ffa450edef68"
9c210140fbf1026feaf3c75f4bfdae44ddb464a7,"Fixing http://opensource.atlassian.com/projects/roller/browse/ROL-1504
Multiple problems with entry enclosure/MediaCast: entry attributes were not being persisted, MediaCast was not being saved/remove in EntryEdit.java, typo in resource name, etc.  

Fixing http://opensource.atlassian.com/projects/roller/browse/ROL-1487
Added permalink back to entry page, but made it optional (defaulting to enabled)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561131 13f79535-47bb-0310-9956-ffa450edef68"
3a471e5eebb4f3aec096e93a33201d53370d2eaf,"Fixes http://opensource.atlassian.com/projects/roller/browse/ROL-1506
We were not adding index to parameter substitution points in JPQL query for comments

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561138 13f79535-47bb-0310-9956-ffa450edef68"
71e42a436be6655a34fbf18537f32345817cc7a0,"Restoring ability to get instance from injector, need this to add custom managers and other extensions to backend.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561329 13f79535-47bb-0310-9956-ffa450edef68"
64dcf4cbe2b7d91cec82ced2a9067bb6b9a57567,"Spell it out: ""Email notification of comments?""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561331 13f79535-47bb-0310-9956-ffa450edef68"
e1ed21857f7d01720ee4060fcea59aaa9b8c6508,"typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561350 13f79535-47bb-0310-9956-ffa450edef68"
dc49831a3fc104c8c3abc97f425e9ef8c5dd3880,"Fix for email notification problems and:
http://opensource.atlassian.com/projects/roller/browse/ROL-1415

Fix is to only setup SMTP auth when username/password are provided.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561374 13f79535-47bb-0310-9956-ffa450edef68"
d804e48b69e1dd6bfb586a3199a0e4e2144273a1,"Allen's right (again, grrr...) , we've already got enough pluggabilty for custom managers and it's better to encourage folks to extend Weblogger instead of injecting arbitrary objects.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561427 13f79535-47bb-0310-9956-ffa450edef68"
83427e0de5e46b273f7b90e3b7919f531605ce71,"Correct style for entry edit field <td>

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561452 13f79535-47bb-0310-9956-ffa450edef68"
ebee287ed8a3e184eb3bf2abd4316b3b8b82da94,"Adding a new comment plugin for converting plain text links into html anchors and updating comment plugins to use an id field for tracking plugin usage rather than just using the plugin name.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561454 13f79535-47bb-0310-9956-ffa450edef68"
72734280dd3f011b34217141d746e4862c55122e,"User guide updates for Roller 4.0, still needs some attention

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561461 13f79535-47bb-0310-9956-ffa450edef68"
9356b8eac088ef9b5ff85d388081f7c88b261bf5,"Consistent formatting and added (DRAFT) to each doc pending further review

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561553 13f79535-47bb-0310-9956-ffa450edef68"
0c2bfad21e7e3178993c8619772f49b43a82ac32,"updated planet integration jar with changes from revision 559998 which fixes some logging items.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561565 13f79535-47bb-0310-9956-ffa450edef68"
1ebd7bae661d87974fdd778c1fc921e8d8a11284,"Removing Struts 1.2.4 from build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561832 13f79535-47bb-0310-9956-ffa450edef68"
ca47524a6eb45e1301fabe6e89b2e5f10b05d8f8,"Removing Struts 1.2.4 from build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@561833 13f79535-47bb-0310-9956-ffa450edef68"
e4b73c51808c8b218437d6b8a7597e7bcc7b6a50,"Fixes http://opensource.atlassian.com/projects/roller/browse/ROL-1395

Roller's AtomPub implementation again passes Tim Bray's Ape tests (pulled from Java.net CVS from Aug 5, 2007). Had to make a couple of fixes in media-link entry and resource handling.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@562965 13f79535-47bb-0310-9956-ffa450edef68"
120bf32b2df78c0a92f9da5ceebbe9f9c9e06b36,"Use name roller-version.properties instead of the too generic version.properties

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563280 13f79535-47bb-0310-9956-ffa450edef68"
c0883fd738260638b33afc67d993cff51a2e22b0,"Fixing old reference to version.properties

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563298 13f79535-47bb-0310-9956-ffa450edef68"
b028a0750fc4e6a27e1777292eb9c2d6428fed56,"need to apply link formatting plugin before other plugins to avoid formatting issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563342 13f79535-47bb-0310-9956-ffa450edef68"
ccc400a098690fe0c2acf79a11d9a38c8b9fa12e,"Upgrading to Struts 2.0.9, required changes to tiles.xml to bring it in line with final Tiles 2.0 schema

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563383 13f79535-47bb-0310-9956-ffa450edef68"
e9adbfb3b335452702a527e2fcb3251a2f84e4f2,"Upgrading to Struts 2.0.9, required changes to tiles.xml to bring it in line with final Tiles 2.0 schema

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563384 13f79535-47bb-0310-9956-ffa450edef68"
451119d2c9ea17d718011f920ffe5512fd42e7e0,"trim down top level nbproject to bare minimum

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563471 13f79535-47bb-0310-9956-ffa450edef68"
98f65a8004137fe9c39e4e47842ccafecb500ba5,"Fixes http://opensource.atlassian.com/projects/roller/browse/ROL-1508

Change init logging from System.out.println() to log.debug()

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563476 13f79535-47bb-0310-9956-ffa450edef68"
db5694bc8135d2d11f237c5bf2be1f8762c85885,"Fixes http://opensource.atlassian.com/projects/roller/browse/ROL-1509

NPE in preview, fixed by adding null check around requestParameters reference

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563482 13f79535-47bb-0310-9956-ffa450edef68"
5bbf799781fde17c79f729a3785933bdd063dad8,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1516

A regression introduced by Struts2 migration

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563531 13f79535-47bb-0310-9956-ffa450edef68"
bcb288ea79c95db022c30b211fe68c57d44fe144,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1497

Give installation pages their own tile so they can set appropriate page title.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563627 13f79535-47bb-0310-9956-ffa450edef68"
c015b51e6c2b7288726670031a4fec85152ccf34,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1516

Same fix but for Global Comment Management

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563653 13f79535-47bb-0310-9956-ffa450edef68"
34141810ca831c7bf4acd74251832dea2c9f77e3,"Partial fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1518

Adds the missing Comments[n] link back to the entry edit page so that you can manage the comments associated for each entry. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563715 13f79535-47bb-0310-9956-ffa450edef68"
5fa1df28fdf570adcf01a5f466ed93526fb65f43,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1513

Just fixed menu definition file, action already specified correct perm

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563717 13f79535-47bb-0310-9956-ffa450edef68"
daee34b8718f6e539889bd4f8263bd75803625b4,"Search doesn't work for me without this change, due to upgrade from Concurrent 1.3.2 to java.util.concurrent.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563732 13f79535-47bb-0310-9956-ffa450edef68"
81453ae4576561a22c092291df7f8830979c0c73,"Fixes http://opensource.atlassian.com/projects/roller/browse/ROL-1499

Ensure that entry is removed from search index when entry is removed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@563733 13f79535-47bb-0310-9956-ffa450edef68"
3f76605e41f14cf4060af29faf2f9888fd6c38d6,"formatting change only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564021 13f79535-47bb-0310-9956-ffa450edef68"
645f13d67e24ccccdb0fe248415eb67da39c1d8f,"Several fixes here for some old bugs and some new regressions related to the Struts2 upgade:
- When comments are deleted, the entries associated with those comments are re-indexed to remove the comment from the search index.
- When comments are approved, the entries associated with those comments are re-indexed to add the comment to the search index.
- When comments are approved and email notification is enabled, approval emails are sent out to the folks who commented.

Fixes these issues:

Comment cannot be searched after it is approved
http://opensource.atlassian.com/projects/roller/browse/ROL-1523

Deleted entry is still searchable
http://opensource.atlassian.com/projects/roller/browse/ROL-1499


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564207 13f79535-47bb-0310-9956-ffa450edef68"
24bc1854861f1e76c3f0927ec8b78a39ae86be62,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1419

Missing I18N in search form

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564389 13f79535-47bb-0310-9956-ffa450edef68"
5064d895b977f7e60da602adf60370c3f64c27f5,"Make it easier to include classes not under org.apache.roller.weblogger.ui in the build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564455 13f79535-47bb-0310-9956-ffa450edef68"
44d9401220358d4023ab578724693bdfee2e86c5,"Ensure comments that change in comments mgmt are reindexed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564586 13f79535-47bb-0310-9956-ffa450edef68"
1f2eef9a2b8d9791b9d27c64f98248fa126dc1fc,"Updated for new 4.0 package structure and boostrap

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564590 13f79535-47bb-0310-9956-ffa450edef68"
b01c4e1886511516582110cab37f93315d17a94d,"Fixes ""Drafts erroneously published if user hits enter while in title or tags field""
http://opensource.atlassian.com/projects/roller/browse/ROL-1525

There may be a more sophisticated fix that allows us to maintain the old button order, but the easiest fix here is to put the draft button first in the line-up.

I tried to disable the ""enter"" button entirely via onsubmit=""return false"" and postToWeblog() saveAsDraft() and submitForReview() methods, but the Struts2 <s:form> element changes that to ""return false; return true"", so I backed off to this more simple approach.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564654 13f79535-47bb-0310-9956-ffa450edef68"
c5f92fe7821e77b6ed4645103d5379ade69d887a,"Fix for:
""WeblogCalendarModel should use timezone setting of weblog consistently""
http://opensource.atlassian.com/projects/roller/browse/ROL-1515


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564661 13f79535-47bb-0310-9956-ffa450edef68"
507e7fe1f789a566b428342617600ed21a14de65,"Applying patch for:
""Allow jndi lookup of jpa emf""
http://opensource.atlassian.com/projects/roller/browse/ROL-1482

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564662 13f79535-47bb-0310-9956-ffa450edef68"
1d35cb3fc8f5109d8dd5bf3bed0123a03e561078,"Applying patch for:
""Minimalistic maven integration""
http://opensource.atlassian.com/projects/roller/browse/ROL-1527

""This patch roller_maven_ant_task_070810.patch (roller trunk #564549) enables deployment of the roller-weblogger.war file to a remote maven repository. Deployment is done via a new ant target (in the top level build.xml) by usage of the maven-ant-task.
After installing this patch and the maven-ant-tasks-2.0.7.jar (from http://maven.apache.org/download.html) into roller_base_dir/tools/buildtime/maven/ you will be able to deploy the war file by issuing 'ant mvn-deploy'. ""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564665 13f79535-47bb-0310-9956-ffa450edef68"
b4920f1eb33dfc5c5e69ce490e1ada8c51ce6604,"Fix for:
""JVM's default locale cause EntryAdd and EntryEdit set pubTime to updateTime constantly""
http://opensource.atlassian.com/projects/roller/browse/ROL-1528

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564669 13f79535-47bb-0310-9956-ffa450edef68"
70e4ee95d936a44cddafecd7353d874962de5062,"Docs updated for 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564947 13f79535-47bb-0310-9956-ffa450edef68"
0ce0ec320b03b51e10d69da0028b7002eb74f3c0,"Updating change list for Roller 4.0 RC1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564953 13f79535-47bb-0310-9956-ffa450edef68"
dc019d8f2a3268ea03e3e91bfc6274e14e7758aa,"Removing note about Hibernate since we no longer ship it

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564956 13f79535-47bb-0310-9956-ffa450edef68"
f0a188aa83d6fb0b4ca549f9d273c69bbd976e71,"New Roller installations should use encrypted passwords by default

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564959 13f79535-47bb-0310-9956-ffa450edef68"
2352d6d1f954b7a5147c76880f9530f4c329d1d1,"Couple of bootstrap fixes needed for tests

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@564964 13f79535-47bb-0310-9956-ffa450edef68"
7a148e2197a9f0b382525991f9037411b8ffad96,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1119

Moved error pages from /WEB-INF/errors to /errors

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@569123 13f79535-47bb-0310-9956-ffa450edef68"
961064c87ea43f127a9a5d93bd1d97c2ec47df27,"Fix for ""Unexpected Exception occurs when user clicks decline to join a group weblog""
http://opensource.atlassian.com/projects/roller/browse/ROL-1552


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@573694 13f79535-47bb-0310-9956-ffa450edef68"
28430993385005c104f75b1afb23ff26b4e31355,"Fixes for some MySQL 1.3 to 2.0 upgrade problems found by Eric Wittle:
http://opensource.atlassian.com/projects/roller/browse/ROL-1536
http://opensource.atlassian.com/projects/roller/browse/ROL-1538

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@573871 13f79535-47bb-0310-9956-ffa450edef68"
73675670a865397bfebcf9ae997eecb8948992ae,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1541


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574102 13f79535-47bb-0310-9956-ffa450edef68"
b3e85f619adffb5b0b653082dbbabf90ff900a5c,"Working around apparent OpenJPA bug in delete of entry with referrers.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574378 13f79535-47bb-0310-9956-ffa450edef68"
069cdbfba8ac8c87944c4241fcc1c860f181b9bb,"Can't drop columns in Derby versions < 10.3 so let's drop the subscription ID later

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574421 13f79535-47bb-0310-9956-ffa450edef68"
e762bbbaa6284e4816a4e111db2c3ab5c9cddf61,"'drop table if exists' doesn't work in Derby

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574439 13f79535-47bb-0310-9956-ffa450edef68"
40c430086a9d4166c15090553da2744d83bbbb2a,"Fixes for http://opensource.atlassian.com/projects/roller/browse/ROL-1548

Multiple problems with database upgrade process, regression introduced by final changes to bootstrapping process and last couple of features added in 4.0.

Upgrade from 2.0 to 4.0 tested with Derby
Need to test with PostgreSQL and retest with MySQL


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574446 13f79535-47bb-0310-9956-ffa450edef68"
0bb91a359d96ca42e81b7895903fb987b61c2029,"Change wording of Weblog Client API option to ""Enable weblog client support""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574561 13f79535-47bb-0310-9956-ffa450edef68"
2051866cbed7186b65b82a1efd42333c18314367,"Fixes for http://opensource.atlassian.com/projects/roller/browse/ROL-1559

Fixing createdb.sql so that it works with Oracle
Changes suggested by Boris Miliki?

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574598 13f79535-47bb-0310-9956-ffa450edef68"
cf5efba2f72c245e1540b64ac490e6f058cb113e,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1562

Eliminating reference to non-existant Javascript validate() method


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574615 13f79535-47bb-0310-9956-ffa450edef68"
97ebdaec38353458e68b4bd0e4b689b08b054e04,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1561

Fixes some broken URLs in the theme preview.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574619 13f79535-47bb-0310-9956-ffa450edef68"
2f9905e59cd8168da7e8fe585eedfc9e86ec5a6c,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1542
""resource path in i18n directory or filename""

Tested with Chinese chars in directory name and in file name.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574623 13f79535-47bb-0310-9956-ffa450edef68"
473439d93189829f775a80bd55b6d66c0eea87ce,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1542
""resource path in i18n directory or filename""

Tested with Chinese chars in directory name and in file name.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574625 13f79535-47bb-0310-9956-ffa450edef68"
fbbf0e050cf06ad7459b0c02f569fff964b0a17a,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1560
""RAP broken in 4.0"" - fixing problems caused by move to JPA, RAP tests work 100% now. Also fixed example Groovy scripts that call RAP.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574744 13f79535-47bb-0310-9956-ffa450edef68"
9f865ba77c548937638d5c13d34be12182f4e058,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1560
""RAP broken in 4.0"" - fixing problems caused by move to JPA, RAP tests work 100% now. Also fixed example Groovy scripts that call RAP.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574745 13f79535-47bb-0310-9956-ffa450edef68"
36cb9c8f73a720c626e157d56586d0a849678151,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1533
- now uses multiple <accept> elements for resource collections

Tested with latest Ape (pulled from CVS today) and found no errors.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574748 13f79535-47bb-0310-9956-ffa450edef68"
410b2e86462a08e7c69dca00dd1c51c716f73c76,"Fix for NB project, <web-inf> no longer needed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574893 13f79535-47bb-0310-9956-ffa450edef68"
95ce1257afaa1c47f2f874b4717df318cc573fd7,"Planet init needs flush

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574914 13f79535-47bb-0310-9956-ffa450edef68"
71aa68dd009b45f5caedff85a0b7e1c5a07fb832,"Code formatting and import cleanup only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574952 13f79535-47bb-0310-9956-ffa450edef68"
ce53c8b70cfe76f8fcf390113b9442d3c94b7d1f,"Fixes for Roller's Planet aggregator:
- Use correct handle for default planet in PlanetEntriesPager and in DB migration script
- By default, include PlanetModel in site wide models
- Fixed broken propeties init in JPA version of PlanetImpl
- Added missing Planet Config I18N strings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574957 13f79535-47bb-0310-9956-ffa450edef68"
001e222fdaa9598200c06352e580dd21f4447819,"Fixes for http://opensource.atlassian.com/projects/roller/browse/ROL-1563
""Errors in postgres migration script from 3.1 to 4.0""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574968 13f79535-47bb-0310-9956-ffa450edef68"
370b21628d668855f2c314943d3ddb68375ff999,"Need to drop indexes in all cases

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574976 13f79535-47bb-0310-9956-ffa450edef68"
afc45a7dbc1cd24cfab372f75e261ca7e64ce85f,"Formatting changes only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574980 13f79535-47bb-0310-9956-ffa450edef68"
0214ef76383085ae0dc465b199866c1cfcd4b02e,"Formatting changes only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574991 13f79535-47bb-0310-9956-ffa450edef68"
21e5c76d02526a402be5d64ce7435b6c9fa2d42e,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1540
""Deleted Entries are still visible on the Weblog to non - authenticated users (not logged in state).""

We weren't updating the weblog's last-modified time on remove-entry, so the cache still thought the page was still up to date.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@574995 13f79535-47bb-0310-9956-ffa450edef68"
978a016d88d4ada1f60d3c1c9d19c25ddff0d8a5,"More fixes for http://opensource.atlassian.com/projects/roller/browse/ROL-1548


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575399 13f79535-47bb-0310-9956-ffa450edef68"
c6b89fbb6864e06943cbabb7a201f8c4851e06f3,"Ensure that theme files are copied, regardless of the allowed upload file-types and upload quotas.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575971 13f79535-47bb-0310-9956-ffa450edef68"
a5b4775b1ccb051494ee7a9c0b552b84a816a8a7,"Tighten up the default logging setup, INFO for Roller and WARN for everything else.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575972 13f79535-47bb-0310-9956-ffa450edef68"
b3a4e07018ca4bf3fae9aaaba48869cb2e1e7358,"Don't pollute top-level with /errors.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575973 13f79535-47bb-0310-9956-ffa450edef68"
c6b56bbeac51eebf8e27d9cdfe0949aaabb6441d,"Don't complain about bad config value unless value is set

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575974 13f79535-47bb-0310-9956-ffa450edef68"
9967fd1f1999328cc6edcab13e0d04daed21c21b,"Commenting out compression filter and move error files under /roller-ui/errors

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@575985 13f79535-47bb-0310-9956-ffa450edef68"
36edcc4efc64c239ac6ea94fb41d13f4ba14168f,"hopefully the last of the JPA immutable result set bugs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576022 13f79535-47bb-0310-9956-ffa450edef68"
bf5585aa2daf9eef60d41c62d5f9d434947587bc,"the correct handle for the default planet is Roller is 'default' and NOT 'zzz_default_planet_zzz'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576023 13f79535-47bb-0310-9956-ffa450edef68"
a33e5e7dac82c20dc124465d00d32974bf32dd77,"couple more of those immutable JPA result set bugs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576025 13f79535-47bb-0310-9956-ffa450edef68"
ce5554d0228e1f3b9d0809e61c737cb63594c5e0,"Fixing broken feed servlet

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576107 13f79535-47bb-0310-9956-ffa450edef68"
9652459bc8c3efe17c171b5b7b428acf4fe8bbcc,"Planet feed servlet was completely broken

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576116 13f79535-47bb-0310-9956-ffa450edef68"
4a7ce215c09fa1d7454799551d0dde10ec10f3d3,"Fixing broken outline numbering

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576121 13f79535-47bb-0310-9956-ffa450edef68"
8261f395a34bccff6a97afa2ebefb5a24128799f,"couple of tweaks to the Groovy populate database script

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576125 13f79535-47bb-0310-9956-ffa450edef68"
bf04153329c09fe870924b3685eafa245aa7acc7,"no longer need separate HIbernate bundle

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576126 13f79535-47bb-0310-9956-ffa450edef68"
9622a7903319f42963010e0d3a80b318298c5432,"final preps for 4.0 RC2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576127 13f79535-47bb-0310-9956-ffa450edef68"
fc17debe5709990ed2d3b2a4e92312a30429b65b,"Fixing typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576129 13f79535-47bb-0310-9956-ffa450edef68"
5967bba85f52a54e37c140b1af941df721b8a583,"Fixing subscription compare and JPA enhancement

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576242 13f79535-47bb-0310-9956-ffa450edef68"
94cdd36a715c82105e4771b37aa100b148aaca98,"Fixing another JPA removed object bug

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576243 13f79535-47bb-0310-9956-ffa450edef68"
f77e21e7c5c273c15355e0f2fd60c7016cec2bc7,"Adding priority column to bookmark display

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576244 13f79535-47bb-0310-9956-ffa450edef68"
1cee9061c0aea5fb927774b605073e4ae3c5e7fc,"Tests didn't like that does-perm-already exist check, so I'm nuking itand cleaning up openjpac usage

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@576438 13f79535-47bb-0310-9956-ffa450edef68"
76690235b8e301cd95a3234e5157cbbc98c2908f,"Fix for Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1566
 
From Matthew Mongomery, thanks!""



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@577964 13f79535-47bb-0310-9956-ffa450edef68"
a637ebad032450c8e30e2f09290ba11a94f4f05e,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1569 - null bytes in database create scripts

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@577981 13f79535-47bb-0310-9956-ffa450edef68"
8c42f8315f6dcbef211799ecaf733ee335225267,"Fix for http://opensource.atlassian.com/projects/roller/browse/ROL-1568 - trim property values on return

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@577985 13f79535-47bb-0310-9956-ffa450edef68"
df83f7d46046db5f6062fa768ceea4b6ebe8f90f,"Removing an unused variable - found by FortifySoftware's Java Open Review

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580233 13f79535-47bb-0310-9956-ffa450edef68"
334d9705a680b251ea776774527606bf36d13c61,"Another unused variable, and a duplicated variable definition

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580234 13f79535-47bb-0310-9956-ffa450edef68"
bf9328492755aa3394a58d48f817189ff3f3ef92,"Do not attempt to drop columns that may not exist (yet), also: added better error reporting for database create/upgrade

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580595 13f79535-47bb-0310-9956-ffa450edef68"
e7926d79c872bcced7421fa1160e89ee02c3cb51,"correcting path to denied page

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580716 13f79535-47bb-0310-9956-ffa450edef68"
f1af4564e96f9691941a973e36d828bd48ad6b1e,"Applying patch for http://opensource.atlassian.com/projects/roller/browse/ROL-1570 missing semi-colon

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580777 13f79535-47bb-0310-9956-ffa450edef68"
e99a9606eb6b287e08f49b7e95ce4b2d4e7f7f30,"ensure that website.datecreated is not reset to current time by update

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@580817 13f79535-47bb-0310-9956-ffa450edef68"
2bf8c3181708fff142f7d18e96dc9fd1cc7a8ceb,"Fixes to source release for RC5, sigh

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@581100 13f79535-47bb-0310-9956-ffa450edef68"
f179a19cd370203b19b2c9fb1dfc7a43bf5caa61,"Do not build or include Hibernate code or deps

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@581436 13f79535-47bb-0310-9956-ffa450edef68"
61ea4127c5368c4976c8cac9130979bfa6f7da52,"Fix for podcasting http://opensource.atlassian.com/projects/roller/browse/ROL-1573

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@581437 13f79535-47bb-0310-9956-ffa450edef68"
f69bfacc78c454b75358d7af4ff56aa9cc91ac76,"RC6, sigh

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@581441 13f79535-47bb-0310-9956-ffa450edef68"
2ff4a2b7f56b5d3771ebb47c32e894a440878dd1,"Removing my name/link from the default links

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@581496 13f79535-47bb-0310-9956-ffa450edef68"
6af723c0ac56dd6df646a2132da6928846bcd1aa,"handle encrypted passwords in RAP

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@582025 13f79535-47bb-0310-9956-ffa450edef68"
15f97627f62f491ed81bc2032ee2fb2e402cf912,"Removing incorrect reference to mail.hostname, reported by Anil

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@583899 13f79535-47bb-0310-9956-ffa450edef68"
c55a4c4eda5e57742e312b98e5995ed3ea7e3d80,"Fix to prevent upgrade from resetting comment posttimes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@583914 13f79535-47bb-0310-9956-ffa450edef68"
5d8012752e74c9f8a461438ac321253608d65626,"More friendly message on custom style sheet page

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@583917 13f79535-47bb-0310-9956-ffa450edef68"
d6eaa043680814b872f41b22ea71818cb99ed485,"Fixing a couple more attempt to use deleted object bugs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@583952 13f79535-47bb-0310-9956-ffa450edef68"
ad719dc4832812118e0c940b0344f76fe8187048,"Couple of tweaks to client APIs:
- Only include blogs that are client API enabled in lists in Blogger API getBlogs() 
- Only include blogs that are client API enabled in lists in AtomPub service doc
- Throw correct Apache XML-RPC exception on login failure 


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@584210 13f79535-47bb-0310-9956-ffa450edef68"
ce24c66a14f0dd21b98f28b80bdf88c6453b06a0,"RC8
 time

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@584765 13f79535-47bb-0310-9956-ffa450edef68"
1d1cc7e3b4dc8cb86c44a74faaa7fe03f537e3e3,"New AuthoritiesPopulator that uses backend instead of direct JDBC.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587368 13f79535-47bb-0310-9956-ffa450edef68"
27be177184563b9241e677ff5e8a09419ca36e34,"Fixed AuthoritiesPopulator for LDAP

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587386 13f79535-47bb-0310-9956-ffa450edef68"
7cf9865552db7d22a1dedc3dce00d0e5dae1d814,"Updated LDAP configuration to use Spring 1.2 syntax

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587388 13f79535-47bb-0310-9956-ffa450edef68"
3adeeb4fa53bd124adebf79a778aa87ace3f58f3,"ROL-1582: Added RollerCasPopulator that allows Roller to integrate with CAS more easily

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587514 13f79535-47bb-0310-9956-ffa450edef68"
0009c7c3f31bcc6592f14ff2ac081f5728810cbd,"ROL-1583: Added CAS settings so it's easier for users to integrate CAS with Roller

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587518 13f79535-47bb-0310-9956-ffa450edef68"
f8ee1ac34305fd1ca8da4a6c3afa764426984b55,"Added @author tag for Phillip Rhodes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587534 13f79535-47bb-0310-9956-ffa450edef68"
af2707f175440ebbce02a5ca2c24c8dc37ca02cb,"XML-RPC uses HashMap not Hashtable

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587760 13f79535-47bb-0310-9956-ffa450edef68"
871065868ff6dece9adad3ad497a7bcf33cc3edc,"Fixing reference to RefreshPlanetRollerTask

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587765 13f79535-47bb-0310-9956-ffa450edef68"
9e5aec633259f03065b85ca6a26140da72d30feb,"Fixing reference to mail.hostname

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587766 13f79535-47bb-0310-9956-ffa450edef68"
d4e5d17571612b7e1e405bf8a2e43b5a0880b75b,"Fixing reference to mail.hostname

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587767 13f79535-47bb-0310-9956-ffa450edef68"
fc866092a147d9043fcffe6c6eaf65b6519b599c,"Fix for ROL-1585.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@587921 13f79535-47bb-0310-9956-ffa450edef68"
b96e060d2119c5ad625deaeb65593769b6a82fab,"adding correct 4.0 bootstrapping code

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@588331 13f79535-47bb-0310-9956-ffa450edef68"
e68f695e581d5d96f53fd8a934b56fcc2a7dfaba,"Now lists users weblogs again

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@588506 13f79535-47bb-0310-9956-ffa450edef68"
5d33abfbb4828d8e941b9fa5e7284f75dbdd72c8,"Use correct handle for default planet

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@588519 13f79535-47bb-0310-9956-ffa450edef68"
3e5973982535515fad58ef2007f93cd13b154001,"Fix for incorrect feed update element values in site-wide feeds
http://opensource.atlassian.com/projects/roller/browse/ROL-1587

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@589603 13f79535-47bb-0310-9956-ffa450edef68"
d69f9d88f34a76a81282c5ab5e8872eb42fcbf94,"Can't put comments inside of comments

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@589628 13f79535-47bb-0310-9956-ffa450edef68"
68118657b7706412a9b4f3a22ac9dc48e5ef4bb5,"Updating example plugin for 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@593907 13f79535-47bb-0310-9956-ffa450edef68"
182d854ce06cb406546c39f475372dc24f918a79,"Updating example task runner script for 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@593908 13f79535-47bb-0310-9956-ffa450edef68"
fdef1a12d54437db7863eac4ef01797c1b458591,"Making Groovy and GSP renderers work with 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@593995 13f79535-47bb-0310-9956-ffa450edef68"
f1dc220756fe16cc801887a8289898d36ae09c4e,"Removing erroneous # that was preventing list of user's weblogs from appearing

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@596531 13f79535-47bb-0310-9956-ffa450edef68"
409bfc0f8182c97a1805d00f966c031e28483c8e,"Fix for ROL-1609
""Default plugins not applied with post created via MetaWeblog API""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@596533 13f79535-47bb-0310-9956-ffa450edef68"
0cf2780fca2a57d3d0ee83b1400122620538461c,"Patch from David Jencks to improve Maven publishing portions of build process.
http://opensource.atlassian.com/projects/roller/browse/ROL-1613

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@596805 13f79535-47bb-0310-9956-ffa450edef68"
54c0fabd32f5c0c8c49c9363add0cf2d98354cc0,"Code reformat, no substantive change (and it's in sandbox, so no impact on release)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@596807 13f79535-47bb-0310-9956-ffa450edef68"
47e1d0705ca598371d53bbc17f74d738880ef2c7,"final preps before release RC10

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@596809 13f79535-47bb-0310-9956-ffa450edef68"
58430cd2138303aab9abce9ec27d9f6b8ed42fbe,"Merging Roller 4.1 branch into trunk.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@598312 13f79535-47bb-0310-9956-ffa450edef68"
65d660cffd6540be3ebf059a9e8860e090bf2bd6,"Merging Roller 4.1 branch into trunk.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@598319 13f79535-47bb-0310-9956-ffa450edef68"
b95026f175ff9e18a9640affe103baca1d52f32a,"Quieter warning when lock can't be released, but full stack dump w/debug enabled.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@600991 13f79535-47bb-0310-9956-ffa450edef68"
3b8e379d32ef08ae3d39b00f4fab8848c66d078a,"Adding a mirror-smart download page for the roller.apache.org site.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601197 13f79535-47bb-0310-9956-ffa450edef68"
94f5e8aa496cf5f5c3225ee91ba744acf2dc8fd5,"Adding link to the what's new page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601199 13f79535-47bb-0310-9956-ffa450edef68"
a447b7143f992b8838b90d6c792ce64be312f185,"CGI script wrapper for mirrors.cgi


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601200 13f79535-47bb-0310-9956-ffa450edef68"
e4559c90c2a650c5fdf810d0f5d435e24a3baa3c,"CGI script wrapper for mirrors.cgi

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601202 13f79535-47bb-0310-9956-ffa450edef68"
8077bba8a03a009fa2a5721a4b04b43c61e3427a,"Correcting doc links.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601203 13f79535-47bb-0310-9956-ffa450edef68"
fde28ecf06f34978a6b7eb0c32ceeaf671ea00dd,"redundant words in title

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601327 13f79535-47bb-0310-9956-ffa450edef68"
0ecd949f7f628c1b19dac62ce1639123d5c7283c,"oops, misplaced files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601330 13f79535-47bb-0310-9956-ffa450edef68"
26180440bca6c55217635592be57822f0a142a14,"more tweaks, adding HOME link

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601333 13f79535-47bb-0310-9956-ffa450edef68"
fc590894bbff5745fe3e0b60b5a17559128a0f9a,"Removing some extra spaces

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601334 13f79535-47bb-0310-9956-ffa450edef68"
095df076488be8c97a55f96ea4b1fc3f086ec364,"Removing some extra spaces

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@601350 13f79535-47bb-0310-9956-ffa450edef68"
115f52d00d526980002e98b47c950aad35478145,"All entries must have locale

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@603946 13f79535-47bb-0310-9956-ffa450edef68"
5db4027848ae2b684bf7e8761da2165cff03667f,"Adding link to release notes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@604026 13f79535-47bb-0310-9956-ffa450edef68"
9dcf27b3c86bab1a93be2c57061b8b287fccb56e,"Fixing path to src download

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@605423 13f79535-47bb-0310-9956-ffa450edef68"
4f0fa7c2ce1b02fc2e5f3fa6fd3fbfb55715142c,"Fixing path to src download

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@605424 13f79535-47bb-0310-9956-ffa450edef68"
05f0ddf68ba0d2c8a4dd0d2e985129f7a54c83e3,"Slovenian resources from Boris Miliki? (ICLA on file)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@605540 13f79535-47bb-0310-9956-ffa450edef68"
ee6815dc4c23ed1716f1c8e32cb22c0c9c968069,"removing stray log file from SVN

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@614348 13f79535-47bb-0310-9956-ffa450edef68"
24a736a8eb13df026989c3fc80a9fc82f116d3c8,"Changing references to rollerweblogger.org to roller.apache.org

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@614419 13f79535-47bb-0310-9956-ffa450edef68"
96e6e47840e31aea13806d045b803065f0d3d6f2,"Updated Slovenian resource file from Boris Milikic, see ROL-1648)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620387 13f79535-47bb-0310-9956-ffa450edef68"
ff6bd1f458d1fd67ea20eda810bbe357e06cd7c0,"'98% complete' Danish translation from Jens Ebbe Thomsen, see ROL-1661

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620388 13f79535-47bb-0310-9956-ffa450edef68"
c7111e21228964ae3037b28886de26ec2dbfda91,"Fixing typo in comment, see ROL-1654

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620389 13f79535-47bb-0310-9956-ffa450edef68"
65c562d6a20c74c80b1b6076c6006022f5011667,"Merging fix for ROL-1644 to trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620509 13f79535-47bb-0310-9956-ffa450edef68"
3f55a0d5a622df4432fed3df84d44aff0a6d1ddd,"Fix for ROL-1675: cannot delete planet groups
http://opensource.atlassian.com/projects/roller/browse/ROL-1675

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620545 13f79535-47bb-0310-9956-ffa450edef68"
6d15844728c6a3e485adb74b50117e917de75171,"Fix for ROL-1655: enclosure URLs should be escaped
http://opensource.atlassian.com/projects/roller/browse/ROL-1655

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620550 13f79535-47bb-0310-9956-ffa450edef68"
9b2be5a3b05b48014450ede00de17681f9026b9b,"Fix for ROL-1665: Site Model methods should accept WeblogWrapper args
http://opensource.atlassian.com/projects/roller/browse/ROL-1665

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620556 13f79535-47bb-0310-9956-ffa450edef68"
ca4cfb2e4f1caece0e979c0d32db0dc7fca950f2,"Fix for ROL-1666 cannot disallow custom themes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620621 13f79535-47bb-0310-9956-ffa450edef68"
3a591165313c39aa6becb5114c216fc3c88b8040,"Updating with fixes since 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@620648 13f79535-47bb-0310-9956-ffa450edef68"
9c9aeb1899614309cfafc2e2c13c4c187a1e38b2,"Reverting mistaken commit

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@627422 13f79535-47bb-0310-9956-ffa450edef68"
37e604bea2074f3bd893dcbcf10d77c9dd44ce6b,"Reverting mistaken commit

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@627424 13f79535-47bb-0310-9956-ffa450edef68"
c479d26123922cbe4a74f877258af7bc5d819e0b,"Commit for ROL-1679: Xinha editor returns wrong id
http://opensource.atlassian.com/projects/roller/browse/ROL-1679

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@627930 13f79535-47bb-0310-9956-ffa450edef68"
5e3e7dfeccb7eb058a4fe352442ea199bd1be423,"Reverting to 'editor-rte.jsp' ID and adding note about historical reason for this ID.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@628369 13f79535-47bb-0310-9956-ffa450edef68"
dd6094e02ea3126d5897d8a0c0c8f77c9cb6a7f3,"Adding some missing Javadoc package.html files, plus a couple of doc fixes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@630525 13f79535-47bb-0310-9956-ffa450edef68"
6665d58d7d852218115ff789206faee7de5094b4,"Updating to reflect fact that AtomPub is final and we're now using ROME Propono for implemenation.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@630527 13f79535-47bb-0310-9956-ffa450edef68"
4b6915145c641b295aabf7246122cf3368f5b33f,"Couple more Javadoc tweaks

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@630537 13f79535-47bb-0310-9956-ffa450edef68"
112ffae0ae6077cb0b913c12f840b1ff9fad2f7f,"Adding data model diagram

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@632796 13f79535-47bb-0310-9956-ffa450edef68"
3139afc7533c2ed480d4e15a56c8271e9692d086,"Fix for ROL-1664:
   https://issues.apache.org/roller/browse/ROL-1664

Removes unnecessary property from roller.properties
And makes suggested corrections installation guide.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645139 13f79535-47bb-0310-9956-ffa450edef68"
7b832292a7a1249351d9950d194f5eecd5bc2790,"Fix for ROL-1701:
   https://issues.apache.org/roller/browse/ROL-1701

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645142 13f79535-47bb-0310-9956-ffa450edef68"
827239da7575c01c4a245a7651cd6e2bca178449,"Fix for ROL-1693:
    https://issues.apache.org/roller/browse/ROL-1693



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645144 13f79535-47bb-0310-9956-ffa450edef68"
7a3385d4de3b98d799bcb8597eb896ce7aec8792,"Fix for ROL-1688:
    https://issues.apache.org/roller/browse/ROL-1688




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645145 13f79535-47bb-0310-9956-ffa450edef68"
5c13e3c9f3d808bb62ca7f5b02a6ff587eb15712,"Fix for ROL-1686:
    https://issues.apache.org/roller/browse/ROL-1686




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645148 13f79535-47bb-0310-9956-ffa450edef68"
72351a6cf3fe70b4096fe12d19ef746d43597a53,"Fix for ROL-1700:
    https://issues.apache.org/roller/browse/ROL-1700




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@645151 13f79535-47bb-0310-9956-ffa450edef68"
5a48c3bede42644b8b7dc418ca6d451ea03fecbc,"New Slovenian resources, see https://issues.apache.org/roller/browse/ROL-1710

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@649850 13f79535-47bb-0310-9956-ffa450edef68"
01582bc6699af246afb8fa73ac398e9c0f0118a1,"correcting ROME jar reference

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@649852 13f79535-47bb-0310-9956-ffa450edef68"
7a1b4d473c773722557968280ee4af33d54642c1,"Fix for https://issues.apache.org/roller/browse/ROL-1705

Design tab not shown, a regression

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@649854 13f79535-47bb-0310-9956-ffa450edef68"
a88759033f25bced264b55c892410abdbb230560,"Hooking in 4.1 upgrade script, making it work with MySQL

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@657229 13f79535-47bb-0310-9956-ffa450edef68"
672a6b45693d0a4d2a78767bb725070fc284f55e,"Related to Externalize User Management implementation:
https://issues.apache.org/roller/browse/ROL-1534

For use in CMA setups that do not use JDBC realm, to allow Roller to control assignment of user role instead of having those come straight from the realm. Not included in Roller's web.xml, but you can add it if you need it.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@657368 13f79535-47bb-0310-9956-ffa450edef68"
6c4f05746f0451d44e02b629af59304bc457db3a,"Related to Externalize User Management implementation:
https://issues.apache.org/roller/browse/ROL-1534

Fixes to allow ""auto-registration"" logic to work in a CMA setup where only user info comes from request.getUserPrincipal() and Acegi not available.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@657369 13f79535-47bb-0310-9956-ffa450edef68"
ba27db69d208d9a6974dc2434d0e129eb653521a,"Correcting references to HTTPClient and ROME Propono

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@662260 13f79535-47bb-0310-9956-ffa450edef68"
b90e7005d76357ad173307178430c0b911e7731b,"ROL-1723: Upgraded to Spring Security 2.0.1. Still need to put test LDAP and CAS and put proper configuration in security.xml.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@663640 13f79535-47bb-0310-9956-ffa450edef68"
eb9338b06595c7a6a0a6325a84ac6530456ceb56,"Seems I forgot to checkin Spring 2.5 (blush)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@668034 13f79535-47bb-0310-9956-ffa450edef68"
5a204826458313c8b5830804ed816bd70d9cd687,"Fixed Spring dependency

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@668052 13f79535-47bb-0310-9956-ffa450edef68"
21e87abb44bf971706933b4318f26cc88524ad63,"Fix for injection problem in search.  HTML is removed and remaining XML escaped before returning the term.  The original raw term is still accessible using the property ""rawTerm"".

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@668737 13f79535-47bb-0310-9956-ffa450edef68"
79f6afa653677364515f287effc2aa25cd946abb,"Applying patch for ROL-1722
https://issues.apache.org/roller/browse/ROL-1722

Changing display name of frontpage theme to 'Frontpage'Applying patch for ROL-1726
https://issues.apache.org/roller/browse/ROL-1726

Fix for NPE when deleting subscription with ampersant in URL

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@669156 13f79535-47bb-0310-9956-ffa450edef68"
87366dd8a02617ebc251723635388caac4e22c2a,"Applying patch for ROL-1722
https://issues.apache.org/roller/browse/ROL-1722

Changing display name of frontpage theme to 'Frontpage'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@669157 13f79535-47bb-0310-9956-ffa450edef68"
d2d0a1ec87e58f078b003df822d8c0cde8bb9b43,"Adding Spring 2.5 jars to Netbeans project file

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@673397 13f79535-47bb-0310-9956-ffa450edef68"
ec7c4c5522a3ce70d86a637413cf375a3ce72f69,"Using SQL-92 form of concatenation for all databases except MySQL

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@674322 13f79535-47bb-0310-9956-ffa450edef68"
f0b80ab7b17996e9f1cd821962dff7ac15919a58,"fixing bug in get entries by creator username query

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@677295 13f79535-47bb-0310-9956-ffa450edef68"
eacb54b33eace14995b47fe114329933607de220,"Testing with ROME v1.0RC1. Found another JPA remove issue.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@678317 13f79535-47bb-0310-9956-ffa450edef68"
b3ae6e7050bba7c256ef6700fcd0fa13bac5e3f8,"Testing with ROME v1.0RC1. Improved error message for invalid post in getpost method.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@678318 13f79535-47bb-0310-9956-ffa450edef68"
e83403af18106e53a4586f74ce07c5619ac4e891,"OpenID implementation, as described in this proposal:
   http://cwiki.apache.org/confluence/display/ROLLER/Proposal+OpenID+Support

And in this JIRA issue:
   https://issues.apache.org/roller/browse/ROL-1733


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@695328 13f79535-47bb-0310-9956-ffa450edef68"
7af1ac478e31ad7a2c900f89d2681b4c07a42d7e,"OpenID implementation, as described in this proposal:
   http://cwiki.apache.org/confluence/display/ROLLER/Proposal+OpenID+Support

And in this JIRA issue:
   https://issues.apache.org/roller/browse/ROL-1733


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@695329 13f79535-47bb-0310-9956-ffa450edef68"
902ea1601ddac707d5451141590d56725d96efff,"Oops... deleting log file that I included. Also, renaming NB project to ""roller_weblogger_trunk""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@695337 13f79535-47bb-0310-9956-ffa450edef68"
56bfb6ff90ae8c4a8d0c5c5521df356b5e4d2b21,"Adding example CMA configuration, commented out and at the end of the file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@699972 13f79535-47bb-0310-9956-ffa450edef68"
72b082fc5dc0d7b4263f3f8db6b306eeb60acd07,"Import cleanup

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@703822 13f79535-47bb-0310-9956-ffa450edef68"
17e3402e6404287ccbd5fbe0cfe1294f366c72f1,"Fix for https://issues.apache.org/roller/browse/ROL-1706

Removing entry does not flush the cache.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@703824 13f79535-47bb-0310-9956-ffa450edef68"
903930f518875ca6181ea28fcc60840b65c33907,"For https://issues.apache.org/roller/browse/ROL-1641

Added note about Remember me (up to two weeks)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@703825 13f79535-47bb-0310-9956-ffa450edef68"
701f0e619736981dbed903cc303ab9c9c14fb0e8,"Fixes defective image reported in ROL-1753
   https://issues.apache.org/roller/browse/ROL-1753



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@703836 13f79535-47bb-0310-9956-ffa450edef68"
f62952a829a88c55819e3b79246a97ea95a51909,"OpenID should be disabled by default

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@703838 13f79535-47bb-0310-9956-ffa450edef68"
e10ff1f56d448208def7b5cbd8e91d0e34a007b0,"Move URL strategy to  business package where it belongs
https://issues.apache.org/roller/browse/ROL-1750


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@704302 13f79535-47bb-0310-9956-ffa450edef68"
68f44187473a671e02bc9b23aca04633484e5aa9,"branch for implementation of media blogging proposal

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@713069 13f79535-47bb-0310-9956-ffa450edef68"
ed3b167abb92655bc9549bf04d1adc6e9c8a988c,"Fix asc signature file links.  Make it clearer what they are.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@718065 13f79535-47bb-0310-9956-ffa450edef68"
c7b94280285711c74d05d2eefc7aa9b5858d2ac5,"Fix asc signature file links.  Make it clearer what they are.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@718068 13f79535-47bb-0310-9956-ffa450edef68"
ce77063ec9e0deb57b841157f93df32a031af1a9,"Actually fixed the .asc file links.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@718069 13f79535-47bb-0310-9956-ffa450edef68"
148cc535d8325a258f6d4c22e676978922df6391,"The visible text of the src zip link was incorrect and fixed.  The nbsp refs I had introduced in the download.xml were causing unknown entity problems in the build.  I couldn't figure out how to apply the apache-site.dtd without having it strip out much of the content, so I removed the nbsp refs.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@718648 13f79535-47bb-0310-9956-ffa450edef68"
218e7d3a6428f3f4a5ecd0ccce4ac6dab81129ba,"Flush within the registerLease() and unregisterLease() methods.  Correct TaskLockTest.  NOTE:  this commit may expose ROL-1760 on unit tests run on Oracle and Postgres.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@724008 13f79535-47bb-0310-9956-ffa450edef68"
bc2fcf3c397cd6dde389d7b1afeaf263e0575f5d,"Addresses issue ROL-1634
https://issues.apache.org/roller/browse/ROL-1634

Fixing error messages for uploads
- Made file managers's canSave() method public so Resource action can call it
- Made Resource action report messages from canSave() per file



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@724139 13f79535-47bb-0310-9956-ffa450edef68"
fcbd13faf1cf841c6d4e9b58dd38bf0a2be946a0,"https://issues.apache.org/roller/browse/ROL-1631

Setting max Struts upload size to 1 billion bytes
Roller's max upload setting remains in place at 1M bytes


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@724140 13f79535-47bb-0310-9956-ffa450edef68"
128a9514bca4526aca9ff596043f236ac1a17c57,"Applying patch from Ganesh:
   https://issues.apache.org/roller/browse/ROL-1764


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@724145 13f79535-47bb-0310-9956-ffa450edef68"
964699359bfc99b53ad7d16612703edffda0805f,"Fix for ROL-1642
https://issues.apache.org/roller/browse/ROL-1642

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@730036 13f79535-47bb-0310-9956-ffa450edef68"
d4b9297e1234685f53414ccc5c7683b13f1893b2,"Updating for 4.0.1 release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@734003 13f79535-47bb-0310-9956-ffa450edef68"
5f7b53eab465cdb0b8594e156eb8514df28ffabb,"Updating for 4.0.1 release. Fixing some typoes. Gack!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@734165 13f79535-47bb-0310-9956-ffa450edef68"
b28500066acd429f518421dd99da242aa397c317,"another tweak. at some point, I'll get this right :-\

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@734184 13f79535-47bb-0310-9956-ffa450edef68"
1306add07a8be216d18b4c47a5c4e837c6aa3b23,"Attempting to reduce confusion for those who wish to build Roller from source:
- adding README.txt with pointer to build docs on wiki
- renaming build.xml becuase it is only for building of Maven POMs


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735497 13f79535-47bb-0310-9956-ffa450edef68"
848b448e53c158e2faf6125d4bfd5d9a38f37136,"cleaning up imports

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735532 13f79535-47bb-0310-9956-ffa450edef68"
083742733194944d9b5c17fff8afb5d264476d37,"fixing a warning

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735688 13f79535-47bb-0310-9956-ffa450edef68"
e5a1fda67b5e2be4791721afa2ad6b29631c93c5,"Fix for https://issues.apache.org/roller/browse/ROL-1781
""Site-wide and weblog-specific blacklists not combined properly""

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735693 13f79535-47bb-0310-9956-ffa450edef68"
1dd809d084909eede0cd65110cb9e9c2411654d4,"Frontpage theme really should include the autodiscovery links

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735800 13f79535-47bb-0310-9956-ffa450edef68"
2f9d23ffee29f8d69f52a3a978ee944ebba1d463,"Titles for a search feed should explain that and include the search terms

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735804 13f79535-47bb-0310-9956-ffa450edef68"
0d37069cd44a59f4018cb40b79a1ef5bff14cdd3,"Adding autodiscovery links for OpenSearch descriptor, see proposal:
   http://cwiki.apache.org/confluence/display/ROLLER/Proposal+OpenSearch

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735811 13f79535-47bb-0310-9956-ffa450edef68"
93983a2b83596473e09bd3f54f7915ce00c70148,"Fix suggested by Greg Huber in ROL-1776
https://issues.apache.org/roller/browse/ROL-1776

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@735813 13f79535-47bb-0310-9956-ffa450edef68"
86803870110bf81b1dccb7ae04349dd2d6631827,"(NOTE: this commit is to roller_mediablogging branch)

Commiting Media Blogging patch from Ganesh, corresponding issue is here:
   https://issues.apache.org/roller/browse/ROL-1765

This is ongoing work with lots more to come. The commit contains:
- New database tables and indexes
- New manager interfaces, implementaitons and POJOs
- New Struts actions and JSP pages

I made some small changes:
- Added new tables and indexes from createdb.vm into migration script
- Added menu item for the new Add Media File to Create & Edit menu
  (maybe not the right place for it, but it'll do for now)
- Added link in Add Media File page to the Tabular action

There is some code in one of these test that has references to drive c local
files that should probably be cleaned up.


git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@739576 13f79535-47bb-0310-9956-ffa450edef68"
939a7e144ded38bc7f3232829f0dac867471cd1d,"Adding missing I18N bundle declaration

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@744269 13f79535-47bb-0310-9956-ffa450edef68"
d62e04851462c334a941268499c25c4ed2ac6540,"Fix for https://issues.apache.org/roller/browse/ROL-1717

The only GlobalPermission action that implies a WeblogPermission is ADMIN.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@744271 13f79535-47bb-0310-9956-ffa450edef68"
26168f6b41fc38eae5d6a16951c57f43cf98a2dc,"Renaming migration scripts, next major rev is 5.0 no 4.1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@746713 13f79535-47bb-0310-9956-ffa450edef68"
68e5629a4286a7c8d23157c58732553437debeb8,"Fix for https://issues.apache.org/roller/browse/ROL-1788, GET on admin URL erroneously clears checkboxes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@746736 13f79535-47bb-0310-9956-ffa450edef68"
d38fedb5be985e0176108a304313e58fdb84741f,"Minor typo, spelling and grammar changes from Ceri Davies

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@746762 13f79535-47bb-0310-9956-ffa450edef68"
edfb27c8d7c8ed2895618b41c4230fff0c2da970,"Minor typo, spelling and grammar changes from Ceri Davies

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@746763 13f79535-47bb-0310-9956-ffa450edef68"
cdfcd9a7221707587cc620a3278946ffffd8783b,"making it easier to extend Roller's Atom handler. no change in functionality just making some fields protected and adding a no-arg constructor.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@748713 13f79535-47bb-0310-9956-ffa450edef68"
cea553b9911711b767bdbff356deec5372082393,"removing unneeded import

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@748856 13f79535-47bb-0310-9956-ffa450edef68"
191cbff0aab316fb0905a7d97a7c2c8b1314017c,"Commiting second patch for media blogging with the following features:
- View media files in a tabular fashion
- View media files in a hierarchical fashion
- Search for a media file with results displayed with pagination.
- Create directories from tabular view and search view.
- Ability to move multiple files across directories
- Ability to delete one or more files.
- Edit metadata for media file.


git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@749634 13f79535-47bb-0310-9956-ffa450edef68"
1a6d811e95c32a84345bd64c149b43463fd63a4a,"Makes private usernames configurable:
   https://issues.apache.org/roller/browse/ROL-1797


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@753383 13f79535-47bb-0310-9956-ffa450edef68"
125456a696a6c8483ee5496d2c0b0e06c74abed3,"Adding OAuth support for Roller, details are here:
    https://issues.apache.org/roller/browse/ROL-1798


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@755000 13f79535-47bb-0310-9956-ffa450edef68"
45b08340dc89d839cff8140006f66334b2504a85,"Fixing a couple of typos

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@755244 13f79535-47bb-0310-9956-ffa450edef68"
d1f4a6afaf3799ae12238380b37e50a25cd319ca,"username can be null in case of site-wide key

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@755733 13f79535-47bb-0310-9956-ffa450edef68"
60b12c7e1ea4868fa26fedec18483983075dbe8f,"couple fixes found via further testing with propono
- better handling of authorization step, setting of username
- refactoring of access token generation

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@756534 13f79535-47bb-0310-9956-ffa450edef68"
17af6d1eb074baf3d74b6b93570017b8506b53cf,"- Another fix to authorization step after testing with Shindig as client
- Added display of OAuth URLs to OAuth keys page

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@756572 13f79535-47bb-0310-9956-ffa450edef68"
0de5212ca2bbf9db66514cfc71ed040528a75c12,"fixing a couple of typos


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@756735 13f79535-47bb-0310-9956-ffa450edef68"
0361339110e682ea0166ff7c64856b300bb441ca,"Use correct username when writing approved accessor record

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@756944 13f79535-47bb-0310-9956-ffa450edef68"
ee80ed3ca7c675809c934a00a5aa7583b2b51969,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@760887 13f79535-47bb-0310-9956-ffa450edef68
c98ac78193f380e33551b6ed695190211db28d29,"New German and Japanese localizations, see also:
   https://issues.apache.org/jira/browse/ROL-1801
   https://issues.apache.org/jira/browse/ROL-1804

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@761080 13f79535-47bb-0310-9956-ffa450edef68"
441fba83b7058642e1066f53887d799731ed69c0,"UI changes made by Tanuja for new popup pages and for enhancing media file view/search pages added.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@766565 13f79535-47bb-0310-9956-ffa450edef68"
dd87441b5d90b9a34235befc5a4c10247bf696a4,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768190 13f79535-47bb-0310-9956-ffa450edef68
f3f5784a0932bdb93ae5e3afa57496bcd12fc9c4,"Changes to make media file related overlays on entry add page work.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768205 13f79535-47bb-0310-9956-ffa450edef68"
5713a7e22a0b97e55a2868283475b40e25021211,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768474 13f79535-47bb-0310-9956-ffa450edef68
22d9647b51ae46128baee0e37166f680fc2c1b0f,"Minor bug fixes, code cleanup

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768475 13f79535-47bb-0310-9956-ffa450edef68"
3386395679e5d118667ca74ad216dbb849812e1c,"Added logic to navigate to weblog creation page with a link to media file auto-populated.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768483 13f79535-47bb-0310-9956-ffa450edef68"
c6988962156421eb277961980eb1ac061d2633e4,"UI fixes by Tanuja and fixed the bug with context menu in media search and view

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768629 13f79535-47bb-0310-9956-ffa450edef68"
902547b55a67e124eaf45db45b5240bfab092a4d,"Minor bug fixes for media file functionality

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768674 13f79535-47bb-0310-9956-ffa450edef68"
3ad4a441e7e875ff2c15a03a664e981931632323,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768849 13f79535-47bb-0310-9956-ffa450edef68
7579090073ea4b17549ee23d4df7a01d91f8ba39,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768852 13f79535-47bb-0310-9956-ffa450edef68
1d3448443a51de31d8bd8df41e84d4d6378b6c18,"Bug in atom feed for media file fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@768897 13f79535-47bb-0310-9956-ffa450edef68"
ce6911e6c6f6931d37087a58695a10116109c56c,git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@769262 13f79535-47bb-0310-9956-ffa450edef68
cbc49cc40d11a9d29a08b36779b96f823538416a,"code cleanup, documentation added.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@772831 13f79535-47bb-0310-9956-ffa450edef68"
328f40bbafba1a3b1fa69cdbdefdfdc6d918b8d3,"Code cleanup, removed external library references.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@773037 13f79535-47bb-0310-9956-ffa450edef68"
83aa1ea1a7fa5dfc262755c472b3d94599083c42,"media file view style adjusted so files have constant width.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@773433 13f79535-47bb-0310-9956-ffa450edef68"
6f1845cc4ad272d93b73c9b6a006a2cc2d4a945e,"Fix for ROL-1813 - ""#showWeblogEntryCalendar() ignores category argument""
   https://issues.apache.org/jira/browse/ROL-1813

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@776530 13f79535-47bb-0310-9956-ffa450edef68"
158146494dd6130040aed519b70a31c1aabbd440,"WeblogPermission should be serializable like the other POJOs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@776533 13f79535-47bb-0310-9956-ffa450edef68"
05d292b8c707cf8bb9f92b7c2e9d3717ee6a1cd7,"Never should have been committed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@777931 13f79535-47bb-0310-9956-ffa450edef68"
370f4dcb043f26dab8cd137f20877e48f1107703,"Dozen or so Javadoc fixes , see ROL-1810
  https://issues.apache.org/jira/browse/ROL-1810

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@777932 13f79535-47bb-0310-9956-ffa450edef68"
8cd0194c8348148c381168ee70e3416b42173c77,"Fixing logic for showing only first 1000 characers of long comments:
   https://issues.apache.org/jira/browse/ROL-1803

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@778077 13f79535-47bb-0310-9956-ffa450edef68"
11975ae151fa90b3d8077f8886dc74edf678787d,"Fix for ROL-1802, null pointer exception uploading files:
    https://issues.apache.org/jira/browse/ROL-1802

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@778209 13f79535-47bb-0310-9956-ffa450edef68"
18f5914005d2b11cdfb1fa1fb9f2069864356d02,"Bugs in search media functionality fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@780932 13f79535-47bb-0310-9956-ffa450edef68"
ed4408f4de8e456015ca17bc46e87b9329cbb561,"Media file unit tests cleaned up

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mediablogging@780935 13f79535-47bb-0310-9956-ffa450edef68"
f477ffd34e6bcae9a61c572b0f10096e15bb5716,"Correcting project link, a malformed link and a typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@781863 13f79535-47bb-0310-9956-ffa450edef68"
bb279e6e143ebffff827d2f92d640a8fadf51331,"Fix to ensure all comments on end-date are shown:
    https://issues.apache.org/jira/browse/ROL-1803

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@782269 13f79535-47bb-0310-9956-ffa450edef68"
a5fbb1343ccd3e38f3a23658b27edf45da0b48ac,"Merging media blogging work into trunk.

This applies to ROL-1765, but there is a little more work to do (see bug comments)
https://issues.apache.org/jira/browse/ROL-1765

NOTE: table names were changed as part of the merge, all new tables now have ""roller_"" prefix.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@782415 13f79535-47bb-0310-9956-ffa450edef68"
234b17dd133841666c07738ff3af2c2c2650fb85,"Merging media blogging work into trunk.

This applies to ROL-1765, but there is a little more work to do (see bug comments)
https://issues.apache.org/jira/browse/ROL-1765

NOTE: table names were changed as part of the merge, all new tables now have ""roller_"" prefix.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@782416 13f79535-47bb-0310-9956-ffa450edef68"
845e835d220f04002ef6a04a5d5710dd44071264,"Moving from XML mapping files to JPA annotations. 1 down, 26 more to go.

See also http://issues.apache.org/jira/browse/ROL-1556


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@791278 13f79535-47bb-0310-9956-ffa450edef68"
be00e972d79053089164d82e9096a8502bed9233,"Upgrading to OpenJPA 1.2.1 thanks to patch from Nathan Beyer.	

See also http://issues.apache.org/jira/browse/ROL-1556


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@791290 13f79535-47bb-0310-9956-ffa450edef68"
a54fe9d4e296546116b23eb0bcd5edf5019ab1d9,"Upgrading to OpenJPA 1.2.1 thanks to patch from Nathan Beyer.	

See also http://issues.apache.org/jira/browse/ROL-1556


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@791293 13f79535-47bb-0310-9956-ffa450edef68"
f0a10e36a9000eab1ba3d5c7693d2348439c83c9,"Oops. Didn't mean to commit this.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@791296 13f79535-47bb-0310-9956-ffa450edef68"
c6ca7e16976af881df59ff8ac2623317ebc839d5,"removed unused field

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@795398 13f79535-47bb-0310-9956-ffa450edef68"
501619ceb9565cc6764c3236fc44b50d83563f2c,"Implementation for Media Blogging: migrate old resources to new system
https://issues.apache.org/jira/browse/ROL-1815

Migration is currently turned off because I'm still testing it and not ready to mark this resolved. 

Includes a test and some test data. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797783 13f79535-47bb-0310-9956-ffa450edef68"
45355b59ea57aac97ab0e2bf351c4a0651f0c19f,"fixing a comment

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797793 13f79535-47bb-0310-9956-ffa450edef68"
b68ea269e211cd43e8530c9ee38258fe07c31d91,"fixing formatting

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797811 13f79535-47bb-0310-9956-ffa450edef68"
67002b0eceef883a70ee2b672ebb7e47fff6abfe,"Layout of the mediafile list is bad if the file name is so long that it wraps around, tried it out Firefox 3.5 and Safari 4.0. This commit adds a <str:truncateNicely> tag around the name to limit it's length and prevent the layout problem.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797858 13f79535-47bb-0310-9956-ffa450edef68"
a2642c47c6f42451d22557525cbece7d0af20ac9,"removing dependence on Prototype, there were only three references all to the $() selector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797921 13f79535-47bb-0310-9956-ffa450edef68"
26a415aa4b7d6433336f6c9cc99d3d06f38b4693,"removing dependence on Prototype in these JSPs, there were only a couple of references; all to the $() selector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797942 13f79535-47bb-0310-9956-ffa450edef68"
b215f98aaf3fb1b198e31963acd1e2ea17fa4454,"removing dependence on Prototype in these JSPs, there were only a couple of references; all to the $() selector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797946 13f79535-47bb-0310-9956-ffa450edef68"
04bd34993bc8527269bdb6993f4e185e68630414,"Removing the no longer used Overlib JavaScript library. I cannot find reference to it in Roller or in the themes over at the Roller Support project.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797948 13f79535-47bb-0310-9956-ffa450edef68"
51b91fcc40ed7c17b9aeda112e8a7746aadf8a28,"removing dependence on Prototype in these JSPs, there were only a couple of references; all to the $() selector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797950 13f79535-47bb-0310-9956-ffa450edef68"
18a8396146d5696e46caca7c9512f3c9765bf6fb,"removing dependence on Prototype in this JSP, there was only one reference; to the $() selector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@797951 13f79535-47bb-0310-9956-ffa450edef68"
28e68d0e0a080c703e54ac1e7e7a58748a4e7b1b,"Replacing the Prototype/Scriptaculous Autocomplete widget with the YUI one and removing Prototype because it is no longer used anywhere in Roller. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@798008 13f79535-47bb-0310-9956-ffa450edef68"
5cec21f39ed2ae6d8592065ac169907bceaa4290,"Make sort-by-name the default

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@798011 13f79535-47bb-0310-9956-ffa450edef68"
1fb3658b2ffc7deb316f0ba4e2d3b5f245fddebc,"Upgrading to Struts 2.1.6

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@804454 13f79535-47bb-0310-9956-ffa450edef68"
0f2fbc0abdb925b30d8f60bd6ff7c4cf1e91b3bd,"Upgrading to Struts 2.1.6

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@804458 13f79535-47bb-0310-9956-ffa450edef68"
cde4a2352cdbba0117c2f093aaae774f98c1ff6f,"Making sure files don't get double imported in the case where a migration-status.properties is not found.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@806851 13f79535-47bb-0310-9956-ffa450edef68"
50f2147f31402adcb137a1e25bb909c1d788067d,"Removing old file manager from system and replacing it with the new MediaFileManager.

   https://issues.apache.org/jira/browse/ROL-1816



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@811703 13f79535-47bb-0310-9956-ffa450edef68"
0fbb4fc8cbd0e35698042120e123ae82df4a0f57,"Removing old file manager from system and replacing it with the new MediaFileManager.

   https://issues.apache.org/jira/browse/ROL-1816



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@811704 13f79535-47bb-0310-9956-ffa450edef68"
8af65e6be9e0e8eda17da07576939a1eae34d6fa,"Enabling auto-migration of old resources to new file manager

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@811705 13f79535-47bb-0310-9956-ffa450edef68"
2cddddf28df420c13218ae21653b96088137242a,"Fixes related to ROL-1816

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812165 13f79535-47bb-0310-9956-ffa450edef68"
ab9cd52ebd6dd841aae59a17453755f07ef4fd2b,"Changing things so that media resources are served from the same root URL
as the blog itself (as we did with file uploads), instead of /roller-ui which
is reserved for the Editor/Admin UI only. Media resource URLs now take form:

   http://hostname/<context>/<weblog-handle>/mediaresource/<id>

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812198 13f79535-47bb-0310-9956-ffa450edef68"
f3ff9c84e618d3f2cb452ceed31afe543e0f9f29,"Changing things so that media resources are served from the same root URL
as the blog itself (as we did with file uploads), instead of /roller-ui which
is reserved for the Editor/Admin UI only. Media resource URLs now take form:

   http://hostname/<context>/<weblog-handle>/mediaresource/<id>

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812206 13f79535-47bb-0310-9956-ffa450edef68"
930905f96fac299c5a5c37a0d72702b76d63be46,"fixing formatting only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812223 13f79535-47bb-0310-9956-ffa450edef68"
3ea0713eb7526e9e05b3ea85b3b9881f959a5d6c,"fixing formatting only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812224 13f79535-47bb-0310-9956-ffa450edef68"
f28cf9f67dd71fd6673fe66adfda7aab2237906b,"Adds support for true thumbnails. Instead of sending full sized images to the browser and doing client-side image resizes to create thumbnails, we now store thumbnail images. Also, we store image width and height as part of image metadata so we can size images correctly.  

    https://issues.apache.org/jira/browse/ROL-1829



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@812330 13f79535-47bb-0310-9956-ffa450edef68"
dedd056e178ddca53a1b6fc0708f73e439dd083c,"Adding jQuery (MIT license) to fix problems in Theme Editor.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@814423 13f79535-47bb-0310-9956-ffa450edef68"
13badf3a26ad828020c2afb2f2791fc3bc188cfb,"I18N work, CSS cleanup and general UI improvements in media blogging features. More to come...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@814447 13f79535-47bb-0310-9956-ffa450edef68"
fbaf73d88f2749f9332f64c4e2ae22061aafd440,"Fix some errors and duplicates in the mediafile constraints

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@816225 13f79535-47bb-0310-9956-ffa450edef68"
11e340ff29ecd31aa11f4b2bba863fb9f6245d91,"Change mediafile constraint names to agree with migration script.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@816227 13f79535-47bb-0310-9956-ffa450edef68"
103bec7bd7e906bc2f7ee16a5ef652ea0a55b9d8,"Fix mediafile table drops to agree with actual created table names.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@816231 13f79535-47bb-0310-9956-ffa450edef68"
6be852cd5dc324086cc31fa0984a0e0fad8f5b09,"Fix to avoid using Java 1.6 FileReader (ROL-1826).  Fix some spelling.  Fix an issue with the exception handling.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@816244 13f79535-47bb-0310-9956-ffa450edef68"
a8655c00414f807dc13ee707db34e165e346bd70,"Fix for ROL-1694.  Use non-static sendMessage to use configured props.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@816262 13f79535-47bb-0310-9956-ffa450edef68"
355cd70f8398e22a4979481108aeaa3a0b5fa498,"removing unused imports

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@817050 13f79535-47bb-0310-9956-ffa450edef68"
07f4bf69a465ffed9993f9660143eb36c8230eb9,"Merged the media file view and search pages into one page with a search form in the sidebar, just like our existing entries page.

   https://issues.apache.org/jira/browse/ROL-1830

Also did a lot of I18N work and made some small UI improvements in layout, labels, etc.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@817058 13f79535-47bb-0310-9956-ffa450edef68"
8afd44d0850840ea03c540b0230dc4e8351ce2eb,"More improvements and fixes in media blogging features.
Associated with https://issues.apache.org/jira/browse/ROL-1765

We now use the YUI Panel component to display Media File Edit page instead of our homegrown lightbox

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@817486 13f79535-47bb-0310-9956-ffa450edef68"
6698ca9164aa9a2a1178348ee6fcd99b0515db6d,"Fix for ROL-1611.  Use proper default for UID attribute.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819155 13f79535-47bb-0310-9956-ffa450edef68"
1947ce9eb6b1e9e8619b4fd57a638c4b21138faf,"Fix for ROL-1724.  Fixed type issue / class cast exception.  Fixed incorrect check for user not being found.  Fixed references to deprecated Spring exception types.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819171 13f79535-47bb-0310-9956-ffa450edef68"
2412967c0cf998500082b90ad3a4b0635367a623,"Upgrades to Xinha 0.95
https://issues.apache.org/jira/browse/ROL-1834

Fixes problem where Xinha was making absolute URLs relative
https://issues.apache.org/jira/browse/ROL-1782

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819246 13f79535-47bb-0310-9956-ffa450edef68"
3eb37bb46b1b4446699892ef6727bf3c5176476c,"Upgrades to Xinha 0.95
https://issues.apache.org/jira/browse/ROL-1834

Fixes problem where Xinha was making absolute URLs relative
https://issues.apache.org/jira/browse/ROL-1782

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819248 13f79535-47bb-0310-9956-ffa450edef68"
7bea036bfae73248227a26ac09888aec209f56b7,"Add Media File now supports uploading up to five files and when you're done it allows you to pick the images and enclosure to be included in a new blog post. This fixes https://issues.apache.org/jira/browse/ROL-1833

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819249 13f79535-47bb-0310-9956-ffa450edef68"
85fbc3c92be511756529b73ef09a210d60a7b8cf,"Fixed broken image chooser in the EntryAdd and EntryEdit pages, see also:
   https://issues.apache.org/jira/browse/ROL-1835

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819250 13f79535-47bb-0310-9956-ffa450edef68"
29569c1a44a04f812ec478d8decbc7196afddf9e,"Replace ineffective YUI context menu in Media File View page with simple links in the appropriate places.
   https://issues.apache.org/jira/browse/ROL-1836

Also made general improvements to Media File Edit and Media File Add Success pages.

There's also some remaining Xinha cleanup in this commit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819364 13f79535-47bb-0310-9956-ffa450edef68"
f2c451dca72a43bec9a95cabf9d7ec4c1fc06944,"Upgraded to YUI 2.8.0r4

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819445 13f79535-47bb-0310-9956-ffa450edef68"
7b934ddffae1640a9c633e448f8a550e4768a9c9,"Upgraded to YUI 2.8.0r4

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819446 13f79535-47bb-0310-9956-ffa450edef68"
8701815fb06a240b178e9e7bfb737106e30d9d80,"adding links to sponsor thanks and sponsorship info pages

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@819793 13f79535-47bb-0310-9956-ffa450edef68"
affa8417540fe56ec7206ca761d3c4e266b2335c,"Fixing typo / syntax error. Not sure how *that* slipped in

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@820107 13f79535-47bb-0310-9956-ffa450edef68"
956e04d992ee685f70aa278a33f9d8ddede3be31,"Make filename constant public for test

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@820108 13f79535-47bb-0310-9956-ffa450edef68"
9c84ecbfdd6ed9cbd947d3de05270748d2832d7f,"Fix for ROL-1304 ""Set frontpage blog in Roller install page""

I used most of the code from Vivien's patch (thanks!) but did things a little differently. Instead of having a separate Frontpage Config page, I added the Weblog picker an aggregation checkbox right into the Setup page. I also fixed the Global Config page to use a combo-box instead of requiring the user to type a weblog handle.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@820143 13f79535-47bb-0310-9956-ffa450edef68"
bd1904b6d8ee4a6f7546182c79533623d6826232,"Fixed https://issues.apache.org/jira/browse/ROL-1808

We now menton that PageModel.getRequestParameter() only works on custom pages and not normal pages of a blog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@820146 13f79535-47bb-0310-9956-ffa450edef68"
9b35bbe4ac467836edf53d5c3e1c322101378ac6,"Fix for https://issues.apache.org/jira/browse/ROL-1760
""Scheduled tasks do not run on Oracle (or other DBs with high precision timestamps)""

Fix suggested by Ceri Davis and confirmed by Ron Peterson

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821323 13f79535-47bb-0310-9956-ffa450edef68"
78cc4ced79a3693f6680d0e5873c7ab77aecb074,"Fix for https://issues.apache.org/jira/browse/ROL-1837
""Media Blogging: allow move and delete of directories""



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821455 13f79535-47bb-0310-9956-ffa450edef68"
3a16d3a6e9f461d811210903eae31c1c0574ef79,"For consistancy and appearance sake, making media file edit show thumbnail in 120 x 120 box

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821547 13f79535-47bb-0310-9956-ffa450edef68"
93e705b76892b0ff447b3a7428f0611cb36563b4,"Middle alignment for menu items (regression)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821561 13f79535-47bb-0310-9956-ffa450edef68"
d5de887dcb98960d84565f4a07a81ba5aaf20d73,"Upload Media File link should upload into current directory and when upload is complete, links should lead you back to that directory

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821562 13f79535-47bb-0310-9956-ffa450edef68"
778b412f968a4022c037e3a5c368e50b1ebe7ab7,"Couple of small fixes:
- Only show move and delete buttons when files or directories are selected
- Fixed NPE when attempting to move files from search view

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@821575 13f79535-47bb-0310-9956-ffa450edef68"
4ae0237eeb179010318397061b698203582d3699,"correct cut-and-paste typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@823863 13f79535-47bb-0310-9956-ffa450edef68"
779be8dc642735aa5b5ee7222a56a53e1dfca83b,"Upgrading all Java dependencies to latest stable versions. Some code changes were required for move to Lucene 2.9.0 and move to Java 1.5 concurrent classes. All unit tests are passing, basic sanity tests have been done and I'll upgrade my site to latest trunk this weekend.

Here are the ugprade details:

Spring to 2.5.6
Spring Security to 2.0.5
EhCache to 1.6.2
Struts to 2.1.18
Commons Codec to 1.4
Commons Collections to 3.2.1
Commons Digester to 2.0 
Commons HttpClient to 3.1
Commons Lang to 2.4
Commons Logging to 1.1.1
Guice to 2.0
Jaxen to 1.1.1
JDOM to 1.1.1
Log4J to 1.2.12
Lucene to 2.9.0
Saxpath to 1.0
Velocity to 1.6.2
XML-RPC to 3.1.2


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@823874 13f79535-47bb-0310-9956-ffa450edef68"
637b14fad25ded32ce2fd82e692cf87dd1e82552,"Upgrading OpenID dependencies as well, see https://issues.apache.org/jira/browse/ROL-1840

nekohtml to 1.9.7
openid4java to 0.9.5
openxri to 1.2.0

Also removed Xerces parser.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@824064 13f79535-47bb-0310-9956-ffa450edef68"
aac18c91ab5a161d89ec52716823f9667c2d7c24,"Hmm... why didn't this get committed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@824065 13f79535-47bb-0310-9956-ffa450edef68"
807585d724663c292b57c2251e6ba4220afaa47c,"roller-custom.vm must exist, otherwise Velocity throws exception that seems to prevent it's own proper initialization

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@824080 13f79535-47bb-0310-9956-ffa450edef68"
e47ac5a3db6936880da6472d313c329c5ba00e41,"Fixing bug cause by upgrading dependencies and specifically, Lucene
   see also https://issues.apache.org/jira/browse/ROL-1840

Didn't notice this before because the IndexManagerTest was not included in the tests, now it is.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@824126 13f79535-47bb-0310-9956-ffa450edef68"
0841a93f2cc59338f7c6279a1627b6ac4ed9b997,"Ensure that mediafile URLs always formed by call to URLStrategy, otherwise images/thumbnails may appear as broken on a ""multisite"" setup like I have with rollerweblogger.org and photophys.com running on same Roller instance.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@824557 13f79535-47bb-0310-9956-ffa450edef68"
57197032eceb8d6731291ff7f8d6642073842a05,"updating change list

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@826925 13f79535-47bb-0310-9956-ffa450edef68"
da4ae7793b538b3db4dc025b6cc36afd03026234,"Apparently, OpenID4Java has a hard dependency on Apache Xerces. Bummer.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@826926 13f79535-47bb-0310-9956-ffa450edef68"
f27fe6380bf5b1f5d91ccdce1a0592ddd57e0977,"Removing report issue and user guide links from editor/admin UI footer
https://issues.apache.org/jira/browse/ROL-1841

Added feather icon and SVN revision number, also left aligned text

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@826936 13f79535-47bb-0310-9956-ffa450edef68"
419327b2797a139e9af07026a65098c45598212c,"Removing report issue and user guide links from editor/admin UI footer
https://issues.apache.org/jira/browse/ROL-1841

Added feather icon and SVN revision number, also left aligned text

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@826937 13f79535-47bb-0310-9956-ffa450edef68"
13e3065ebc7333966de5c178314702b1bfaa7e4b,"To make room for a file update field (https://issues.apache.org/jira/browse/ROL-1838) in the Edit Media File page, I'm moving the ""create weblog post"" and ""create weblog podcast post"" action from the Media File Edit page to the Media File View page. In the Media File View page each Media File now has an add button, a YUI menu button that offers two options: create weblog post and create weblog podcast post.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@828305 13f79535-47bb-0310-9956-ffa450edef68"
5847f570eadd38980e81d5af4dd4d42148264074,"Media Blogging: allow update of file contents
https://issues.apache.org/jira/browse/ROL-1838

This commit adds an Update File Contents control on the Media File Edit page so you can upload new content for a Media File. When you do, the Media File metadata will be updated (file size, width, height, content type) as well as the thumbnail. The media file URL will not change.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@828904 13f79535-47bb-0310-9956-ffa450edef68"
0cc169b5a282f21fa5d68a98f1b8b1a66963aace,"Export to Movable Type / Wordpress format 
https://issues.apache.org/jira/browse/ROL-1822

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@828908 13f79535-47bb-0310-9956-ffa450edef68"
9f65347117d8937ef4a2997cb015fe31ca61a2c6,"- Small fixes and cleanups made while capturing screenshots for docs
- Updates to User, Template and Install Guides

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@829302 13f79535-47bb-0310-9956-ffa450edef68"
cd62090e8c4f30e9172618e7fba3757711e07184,"Fix spelling of License in line 3.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@830850 13f79535-47bb-0310-9956-ffa450edef68"
4dc2ad883b65e916d1ce46923c0c8af8a0261b8d,"ROL-1845: Added link around selected category and added ids and classes to some form elements. No noticeable differences in themes that ship with Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@833629 13f79535-47bb-0310-9956-ffa450edef68"
c2604018dec222fe7e76ee7655148874d9b73581,"Fixing unclosed tag

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@883356 13f79535-47bb-0310-9956-ffa450edef68"
dd1eca172620ff8de383a4f4c65a289fcc1d17bf,"branch to coordinate landing of Roller mavenization

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@894710 13f79535-47bb-0310-9956-ffa450edef68"
08958dd6cdb67b76b34f2ccf3583905e4cd2cdcc,"initial landing of mavenized Roller

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@894711 13f79535-47bb-0310-9956-ffa450edef68"
482267be18b9a255d04558a46573f1e205f7142f,"Cleaning up after SVN borked my workspace; this could take a while

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@894715 13f79535-47bb-0310-9956-ffa450edef68"
59713dec3480286395c3208291bf5ccbb0df8255,"Cleaning up after SVN borked my workspace; this could take a while

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@894717 13f79535-47bb-0310-9956-ffa450edef68"
e837fcf1b47c9a3e3edc8c1aec4e90942233967d,"Cleaning up after SVN borked my workspace; I think I'm just about done with the fixup

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@894727 13f79535-47bb-0310-9956-ffa450edef68"
8e9e155462c0910fb3e7a5a99790075f9af00bd0,"couple of ignores and a missging directory

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@895115 13f79535-47bb-0310-9956-ffa450edef68"
65519529c9f221717d03ec7e95a4ff16509cf5e2,"updating README to reflect new Maven directory structure and build process

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@895116 13f79535-47bb-0310-9956-ffa450edef68"
f9dbb644b790b7a3055a2274e40e4f1c6db34b78,"somehow lost this file in the merge

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@895213 13f79535-47bb-0310-9956-ffa450edef68"
109c0fc5f26f2f25a7ba5bb8ccd34255c99f6ae1,"I think the assembly plugin should be run separately, as described in the README that I updated yesterday

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@895214 13f79535-47bb-0310-9956-ffa450edef68"
c31eeda435403b66fd604cc048a0fa999fe5182e,"Cleaning up WEB-INF/lib via Maven exclusions

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mavenized@895418 13f79535-47bb-0310-9956-ffa450edef68"
2aa2a39967b80dc802285c233ff91142c93b504f,"Merging Mavenized Roller into trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@895563 13f79535-47bb-0310-9956-ffa450edef68"
fff5614509e1d65c0fff137fa778b6ce81ea19e8,"SVN merge of Mavenized Roller seems to be complete

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@895623 13f79535-47bb-0310-9956-ffa450edef68"
45ea15537aa6a6ff36a57917f35a7ca8fadb546a,"Fixes to POMs suggested by Matt Raible

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@900145 13f79535-47bb-0310-9956-ffa450edef68"
ada6d33045f9c26d8ee8959f305464ba2bba5ea5,"Have mvn jetty:run-war working now but only up to a point. Roller starts and you can create a user but logging in does not seem to work. To make this small bit of progress, I had to create a Jetty LifeCycle implementation to start and stop Derby. And switch over to property based DB configuation because I could not figure out how to get the Maven Jetty plugin setup JNDI properly.



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@902675 13f79535-47bb-0310-9956-ffa450edef68"
4e819064e0dab09978cb652b6aa600c96a41003b,"Corrected to refer to trunk rather than roller_mavenized branch.  Attempted to clarify some things a bit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@904920 13f79535-47bb-0310-9956-ffa450edef68"
433350ddb5bb268345d3d38d92b397ae2f2f6582,"Fix path formation to correspond to location of scripts in the jar.  Still can get the wrong resource for createdb.sql because there is one in the planet jar as well.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@907695 13f79535-47bb-0310-9956-ffa450edef68"
6764cf0fd3e36d6475595a35bb36dcd3ae3d51f1,"Fixes to Derby startup and shutdown process in build/test process and also in the jetty:run-war setup. Also, returned database scripts to WEB-INF/classes/dbscripts as we did before in 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@909967 13f79535-47bb-0310-9956-ffa450edef68"
7eff77169a0cf1aa1d1ffddfe73cd0ffd852a742,"Fixes to make more of the Maven build work on Windows XP. Currently, at least on my machine, the build fails while running weblogger-business tests. After the bind exception below all tests fail. Maybe we are hitting some weird OpenJPA or Derby Client bug?

<openjpa-1.2.1-r752877:753278 nonfatal general error> 
org.apache.openjpa.persistence.PersistenceException: java.net.BindException : 
Error connecting to server localhost on port 3219 with message Address already in use: connect.
	at org.apache.openjpa.jdbc.sql.DBDictionary.narrow(DBDictionary.java:4232)
[...]
	at org.apache.openjpa.persistence.QueryImpl.getResultList(QueryImpl.java:294)
	at org.apache.roller.weblogger.business.jpa.JPAUserManagerImpl.getUsers(JPAUserManagerImpl.java:309)
	at org.apache.roller.weblogger.business.jpa.JPAUserManagerImpl.addUser(JPAUserManagerImpl.java:97)
	at org.apache.roller.weblogger.TestUtils.setupUser(TestUtils.java:132)
	at org.apache.roller.weblogger.business.WeblogEntryTest.setUp(WeblogEntryTest.java:76)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@911806 13f79535-47bb-0310-9956-ffa450edef68"
31255013df651050723d8ac9b0fec342e570c0f1,"Setting openjpa.ConnectionRetainMode to 'always' (test time only) seems to fix the bind exception that I wrote about in my last commit. 

There are still two test problems on Windows XP to clear up and I'll get to those next.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912192 13f79535-47bb-0310-9956-ffa450edef68"
174572c0fec2edfda6ce80929ca224847445108a,"Fixes to get those last two tests working on Windows.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912295 13f79535-47bb-0310-9956-ffa450edef68"
3c7157ce74433827525d80653cba8ecb1beeec00,"Import cleanup

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912340 13f79535-47bb-0310-9956-ffa450edef68"
6a68dd1aba3007fc69510f027696d459334ffa14,"Moving HTML and XML files from weblogger-web/main/java to weblogger-web/main/resources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912345 13f79535-47bb-0310-9956-ffa450edef68"
57196cbe56ecf258069785824fd273cafd9b40d7,"Moving HTML and XML files from weblogger-web/main/java to weblogger-web/main/resources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912346 13f79535-47bb-0310-9956-ffa450edef68"
226f40cacb2dc0dc3bad7530c15bffa3e0e210a0,"Changing context name from 'roller-weblogger-web' to 'roller' in Maven Jetty Plugin.

You should be able to start Jetty, Derby and Roller via this sequence of commands.

   mvn install
   cd weblogger-web
   mvn jetty:run-war

Then browse to http://localhost:8080/roller to run Roller

* NOTE that your Derby database will be deleted when you do a mvn clean

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912347 13f79535-47bb-0310-9956-ffa450edef68"
92570d79d25237e066a32a67f1313103807d28c3,"Correcting directory location of WebloggerException.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912349 13f79535-47bb-0310-9956-ffa450edef68"
8eb34775e671b51e2a3acd22f5625bd37c1195eb,"Allow categories in test runs of weblogger-web. Also, PlanetModel shouldn't blow up if planet is not enabled.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912357 13f79535-47bb-0310-9956-ffa450edef68"
1716de9b11cfeaaf4d8a0093de54464afd6c570a,"Cleaned up the SQL output commands so that they look nice when displayed in the Web UI at install/table create time

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912359 13f79535-47bb-0310-9956-ffa450edef68"
5058426f4ef1fecfd6a554653babc342642010b4,"Updading our DOAP file: corrected my email address and removed Elias.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@912363 13f79535-47bb-0310-9956-ffa450edef68"
6ae621efe89b8a126e2747d961ddaff4a5763c7e,"Backing off my upgrade to Derby 10.5.x.x and returning to 10.1.3.1.

Later versions of Derby return this error with some Roller queries against the weblogentry table:

   The exception 'java.sql.SQLException: The locator that was supplied for this 
   CLOB/BLOB is invalid' was thrown while evaluating an expression. You
   cannot invoke other java.sql.Clob/java.sql.Blob methods after calling the free() 
   method or after the Blob/Clob's transaction has been committed or rolled back. 

We'll have to fix that before we upgrade to newer a newer Derby.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@915340 13f79535-47bb-0310-9956-ffa450edef68"
44cd2597f0908456dbc1ed0696e8288c6b26d376,"Fixes Automatic table creation fails on HSQLDB 
https://issues.apache.org/jira/browse/ROL-1855



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@916898 13f79535-47bb-0310-9956-ffa450edef68"
e53faa6691cd999a2e3960bcceb3e2e815c5d8d5,"Change ""launch"" link to ""preview"" as suggested here:
https://issues.apache.org/jira/browse/ROL-1856

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@916900 13f79535-47bb-0310-9956-ffa450edef68"
babf36627f31858b77f13ef7416af08fcdb0d1d1,"Fixes ""MediaFileImageChooser.jsp does not render the thumbnail / picture URLs correctly""
https://issues.apache.org/jira/browse/ROL-1851

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@916903 13f79535-47bb-0310-9956-ffa450edef68"
246af204bcaf740ef28da30d7ff3a3707aed6422,"Correcting use of <s:submit> tag to use the 'value' attribute rather than 'key' to convey the button's localized label text.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917205 13f79535-47bb-0310-9956-ffa450edef68"
7f98c119f95433fde31d9c5d52910cfebe0bc0cb,"Moving back/up to latest Struts (as we originally intended to do in 5.0)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917207 13f79535-47bb-0310-9956-ffa450edef68"
7d76ca8e2e393d5657ac2763091a45a878af422b,"Fixing scope error in POM, pointed out by m2eclipse plugin.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917208 13f79535-47bb-0310-9956-ffa450edef68"
43e9958029243264bbfba658505c23aa3e900ea4,"Tightening up logging: INFO for Roller and ERROR for everybody else

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917210 13f79535-47bb-0310-9956-ffa450edef68"
be2e8b62d65fc95c6fef0ffcf33a808a221689b4,"Theme reloading for development
https://issues.apache.org/jira/browse/ROL-1847

Thanks for the patch, Greg!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917255 13f79535-47bb-0310-9956-ffa450edef68"
3faa69e1c7ad3e594a31ae6616bbbbe064eee167,"Fixes ""Editing a user in the user administration page causes an exception""
https://issues.apache.org/jira/browse/ROL-1853

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917358 13f79535-47bb-0310-9956-ffa450edef68"
0913fa28d7db968e57ed209efcd439f2649ded92,"fixing config labels

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917865 13f79535-47bb-0310-9956-ffa450edef68"
3b27181242c90c881bb1489c371f536bb227682a,"ignore IDEA project files for now

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917866 13f79535-47bb-0310-9956-ffa450edef68"
a3399c4170f15a6286043e4f82286cb35fe4aab4,"Fix for ""Weblog member management / role assignment not working""
https://issues.apache.org/jira/browse/ROL-1852

Two problems: 
1) JPAWeblogManager.addWeblog() was giving blog owner ADMIN and AUTHOR actions, when user should have only 1
2) Members.java was using username where it should have used ID

I didn't use Christopher's patch, but I did use some ideas from it (i.e. the id vs. username fix). Thanks!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917868 13f79535-47bb-0310-9956-ffa450edef68"
35d549e3b9c7996639fe9497ae9da191d9fdaf67,"Updates to Movable Type export https://issues.apache.org/jira/browse/ROL-1822

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@917872 13f79535-47bb-0310-9956-ffa450edef68"
e0551b4d0390411efa2a01cb7104f001e613dc1f,"Fix for remember me problem. As Greg suggested the <input> name and id values were wrong, but there was also a chunk of XML missing from the Spring Security config file security.xml.

Also, did a bit of cleanup and remove the old LDAP/CAS configuration because it does not work with Spring Security 2. Leaving it in the file might be confusing for folks trying to figure out how to make Roller work with LDAP.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@918322 13f79535-47bb-0310-9956-ffa450edef68"
75b6eb6aa35e619bf18094ba3dd05098c4488615,"Improved error handling needed for remember me

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@920056 13f79535-47bb-0310-9956-ffa450edef68"
f9594e724f455de74619c6fc8a1728eb74434fe9,"Adding in the missing planet-web module which went missing during the Mavenization

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@925653 13f79535-47bb-0310-9956-ffa450edef68"
dcbdea3150e48289b49e3b8c674379344b670f1d,"Shouldn't have removed dep on planet-business

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@925676 13f79535-47bb-0310-9956-ffa450edef68"
d1ff55408143cac6db3c016674232e912ce75217,"Fixing an unreported bug that prevented Shared Theme files from being copied into a blog as a Custom theme when the blog is missing action templates

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@926928 13f79535-47bb-0310-9956-ffa450edef68"
bb47310c6afa8fba3ef3fcb3fa8eadbe1d4f7e2f,"Fixing regression caused by the externalization of user management work from back in 2008

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@927658 13f79535-47bb-0310-9956-ffa450edef68"
b3025af94d19c32ab42a3151f3f8985722268126,"Support for comment editing, also upgrades to JQuery 1.4.2
   https://issues.apache.org/jira/browse/ROL-1752


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928502 13f79535-47bb-0310-9956-ffa450edef68"
d6bac0d8b03b75de56862d4faad0abd92c3db8a5,"Still didn't have permissions quite right

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928574 13f79535-47bb-0310-9956-ffa450edef68"
0c99514973d9dbbd2b4532ac172e78c96d83649e,"Small tweak to Save | Cancel links

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928962 13f79535-47bb-0310-9956-ffa450edef68"
fe71df739cbe59d610f0afdc80d510dd68e97cdd,"Contributing my YUI-based Fauxcoly theme
https://issues.apache.org/jira/browse/ROL-1850

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928976 13f79535-47bb-0310-9956-ffa450edef68"
fdeeed00bf492b88aaddc9b098a8333c1639500c,"Fixed a couple of bugs in menu parsing
Also, fixed some old attribute names and incorrect permission names in editor-menu.xml
Both were regressions introduced with user management stuff.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928978 13f79535-47bb-0310-9956-ffa450edef68"
0799299e093243789d5c2bcace4d42b2529ff838,"Fixed bug in theme chooser, a regression introduced by me when I switched Roller from Scriptaculous/Prototype to JQuery.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928979 13f79535-47bb-0310-9956-ffa450edef68"
519e49459f40aee34f88534f22c37780661974f7,"The new Media File based ""Customize Theme"" logic was broken

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@928981 13f79535-47bb-0310-9956-ffa450edef68"
0679973bf9c0bb1fc5142504524488104129b84e,"Removing no longer used template reference

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@930519 13f79535-47bb-0310-9956-ffa450edef68"
421d8c66ff0f5306e35cf8631642166865791571,"Fixes ROL-1864 by moving to ROME Propono 0.9.13 which fixes the problem by returning the correct Location and Content-Location headers.

https://issues.apache.org/jira/browse/ROL-1864
""MarsEdit & Windows Live Writer will not work with Roller's AtomPub implementation""

Also, we now use ROME jars from the Sonatype Maven repo instead of the old Java.net repo. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@935194 13f79535-47bb-0310-9956-ffa450edef68"
fd48d67d34df01a25e2b8cf23e1073bd561382e0,"Fixing a couple of compile warnings. See also http://markmail.org/message/aiiw47wiwi7xfwpt

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@935258 13f79535-47bb-0310-9956-ffa450edef68"
d0ad5aac0b0f84112867fdfae90f8971ff8fb830,"Ensure that new entries are valid when created

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@937919 13f79535-47bb-0310-9956-ffa450edef68"
5fdc3876d7a6fbba723c0cf76356d1b4ffafc18a,"Propnono 1.0 is out

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@938301 13f79535-47bb-0310-9956-ffa450edef68"
5cc6d54bf56ed7254ea5e1eab6a9105badb4df35,"Changing assertion to match new implementation, more entries showing up in search result because we now ensure that new entries get a locale.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@938763 13f79535-47bb-0310-9956-ffa450edef68"
a0473554218d7919e24c33d8fef094b903a39fc4,"Setting version number of 5.0.0-RC1 in preparation for release candidate

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@939542 13f79535-47bb-0310-9956-ffa450edef68"
6ee4b0127e03515d3cee12ab33fd28433df70e38,"typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@939991 13f79535-47bb-0310-9956-ffa450edef68"
68cef68bc70a745a85ffcae76ccf838ced18ce03,"Removed unused import

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@940221 13f79535-47bb-0310-9956-ffa450edef68"
9e419ae3d92c4f86b1644454078cb7b6d4e3d166,"Fixing a couple of compiler warnings, updating sign-release.sh script and adding a simple Groovy AtomPub/OAuth example

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@942612 13f79535-47bb-0310-9956-ffa450edef68"
c58bfe126ac12983519df630e34b476f23ac3887,"Fixing Maven warnings about using fixed strings for version numbers

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@954153 13f79535-47bb-0310-9956-ffa450edef68"
41d01bfe6923c57071d35d8e252062f865d75935,"Fixing couple more Maven warnings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@954154 13f79535-47bb-0310-9956-ffa450edef68"
e63acfcec25ec3f308bfa0bc6f49bef5b81594db,"fixing a couple of Maven warnings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@956223 13f79535-47bb-0310-9956-ffa450edef68"
513caa70887fdb7949873ea86d88a1f9bab074be,"added some logging to 2 comment plugins

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@956224 13f79535-47bb-0310-9956-ffa450edef68"
d0296a4a61620ac6e310728114538507659f89e9,"Couple of small tweaks from rollerweblogger.org

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@961553 13f79535-47bb-0310-9956-ffa450edef68"
b71f48b60b5715b8d069b87f92fd81b55289f120,"Fix for ROL-1872: Media File pages do not make URLs available
https://issues.apache.org/jira/browse/ROL-1872

Added to Media File Edit page these ways to copy the link to the Media File:
1) Image of a chain-link, which provides direct link to file and opens it in a new browser window
2) Read-only text field, which user can select and copy
3) Commented out code for using ZeroClipboard to provide a copy-to-clipboard feature. It is commented out because we cannot ship Zero Clipboard with Roller, because it has an LGPL license and ASF policy does not allow LGPL dependencies.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@961557 13f79535-47bb-0310-9956-ffa450edef68"
9f4e42948907bd0d0e916e963f27ebbabf2f592a,"Fix for ROL-1871: Media File upload did not recognize PDF, saved it as ""octet stream""

I was not able to duplicate this on my machine (Mac) and I suspect it happens only on Windows, but sometimes when you upload a Media File, Struts cannot guess the content-type correctly and defaults to an 'octet stream' type. This commit adds logic to double-check and whenever an 'octet-stream' type file is uploaded, Roller will now attempt to use the file's extension to guess a more accurate content-type.

https://issues.apache.org/jira/browse/ROL-1871

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@961558 13f79535-47bb-0310-9956-ffa450edef68"
199fdd2a9ad268a19cddaa74fae70bc931b48ec6,"Fix for https://issues.apache.org/jira/browse/ROL-1741

Don't attempt to build JNDI name if one is already specified. Check for presence of "":"" to determine if full name already specified.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@984600 13f79535-47bb-0310-9956-ffa450edef68"
a01ca54ad393e23372bd53dc541ba996d42cfa6c,"Fix for https://issues.apache.org/jira/browse/ROL-1875

weblogger-web no longer dumped into WEB-INF/classes and instead put into WEB-INF/lib/roller.jar.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@984604 13f79535-47bb-0310-9956-ffa450edef68"
d172a163acc31eefea679d3b9a395ca6a9efb66e,"Bringing in line with other POMs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@984629 13f79535-47bb-0310-9956-ffa450edef68"
96649aaae0eae40cb5e84243b51cc764da2f0ed3,"Pairing down list of blog-roll entries to just Apache and Apache Roller links.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@984630 13f79535-47bb-0310-9956-ffa450edef68"
0d8ce9120ba4e8050bbc36a192e6f14be19a3539,"Adding a couple of ignores

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@984631 13f79535-47bb-0310-9956-ffa450edef68"
e528ce812be5273314d4f4db884055696ae005ec,"Moving to latest available schema <= 2.0.5

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985002 13f79535-47bb-0310-9956-ffa450edef68"
0cf82975a1b45accdff2907d9adfbc3fa200be0c,"Fix for https://issues.apache.org/jira/browse/ROL-1874

Broken launch link

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985004 13f79535-47bb-0310-9956-ffa450edef68"
c4d597435258e519c9cdc664e885af0193e4fc4e,"Fixing comment management title bug and some warnings.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985005 13f79535-47bb-0310-9956-ffa450edef68"
46944c54567a79c52fc93231be50e89363fcbafd,"Ensure that referrer URL does not overflow and cause exception, also fixing some warnings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985008 13f79535-47bb-0310-9956-ffa450edef68"
38eb01958ecb3668967b1363b3f9a8394956f1fd,"Fixinfg https://issues.apache.org/jira/browse/ROL-1867

Create post from post-upload page fails

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985009 13f79535-47bb-0310-9956-ffa450edef68"
b7d71b1535638be5e98c8007b4d581f4b9294931,"Use StringBuilder instead of StringBuffer

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985010 13f79535-47bb-0310-9956-ffa450edef68"
1de3e3c227ff34054f9cf517aba25f9f88a169d4,"Move from OpenJPA 1.2 to OpenJPA 2.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985011 13f79535-47bb-0310-9956-ffa450edef68"
78e2569f7824d571f26b9aa986340bd9d68e086e,"make planet a little less noisy on bad feeds

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985688 13f79535-47bb-0310-9956-ffa450edef68"
286922500caa95963f73907d59171785b574e218,"fixing imports + small fixes suggested by IDE

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985689 13f79535-47bb-0310-9956-ffa450edef68"
1d27fa614e2f1674aa5fe0dc8fa2ac6b9a2f9b15,"Avoid ""illegal mix of collations"" exceptions in referrer processing

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@985690 13f79535-47bb-0310-9956-ffa450edef68"
2342a0284aefa5878ad772545c182e5290447242,"Fix for https://issues.apache.org/jira/browse/ROL-1876
Shouldn't have to delete search index dir to cause re-index

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@993154 13f79535-47bb-0310-9956-ffa450edef68"
e72fc7313bcc8994a7a5bfd0eb6818bdafbdcfa1,"Adding comment related to https://issues.apache.org/jira/browse/ROL-1741

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@996330 13f79535-47bb-0310-9956-ffa450edef68"
a447c495970f6938821cc50011416cf32af0ead4,"Fix for https://issues.apache.org/jira/browse/ROL-1868

Make HTML subsetting the default for comments.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@996335 13f79535-47bb-0310-9956-ffa450edef68"
625236fe02e6a629a3a0c94f1d3c247f70e5594b,"https://issues.apache.org/jira/browse/ROL-1877

Improvements to enable Roller tasks to be written in scripting language, by allowing different instances of each task to be specified in a config file, each with different parameters (e.g. each can have a different script file name).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@996336 13f79535-47bb-0310-9956-ffa450edef68"
2d5190720cd90c5a3cc031314f86a9591144f511,"Fix for https://issues.apache.org/jira/browse/ROL-1882
Calendar should use weblog locale not request's

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@996364 13f79535-47bb-0310-9956-ffa450edef68"
53381fd4f6903cc05cc233653580a3b1c65b6818,"No issues open. I think we're ready for  5.0 RC2.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@996375 13f79535-47bb-0310-9956-ffa450edef68"
0b84569db9ab776634bd0508d1949895befe65cb,"Preparing for RC2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@997166 13f79535-47bb-0310-9956-ffa450edef68"
8a6e087699ca95f372a2d6419c6f1d15c2218db1,"Preparing for RC2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@997167 13f79535-47bb-0310-9956-ffa450edef68"
52cd759e91f20877e4c92c7f022df1dca61a3826,"For https://issues.apache.org/jira/browse/ROL-1875 Breaking out separate Weblogger-Web and Weblogger-Webapp modules so that web classes required for plugin development are available as a Maven module.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1003968 13f79535-47bb-0310-9956-ffa450edef68"
9a92f7f31e541440fa4e86416405f52039b5050b,"formatting changes only

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1003974 13f79535-47bb-0310-9956-ffa450edef68"
6383b620bc9e1d277c80af019b29f5af69194cb1,"Fix for https://issues.apache.org/jira/browse/ROL-1883. The ${user.home} variable was being substituted via the Maven Copy Resources operation so I turned filtering off. 

Also, some tweaks that allow Roller to build with Maven 3.0 beta 3

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1003979 13f79535-47bb-0310-9956-ffa450edef68"
57ecd6265bb8cc10d9c672f6183db5d52e489b21,"Couple of follow-up fixes for https://issues.apache.org/jira/browse/ROL-1875

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1004004 13f79535-47bb-0310-9956-ffa450edef68"
ad8308ebdd4baa8838ef231b35b9fe267699256a,"Fixes to allow Roller JUnit tests to run against EclipseLink JPA. Most changes involved adding code to manage both ends of a one-to-many, or many-to-one relationships. EclipseLink JPA is picky about this and I guess OpenJPA was not.

Left the EclipseLink stuff in the POMs for now, commented out. Might be nice someday to have different Maven build profiles for the different options, so testing against EclipseLink JPA, Hibernate JPA and OpenJPA can be automated.

See also https://issues.apache.org/jira/browse/ROL-1891

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1035069 13f79535-47bb-0310-9956-ffa450edef68"
b5ed575dc2a7a8440295f05f3a5f8915bd578f99,"Fixes to allow Roller JUnit tests to run against EclipseLink JPA. Most changes involved adding code to manage both ends of a one-to-many, or many-to-one relationships. EclipseLink JPA is picky about this and I guess OpenJPA was not.

Left the EclipseLink stuff in the POMs for now, commented out. Might be nice someday to have different Maven build profiles for the different options, so testing against EclipseLink JPA, Hibernate JPA and OpenJPA can be automated.

See also https://issues.apache.org/jira/browse/ROL-1891

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1035070 13f79535-47bb-0310-9956-ffa450edef68"
594544fab7e9b2b6fb3d9461f6826c17bc9e4dbb,"Fixes to allow Roller's JUnit tests to run against Hibernate JPA 2.0
https://issues.apache.org/jira/browse/ROL-1892

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1037348 13f79535-47bb-0310-9956-ffa450edef68"
254ed934e7eac8b43a7b0281c7feee2e04ecca4d,"For for https://issues.apache.org/jira/browse/ROL-1894
Enable Roller 5 to run on JBoss AS 6

Changes needed to run Roller on JBoss 6 AS and to enable creating both a Tomcat release and a release designed to run on Java EE 6 application servers.

* Turned off OpenJPA bytecode enhancement to get Roller to run on Hibernate, so added -Djavaee=true flag to allow bytecode enhancement to be turned off.

* Added two assemblies to weblogger-assembly: 'for-javaee' to create a Java EE 6 release and 'for-tomcat' to create a Tomcat release.

* Had to set some Hibernate properties, so I enhanced JPAPersistenceStrategy classes to pass along JPA and Hibernate properties in addition to the Open JPA ones it already does. 

* To run on JBoss's JPA, we need the following properties, so I added them to roller.properties: 
   hibernate.transaction.factory_class=\
      org.hibernate.transaction.JTATransactionFactory    
   hibernate.transaction.manager_lookup_class=\
      org.hibernate.transaction.JBossTransactionManagerLookup

* Also added non-JTA datasource java:/RollerDS to persistence.xml, a setting that is ignored when the JUnit tests are run and when Roller is run on Tomcat.

* JBoss 6 AS requires the 'mapped-name' element in web.xml so I upgraded Roller's web.xml to Servlets 2.5, and uncomment the datasource and mail session resource refs there.

* Added a jboss-web.xml to map from Roller's jdbc/rollerdb to java:/RollerDS, but need to check if this is really needed.

* Found some issues in Struts 2.1.8, so I upgraded to Struts 2.2.1. This also added a runtime dependency on Javassist.

* Needed to fix bug in String Taglib, which is a dead project, so removed dependency on String Taglib and added source for the five tags used by Roller.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1038901 13f79535-47bb-0310-9956-ffa450edef68"
bc9bbc837c4e48e436ef0b5ccda562ec53841f95,"For https://issues.apache.org/jira/browse/ROL-1894
Enable Roller 5 to run on JBoss AS 6

Unfortunately, it appears that JBoss will need its own build, one that does not include Xerces or Javassist because those are included in the webapp classpath by default. 

Also adding two scripts to make creating Tomcat, Java EE and JBoss releases easier.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1039076 13f79535-47bb-0310-9956-ffa450edef68"
fd011f1880b360ba8117a13bc15a5b36bc1b48d4,"For https://issues.apache.org/jira/browse/ROL-1894
Enable Roller 5 to run on JBoss AS 6

Changes to create different persistence.xml files for JBoss.

It's bad enough that you have to hard-code a JNDI name inside your persistence.xml, which is inside a JAR and inside a WAR and not very easy for somebody to edit.

What's even worse is that you can't hard-code in a name that will work on all Java EE app servers. If you create a datasource with the name 'jdbc/rollerdb' in the app server console, Glassfish will want to see 'jdbc/rollerdb' in the persistence.xml and JBoss will want 'java:/rollerdb'


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1039586 13f79535-47bb-0310-9956-ffa450edef68"
caf006ee326eec30c40c356e5ed1f5805a493af5,"Fixes for Logging does not work on Websphere problem
https://issues.apache.org/jira/browse/ROL-1895

In addition to these fixes, I also had to add a file 'common-logging.properties' to the WAS profiles/properties with this content:

      org.apache.commons.logging.LogFactory=org.apache.commons.logging.impl.LogFactoryImpl

See also:
http://wiki.apache.org/commons/Logging/FrequentlyAskedQuestions
http://www-01.ibm.com/support/docview.wss?uid=swg21211020

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1042273 13f79535-47bb-0310-9956-ffa450edef68"
4da4cb111015df6793e59a2e8d463eecf625b36f,"Changes to enable Roller to work on Websphere 8
https://issues.apache.org/jira/browse/ROL-1896



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1042372 13f79535-47bb-0310-9956-ffa450edef68"
181cfca741d153e7a1f13af4867e48c63524e1e9,"Fixes jetty:run goal which was broken by latest Java EE 6 changes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1050859 13f79535-47bb-0310-9956-ffa450edef68"
8bba57837377627667cc1393e4559b629377f387,"Adding WAR assembly to package Roller as a custom WAR for each of the three ""app servers"" we support

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1052070 13f79535-47bb-0310-9956-ffa450edef68"
2fad6c09373adee0dd2c05696846930104675e1c,"Adding WAR assembly to package Roller as a custom WAR for each of the three ""app servers"" we support
Related to: https://issues.apache.org/jira/browse/ROL-1894

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1052073 13f79535-47bb-0310-9956-ffa450edef68"
acc17965e3ca5aa9959f6a09b449e6dfbccadb02,"More fixes to get Roller working on Tomcat, Glassfish and Websphere.
Related to: https://issues.apache.org/jira/browse/ROL-1894

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053252 13f79535-47bb-0310-9956-ffa450edef68"
5a5672a20661383001abab3c89dfcb3b75ffe39a,"Updated installation guide with complete instructions for Tomcat, Glassfish, JBoss and Websphere.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053254 13f79535-47bb-0310-9956-ffa450edef68"
d65061a4ee5f91611fce62bafdc80c4a1560eb69,"formating/layout changes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053260 13f79535-47bb-0310-9956-ffa450edef68"
868bafad7c56ced1fcb4d39722a2689e3dfefb30,"- Cleaning up warnings in Maven POM files
- Also, building for Tomcat requires to -Dtomcat=true flag

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053415 13f79535-47bb-0310-9956-ffa450edef68"
cfc22d82e500dfdd08e7e6071cc43c43b10ce5e6,"Couple fixes related to 'tomcat' property

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053419 13f79535-47bb-0310-9956-ffa450edef68"
768c9c38555da213a8fa8e0506ccaf0edbee9b85,"Use tomcat flag for Tomcat builds

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053448 13f79535-47bb-0310-9956-ffa450edef68"
2fea26e540bc9db939cd41f5748127d1f4abe22a,"Only build source release once.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053702 13f79535-47bb-0310-9956-ffa450edef68"
bbeeb79a9513cc1456636c7de71156600fe20cf3,"Fix for problem with page title, due to substitution problem.
     https://issues.apache.org/jira/browse/ROL-1889

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053704 13f79535-47bb-0310-9956-ffa450edef68"
cbb80edc456de141d2a16d4efcefc1743d870f0e,"Updated generated docs dir but forgot to commit it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053706 13f79535-47bb-0310-9956-ffa450edef68"
8666bfdf6691ce8d3a6bb5dab46b64a73a57ba65,"Removing markup from string
https://issues.apache.org/jira/browse/ROL-1886

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053709 13f79535-47bb-0310-9956-ffa450edef68"
24705e3ca150ed65b142097fa733b80c05df2473,"Fixing 'dave' hardcoded into Fauxcoli theme
https://issues.apache.org/jira/browse/ROL-1897

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053721 13f79535-47bb-0310-9956-ffa450edef68"
0b517d26583b450845e6953f9705844372d54d42,"Fix for ROL-1900 that defaults to closed registration and only allows creation of first user at installation time. https://issues.apache.org/jira/browse/ROL-1900

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053725 13f79535-47bb-0310-9956-ffa450edef68"
d250528ea4ef2c65a9bea69245367c01c78a0a2b,"Fix for https://issues.apache.org/jira/browse/ROL-1899
""Media Files system does not work well for Java applets""

Roller's media file system was designed for images, videos and not for arbitrary uploads. File URLs are opaque, do not include directory path information or file extensions. There is a directory hierarchy that you can use to organize your files, but moving files around will not break links. That is all ""by design"".

If you really need to have file paths and extensions, you can enable a setting that allows you to edit the ""originalPath"" of a file. It's called original path because it is intended to support old Roller 4 style file URLs for a blog's old migrated uploads. It was not intended for general purpose use and therefore it is not editable by default.

This fix adds a configuration option that allows you to enable editing of the ""original path"" setting of a media file. This allows you to set an alternative full path, e.g. 'photos/picture1.jpg' for media files. All file URLs will use the old file upload base path of /resources/


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053756 13f79535-47bb-0310-9956-ffa450edef68"
e6d6f8340114f32e40d4191a05ed762e1c1a7d61,"Forgot to commit I18N string for originalPath option
https://issues.apache.org/jira/browse/ROL-1899

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053928 13f79535-47bb-0310-9956-ffa450edef68"
62125bf5b9201ec1e8d4c03d9455f68699c9c6d8,"Needed  for default to closed registration issue
https://issues.apache.org/jira/browse/ROL-1900


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053929 13f79535-47bb-0310-9956-ffa450edef68"
f07b88f67af4d4c5aa48744aec41aa3b6972aaa5,"Added section of recommendations for securing Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053983 13f79535-47bb-0310-9956-ffa450edef68"
2ddd3764877d01ab8cad3e90baa73b0d7471f194,"Removing option for bz2 source builds. GZipped Tar and Zip are good enough.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053985 13f79535-47bb-0310-9956-ffa450edef68"
92ad188f3ec7317fd0ede66f16cf9a58d32f8e1d,"Disable HTML comments by default

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053986 13f79535-47bb-0310-9956-ffa450edef68"
285fea207b877e0c74c7bbe572b6d08441cfa540,"couple of small corrections and now mentions weblogger-war-assembly

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053987 13f79535-47bb-0310-9956-ffa450edef68"
12b63da758049d6688523fbd3c0b22c05945e732,"Updating build signing scripts to account for our three types of builds.
Related top https://issues.apache.org/jira/browse/ROL-1894

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1053989 13f79535-47bb-0310-9956-ffa450edef68"
508e012771c5afaa0b7e38edf2b7f6b0c4d70155,"Removing source release from javaee assembly, and excluding my tomcat directory

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1054145 13f79535-47bb-0310-9956-ffa450edef68"
e4e4b3ea3a2ba45d73f1a124d91baa72439a8e60,"Fix for ""Incorrectly directs to Main Menu after saving new entry""
   https://issues.apache.org/jira/browse/ROL-1901

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1062537 13f79535-47bb-0310-9956-ffa450edef68"
07bd40772243fba654191fa8563a633c3ab55d40,"Making it easier to do a ""dev"" build... i.e. no need for -Dtomcat=true

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1062538 13f79535-47bb-0310-9956-ffa450edef68"
1d617b89dbcefde351d39576dc74d71d3dc290a9,"Adding Eclipse classpath and project files

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065275 13f79535-47bb-0310-9956-ffa450edef68"
36e748ac6d27da29fc5aa1442cfd3562f80b387b,"Fixes GlassFish classpath directory locations, https://issues.apache.org/jira/browse/ROL-1902

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065279 13f79535-47bb-0310-9956-ffa450edef68"
24843dca8a473351b33db09dfcf7d8e382b540b4,"Ensure that failure in testSearchMediaFilePaging does not cause subsequent failures

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065309 13f79535-47bb-0310-9956-ffa450edef68"
a013120a96e04d84fafadfc618ef1a79dfe3d939,"Attempting to fix odd JUnit test failure that happens on Apache's Hudson install, somehow MediaFile.dateUdpate is apparently being set to the current time then inexplicably set back to null before save. I can't duplicate this on my machine.

Caused by: <openjpa-2.0.0-r422266:935683 fatal general error> org.apache.openjpa.persistence.PersistenceException: Column 'DATE_UPLOADED'  cannot accept a NULL value. {prepstmnt 15408035 INSERT INTO roller_mediafile (id, content_type, copyright_text, creator, date_uploaded, description, height, last_updated, size_in_bytes, name, origpath, is_public, width, directoryid, weblogid) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?) [params=(String) 68355ea1-071a-4a4b-b515-224a4f0f4ec8, (String) image/jpeg, (String) test copyright text, (null) null, (null) null, (String) This is a test image, (int) -1, (null) null, (long) 2000, (String) test_file7.jpg, (null) null, (int) 1, (int) -1, (String) 2f66a8d2-9e89-4c44-bf5f-749751c30c3c, (String) 07c769c0-89ad-4983-a3a6-50faae42c0f9]} [code=-1, state=23502]
FailedObject: org.apache.roller.weblogger.pojos.MediaFile@cc4364

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065321 13f79535-47bb-0310-9956-ffa450edef68"
81114ea563e875f1d062de9f26317b8982c52cc9,"Removing target dir from source tree

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065349 13f79535-47bb-0310-9956-ffa450edef68"
630e1c6a4424b658361ede54bbeacecb218dfa54,"Attempting to fix odd JUnit test failure that happens on Apache's Hudson install: somehow MediaFile.dateUdpate is apparently being set to the current time then inexplicably set back to null before save. I can't duplicate this on my machine.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065447 13f79535-47bb-0310-9956-ffa450edef68"
260939dfe2e31f8a478f36fed964eab45919dcde,"Another attempt to fix the odd JUnit test failure that happens on Apache's Hudson install.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065459 13f79535-47bb-0310-9956-ffa450edef68"
595afc56320dea789be9e7e9d9df68aa851bc8a2,"Another attempt to fix the odd JUnit test failure that happens on Apache's Hudson install. This time, upgrading to latest OpenJPA (v2.0.1)


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065462 13f79535-47bb-0310-9956-ffa450edef68"
1c5b93392593f6337155c266dfc08604aa62fb89,"Updated how to build for Tomcat section. Also added links to build guides on the wiki.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1065480 13f79535-47bb-0310-9956-ffa450edef68"
f351f04fb73e7fb831d93776f39c74d8fa2da0f5,"- Removing redundant deps from weblogger-webapp
- Changing version from RC3 to RC4

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1067580 13f79535-47bb-0310-9956-ffa450edef68"
55bede63477cb8dc5e3c1fa8272e80694b574ef7,"removing unnecessary activation.jar from ROME deps

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070257 13f79535-47bb-0310-9956-ffa450edef68"
ec2c6ac78e8dadf27a1a2f2dcd2a4677347ccae1,"The error below is occurring during Roller builds on Hudson, but I cannot reproduce it on my machine.

Caused by: <openjpa-2.0.1-r422266:989424 fatal general error> org.apache.openjpa.persistence.PersistenceException: INSERT on table 'ROLLER_MEDIAFILETAG' caused a violation of foreign key constraint 'ROLLER_MEDIAFILE_ID_TAG_FK' for key (e1504639-6322-4d10-803c-be5a673822d1).  The statement has been rolled back. {prepstmnt 23935034 INSERT INTO roller_mediafiletag (id, name, mediafile_id) VALUES (?, ?, ?) [params=?, ?, ?]} [code=-1, state=23503]

The fix in this commit ensures that both sides of the the MediaFile - MediaFileTag relationship are maintained; it's the right thing to do regardless.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070259 13f79535-47bb-0310-9956-ffa450edef68"
1c98d18773595cdacc85d3e4a8566a68536e64bc,"A couple of fixes necessary to make Roller better support Google Reader OPML file import.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070260 13f79535-47bb-0310-9956-ffa450edef68"
54307ca4527382d9ae84362a3d8a575af8f5e7ae,"Couple more fixes to MediaFile - MediaFileTag relationship in tests

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070262 13f79535-47bb-0310-9956-ffa450edef68"
c3aa8d6b27a7d1e7aa70e6d441af732b68afe489,"Minor tweaks to Eclipse classpath

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070272 13f79535-47bb-0310-9956-ffa450edef68"
4920b88b28e8d5f964cf6325864b0dbb3207bf81,"Correct version number for OpenJPA (for rarely used runtime bytecode enhancement)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070273 13f79535-47bb-0310-9956-ffa450edef68"
b8644f4f0281b630a9d3f669ed4d306c1dcacf11,"Adding try-finally to clean-up, see if there is really only one failure

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070276 13f79535-47bb-0310-9956-ffa450edef68"
26b18518cb72549c0bb459a9f8179ebd869926fc,"Fixing another reference to OpenJPA 2.0.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070278 13f79535-47bb-0310-9956-ffa450edef68"
177bacbc50e371a61eec7ea392694ba885fbd383,"Couple more fixes to MediaFile - MediaFileTag relationship in tests

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070297 13f79535-47bb-0310-9956-ffa450edef68"
62183def093ca215ea374bca6f8bdb73b943068c,"Another attempt to fix text failure that occurs only on the ASF Husdon server

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070313 13f79535-47bb-0310-9956-ffa450edef68"
74fea6babe02c2a76444df1664f111bdcb7e81e4,"For some reason the Hudson build is failing because the test classes cannot find activation.jar. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070322 13f79535-47bb-0310-9956-ffa450edef68"
7579a4485a6c0ec014ee4b50a40e76fb79c1b603,"typo

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070735 13f79535-47bb-0310-9956-ffa450edef68"
5c51addf4a7c34ccdccae5811772b1606d564b59,"Fixed typo, incorrect name for output dir

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070737 13f79535-47bb-0310-9956-ffa450edef68"
a465a3157f68039d60a8f0471737fd75b2056005,"Ensure that buildnumber plugin works even when workspace not in SVN

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070764 13f79535-47bb-0310-9956-ffa450edef68"
e9561d986986ed93013261b72da22ed457b8d324,"Source build only available in tar.gz now. 

Trying to build it via ASF's Hudson always yields an error like this:

[INFO] Building zip: /zonestorage/hudson/home/hudson/hudson-slave/workspace/Roller-For-Tomcat/weblogger-assembly/target/roller-weblogger-5.0.0-RC4-source.zip
[INFO] ------------------------------------------------------------------------
[ERROR] FATAL ERROR
[INFO] ------------------------------------------------------------------------
[INFO] invalid entry size
[INFO] ------------------------------------------------------------------------
[INFO] Trace
java.lang.IllegalArgumentException: invalid entry size
	at java.util.zip.ZipEntry.setSize(ZipEntry.java:139)
	at org.codehaus.plexus.archiver.zip.ZipOutputStream.closeEntry(ZipOutputStream.java:352)
	

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070765 13f79535-47bb-0310-9956-ffa450edef68"
298826308c05840474e27ee6e675d3caa480635d,"Added note about additional config needed on WAS for Commons Logging

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070766 13f79535-47bb-0310-9956-ffa450edef68"
80389b390b2f1eba84018a1d598f5dbf19a9e583,"Changing file delete to warning rather than exception to enable tests to run on Windows.

At runtime the effect should be the same as before, the problem will be logged. 
The difference is that the user won't see an error message.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1070937 13f79535-47bb-0310-9956-ffa450edef68"
b293198d89a51624135b2723c7c9fdfdb5997c10,"Removing unecessary excludes from source build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1074384 13f79535-47bb-0310-9956-ffa450edef68"
41671bb166be10253484410dd217e37feeb7323e,"Don't include .idea directories in source release


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1074913 13f79535-47bb-0310-9956-ffa450edef68"
0d7be3a742c610c5e84c3800a0261230e374befa,"The source assembly works fine on my machines (Mac, Ubuntu, etc.) but failing when created via ASF's Hudson build server. 

Here is the error message:

  [INFO] Building tar : /zonestorage/hudson/home/hudson/hudson-slave/workspace/Roller-For-Tomcat/weblogger-assembly/target/roller-weblogger-5.0.0-RC4-source.tar.gz
  [INFO] ------------------------------------------------------------------------
  [ERROR] BUILD ERROR
  [INFO] ------------------------------------------------------------------------
  [INFO] Failed to create assembly: Error creating assembly archive source: Problem creating TAR: request to write '0' bytes exceeds size in header of '-805757777' bytes

I'm hoping that switching to GNU long filename mode will cause this problem to go away.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1074916 13f79535-47bb-0310-9956-ffa450edef68"
db8be45beb3635bb03e65566dbd1a22c1f22f59b,"Disregard the previous comment. We already use GNU mode. Doh!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1074938 13f79535-47bb-0310-9956-ffa450edef68"
5b1e311f14f7cc3b57d304a9dee596125a6e5003,"Excluding target directory from source release; bet that'll fix it

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1074979 13f79535-47bb-0310-9956-ffa450edef68"
d1b7d12874cb03f52e391818f0c9d6f27cd3eb7d,"Final preps for RC4 release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1075059 13f79535-47bb-0310-9956-ffa450edef68"
be25633c64597b33380d34aba352b1d134fd2aa8,"Removing extraneous Content label

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1075073 13f79535-47bb-0310-9956-ffa450edef68"
4ff03e707347cd6434e337a6a75e1a7270bc57ba,"outputDirectory '.' causes problems on Tomcat 7

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1076092 13f79535-47bb-0310-9956-ffa450edef68"
9775bf25622b8eb431ed90c25623f7337f5e1d06,"Committing updated Eclipse project files, in hopes they'll help other Eclipse users

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078473 13f79535-47bb-0310-9956-ffa450edef68"
1f576010ac10125cb4626ddd2db976e188af16ed,"Committing updated Eclipse project files, in hopes they'll help other Eclipse users

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078479 13f79535-47bb-0310-9956-ffa450edef68"
c12b6532129138cdeea03033ed872737ee5cb0e2,"Committing updated Eclipse project files, in hopes they'll help other Eclipse users

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078484 13f79535-47bb-0310-9956-ffa450edef68"
318e258ad92b3003775781d37fbcb7cdf7689c69,"Fix for ROL-1909

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078486 13f79535-47bb-0310-9956-ffa450edef68"
e58ea432807f823739b48967c7afccad103af754,"Fixing ROL-1908

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078487 13f79535-47bb-0310-9956-ffa450edef68"
1cd197f88b582a095222f2c84c50a37d6e24f6a1,"Small tweak to comment form layout to ensure fields don't wrap.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078513 13f79535-47bb-0310-9956-ffa450edef68"
2aa177ce8c7867f6c0368b3492e549541f0144b4,"Fix for ROL-1912, editing a comment should not updaate its posttime

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1078520 13f79535-47bb-0310-9956-ffa450edef68"
1172950f493ea41bf288a436eee0877af99e4afe,"Lingering reference to OpenJPA 2.0.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1080936 13f79535-47bb-0310-9956-ffa450edef68"
bd6cfd26c31185ad61613a2654e2478a11bce2b0,"Trying to trim down size of source release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081084 13f79535-47bb-0310-9956-ffa450edef68"
45f628406857925869bb30aa815a1ec9ad8fb11f,"Backing off to jst.web 2.4

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081142 13f79535-47bb-0310-9956-ffa450edef68"
6d7dc0fd07745b9492d8a83f5722b5b863ea513c,"Fixing typo in comment

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081143 13f79535-47bb-0310-9956-ffa450edef68"
0635dc7aceeeaea76b555cce4d60e758fc94ef5a,"Correcting a probem introduced by efforts to make Roller work on Websphere

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081147 13f79535-47bb-0310-9956-ffa450edef68"
312c56707fbcb53f2b751d67cd23ef122a16b489,"Setting jst.web version to match Roller web.xml verison 2.5

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081164 13f79535-47bb-0310-9956-ffa450edef68"
50175e6ede7b5451510a7b06c6a649abfe170c7b,"Fix for ROL-1913, cannot disable client APIs at site-wide level

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081183 13f79535-47bb-0310-9956-ffa450edef68"
91140ca228b14fe98152abe4571cab9f8420e303,"Further attempts to reduce size of source release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081188 13f79535-47bb-0310-9956-ffa450edef68"
cefeaac7bd65c6f37d48b1291a20717b347f27fb,"Adding note about database connection parameters URL, username and password to the Glassfish and JBoss sections

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081948 13f79535-47bb-0310-9956-ffa450edef68"
85819c8eef2832ae6c66f72522027d2b360c6f51,"Adding note about database connection parameters URL, username and password to the Glassfish and JBoss sections

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081950 13f79535-47bb-0310-9956-ffa450edef68"
80a70ebc487da3785c757e94b381ecd8ec7ee832,"Adding note about database connection parameters URL, username and password to the Glassfish and JBoss sections

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1081951 13f79535-47bb-0310-9956-ffa450edef68"
b2661b13faeb4665f221e67c32e8a66c319d744b,"Preparding for RC5

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1083504 13f79535-47bb-0310-9956-ffa450edef68"
2c50296585464c82abaead5ae16a4236b683c7ae,"Small tweak to Eclipse proj files

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1083545 13f79535-47bb-0310-9956-ffa450edef68"
d3761436541fe6eed3bef585194f4d91ae3a90b5,"Removing links from front-page theme to JIRA and mailing lists

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1083547 13f79535-47bb-0310-9956-ffa450edef68"
133e33491c28c23c746410927c0ab2fcda96005c,"Updating committer list

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1083548 13f79535-47bb-0310-9956-ffa450edef68"
abd63b69f7c69312db356bd034fadc0eecc3670a,"only set encoding on request if it is not already UTF-8

should eliminate silly warnings on Glassfish 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1086819 13f79535-47bb-0310-9956-ffa450edef68"
5c46cce89f048524c5dd3e341f19a64891ab31b8,"planet deps should be on RC5 now too

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088100 13f79535-47bb-0310-9956-ffa450edef68"
2beca36bc13c84563f08d2f413090ea816ddfd1d,"Fix for ROL-1918: switching to shared Front Page theme on Glassfish causes HTTP 500 error 
https://issues.apache.org/jira/browse/ROL-1918

- Change to exception handling so errors get logged
- Better handling for files in root directory

It is possible that you'll get a 500 error if a weblog does not have a root media directory. As far as I know, the only way that can happen is if you upgrade from 4.0 to 5.0 but do not do the media file migration properly. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088110 13f79535-47bb-0310-9956-ffa450edef68"
2762e9e4c1a9abdb3858c29fe7fb23b6ece07e5e,"Correcting name of cache dir property

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088144 13f79535-47bb-0310-9956-ffa450edef68"
ed4b5ac95af2fe08545ddc88f6e6b19f37a138eb,"Issue ROL-1916: Verify Planet works on Glassfish and prominently point out planet-custom.properties 
https://issues.apache.org/jira/browse/ROL-1916

- Corrected cache dir property name in Install Guide
- Made sure JPARollerPlanetPersistenceStrategy uses same logic as non-Roller one

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088146 13f79535-47bb-0310-9956-ffa450edef68"
eea5c83075e655e2d727264a0978c425bbf76b19,"Issue ROL-1915: Disable AtomPub option exists in two places 
https://issues.apache.org/jira/browse/ROL-1915

- removed no longer used AtomPub options in roller.properties
- removed same properties from Install Guide
- removed unneeded images from generated HTML version of install guide

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088278 13f79535-47bb-0310-9956-ffa450edef68"
6eced3a3b4d971c2a50aa7a7b4cf923d13d222d9,"Issue ROL-1917: Missing translation in Server Admin page, results in Struts WARNings 
https://issues.apache.org/jira/browse/ROL-1917

- fixed problen: we were calling s:text tag with pre-translated text strings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1088311 13f79535-47bb-0310-9956-ffa450edef68"
55ec17ba79c14c9b24912b3000f4ba9161c1f1b2,"fix for https://issues.apache.org/jira/browse/ROL-1922

we no longer include the Eclipse .classpath, .project and .settings files in the source bundle

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1089290 13f79535-47bb-0310-9956-ffa450edef68"
38203f48bf12769d44b33daaa6a8a499546a3a11,"Fix for https://issues.apache.org/jira/browse/ROL-1921

Kludgey fix to allow bean to be passed along the action chain.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1089291 13f79535-47bb-0310-9956-ffa450edef68"
9423fba503b61561fd9efc88bf6fc3ec152f6e2b,"Fix for https://issues.apache.org/jira/browse/ROL-1920

HTMLSubsettting now only does the encoding for text/html

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1089292 13f79535-47bb-0310-9956-ffa450edef68"
6deb9ab478c2078e8c7bd1fdd846b85fea3cd358,"Fixed for file upload and post-without-categories, ROL-1923 and ROL-1924

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1090655 13f79535-47bb-0310-9956-ffa450edef68"
35668e7d6a5836cdf946ff1e08d7629db113600f,"ready for RC6

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1090657 13f79535-47bb-0310-9956-ffa450edef68"
f0efe421486b76009472b62893460fc4632d087f,"Adding name of template action to templates display page

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1098879 13f79535-47bb-0310-9956-ffa450edef68"
aecff9bfcd25ad669cd3a23ca2942dd5301ad7ce,"adding autoReconnect=true to example MySQL URLs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1098880 13f79535-47bb-0310-9956-ffa450edef68"
dfbc300073f4c2af605a9163702e0c4cfcabdd95,"Preparing for release vote

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1098884 13f79535-47bb-0310-9956-ffa450edef68"
00a0052a76f8d22b03b3a8b570ec200c9e1dd932,"Preparing for release vote

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1098886 13f79535-47bb-0310-9956-ffa450edef68"
97be115cbaa3de0d1bac981ea542e89e93e5d03e,"Removing uploads.dir and setting uploads.migrate.auto=false in roller.properties, so that 4.0 to 5.0 file migration will not happen unless explicitly enabled by user

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1100790 13f79535-47bb-0310-9956-ffa450edef68"
28ee9590ad00eba56e9cf5c1306ef4288c9d22cf,"Point web pages to new 5.0 release files

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1100871 13f79535-47bb-0310-9956-ffa450edef68"
7f8956ea84ccc83dfc540a5ac9bc2d84069bf0e5,"Correcting lingering reference to 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1100989 13f79535-47bb-0310-9956-ffa450edef68"
5f9c629d2314020ebd97a72cc68b2d879771cc3c,"Doc updates (that were included in 5.0 release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1103964 13f79535-47bb-0310-9956-ffa450edef68"
3b53c968a6bf6074e1b71d3e553fa90c92448bc0,"Branching 5.0

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1103969 13f79535-47bb-0310-9956-ffa450edef68"
22c03369002a1f175627210fb84c73485b97abde,"Need quotes around the Java agent path because of the good old spaces in path names on Windows problem.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1139442 13f79535-47bb-0310-9956-ffa450edef68"
d466103e0b716ccc15d51c0422c39642ac83b953,"Dev branch for GSOC project

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1139920 13f79535-47bb-0310-9956-ffa450edef68"
d8363cd456e53b65d34eceb55b1c2a85e0128f6b,"Adding patch1 and patch2 to the branch.work upto editing custom templates included


git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1140970 13f79535-47bb-0310-9956-ffa450edef68"
90566e4fb5d311142ba4b85b148b8926f55fe6d7,"remove mobile template while removing its standard template

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1142251 13f79535-47bb-0310-9956-ffa450edef68"
e25ff1baa94a8b16bff217c2c313cb99b9389ac0,"Adjusting version number to ""5.1.0-mobile-dev"" so that modules do not conflict with 5.0.0 modules

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1144667 13f79535-47bb-0310-9956-ffa450edef68"
fb23f8781ede399fa11877e57a55bfbc55f98336,"adding desing changes of WeblogThemeAssoc & WeblogTemplateCode with test

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1150792 13f79535-47bb-0310-9956-ffa450edef68"
a27e3726a513380b1da23422f11c74a6e86ff597,"Adding changes of new design change-one type of theme with different types of template codes

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1157397 13f79535-47bb-0310-9956-ffa450edef68"
1412f8ca827b036fa448e18d00eca3c32157279e,"Added Creating custom theme adding/import for mobile platform

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1157507 13f79535-47bb-0310-9956-ffa450edef68"
7f0e92170007d995ac0c1ce79b8b988ac4043e4d,"Bug fixes and adding a simple basic mobile theme

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1158918 13f79535-47bb-0310-9956-ffa450edef68"
77f65800cdad3a0722d2c176bc216a2509fce42d,"Added searching capability for mobile theme

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1159525 13f79535-47bb-0310-9956-ffa450edef68"
ebd5d645bc2124df97bc4d78115387146c51662e,"Added type switching capability based on cookie set by user for preffered type

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_mobile@1159989 13f79535-47bb-0310-9956-ffa450edef68"
3748ca7a84348e3451d1b3a08f2b54aaa679e4ba,"Committing patch for ""Roller 5 MSSQL Issues/Fixes"" ROL-1927, contributed by Nick Padilla. Thanks Nick!

   https://issues.apache.org/jira/browse/ROL-1927

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1160041 13f79535-47bb-0310-9956-ffa450edef68"
0dda3cced080efc3f579ec60f8fec22764d601bf,"Committing patch for ""the bug of OpenID only authentication"" ROL-1927, contributed by Shutra. Big thanks!

   https://issues.apache.org/jira/browse/ROL-1925

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1160051 13f79535-47bb-0310-9956-ffa450edef68"
1d9acb334d480f67cf166a554f62efebf3054971,"Reverting some changes made in most recent commit. Only the weblogger-web module needs Spring, so we do not need to mention Spring at the parent project level

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1160074 13f79535-47bb-0310-9956-ffa450edef68"
81b8d18e25cbc6d3789894dcf8806930d3bfe5d3,"Merging roller_mobile branch into trunk

Related to https://issues.apache.org/jira/browse/ROL-1919



git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1172072 13f79535-47bb-0310-9956-ffa450edef68"
1670e09e920d94fc25ec365cfafee28d5573beee,"Merging roller_mobile branch into trunk. Related to https://issues.apache.org/jira/browse/ROL-1919

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1172075 13f79535-47bb-0310-9956-ffa450edef68"
b5802ef89a27ca8a5792496c73fa897e25d70eb4,"start of a 5.1 migration script

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1184825 13f79535-47bb-0310-9956-ffa450edef68"
b39701a88f82d9069245782e45cae94a36529cbf,"upgrading to Spring Context 2.5.6 to fix exception at startup time (reproduced on on both Tomcat and Jetty)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1184827 13f79535-47bb-0310-9956-ffa450edef68"
c6f0ec7921a4059b77183824d53ae4dc8e4f7823,"upgrading to Spring Context 2.5.6 to fix exception at startup time (reproduced on on both Tomcat and Jetty), for real this time. Also, setting version number to 5.1.0 instead of 5.1.0-mobile-dev.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1184835 13f79535-47bb-0310-9956-ffa450edef68"
4a026ce522f984478632b3d5a6927b71ea7bf625,"consistent module naming

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1184928 13f79535-47bb-0310-9956-ffa450edef68"
49b9f7742ad005643b4f58412c0b5c49d65ef067,"consistent module naming

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1184929 13f79535-47bb-0310-9956-ffa450edef68"
04a237c96d11cb7dc3d582248ef539b424127738,"Spring deps were still not quite right...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1187904 13f79535-47bb-0310-9956-ffa450edef68"
0782fc31ba5eb555903ae6761e3dab8731e806bb,"Complete 5.0 to 5.1 migration script now in place

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1194887 13f79535-47bb-0310-9956-ffa450edef68"
9fdaa2d0cfedc82288ee2eec32d2968b9ae8b9b4,"This was originally a fix for ""Saving Template causes Null Pointer Exception""
https://issues.apache.org/jira/browse/ROL-1930

But once I fixed the problem I found a series of other problems and ended up making some fundamental changes in the way that Roller's new mobile template support is implemented. I will summarize.

1) The Template Edit page now uses the YUI tab control to switch between a Page's standard and mobile template code on the client side. Both values are saved on the client-side and switching tabs no longer causes a page refresh.

2) Instead of determining the device-type and then injecting the right template code into the Roller Page object, which could cause other requests to get the wrong data inside the Page object, we now determine the device type and pass it down deep into Roller's rendering engine. At the RollerResourceLoader level we use the deviceType to fetch the correct template code for the deviceType.

3) Type is no now an enum called DeviceType and the variable is called deviceType instead of ""type"" everywhere




git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1201435 13f79535-47bb-0310-9956-ffa450edef68"
3719ed8afbdfb52dc5fd107088025b8571b2e66b,"More fixes to ensure that deviceType is appended properly in all calls to Velocity resource loader
related to https://issues.apache.org/jira/browse/ROL-1930


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1201532 13f79535-47bb-0310-9956-ffa450edef68"
8a26d066b9aa1c9de301ecb90984cd66f31767b4,"More fixes to ensure that deviceType is used to select correct template code in shared
related to https://issues.apache.org/jira/browse/ROL-1930

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1201543 13f79535-47bb-0310-9956-ffa450edef68"
59dd8f091dd1de36496678bad1a5c24d1c05221c,"Adding device type to cache key formation for PageServlet

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1204176 13f79535-47bb-0310-9956-ffa450edef68"
2d4c69ebeeb6ab82344c617c73bd5c821541e694,"Hack to allow old Roller themes to work with Roller 5.1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1204343 13f79535-47bb-0310-9956-ffa450edef68"
91e3ae1dc80657bfaad1683d9ac0a9d00c72ceff,"Introducing a new TemplateCode interface to allow the new template code classes fit into better to the Roller template system design.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1206329 13f79535-47bb-0310-9956-ffa450edef68"
56fdd668b2a797b63810c2f4aaf029eb725ca4be,"Introducing a new TemplateCode interface to allow the new template code classes fit into better to the Roller template system design.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1206334 13f79535-47bb-0310-9956-ffa450edef68"
114bcd1b8344a44bdfaa73486a9ceb9d915f4a76,"Couple of fixes in refactorings that I did yesterday

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1206540 13f79535-47bb-0310-9956-ffa450edef68"
1bdd93149bb588a74fa26b59641f7287889ed0c8,"Moving to new versions of Struts and Spring security

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1231565 13f79535-47bb-0310-9956-ffa450edef68"
d232b55d9ce5c189ec1c55e2bec2ce67bb932892,"Removing unnecessary call to device registry, and doing an import cleanup

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1231567 13f79535-47bb-0310-9956-ffa450edef68"
ce2374e75f77f4f06a97c0e269db35f92a80e3a7,"Moving to newer Struts and Spring releases to avoid potential vulnerabilities

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1231571 13f79535-47bb-0310-9956-ffa450edef68"
8ab045368524e7b1c471668a9ac052226758654e,"Testing 1 2 3

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1234524 13f79535-47bb-0310-9956-ffa450edef68"
6365e9f323fc8e86f78fe1f6a86e5d971083103e,"Testing 4 5 6

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1234525 13f79535-47bb-0310-9956-ffa450edef68"
f9eaafa03d438770432ba58f393fdb5f7e592775,"Prevent NPE when template passes null weblog

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1234529 13f79535-47bb-0310-9956-ffa450edef68"
c2ba8f355f192819917f64eeca61de2ae026bbd3,"Fix for invalid regular expression flag r in firefox

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1234581 13f79535-47bb-0310-9956-ffa450edef68"
d27d821140cc0d52f667c16b814000df7ae64efe,"Missing closing tag

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1236063 13f79535-47bb-0310-9956-ffa450edef68"
55e93bad240c26dd17d7979fe0ce672dfa94ca95,"Theme reloading fixes for custom themes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1236743 13f79535-47bb-0310-9956-ffa450edef68"
5ea92e91a21dccdbe9bd6aa0adf9a2189ad1b953,"Typo on input field

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1236759 13f79535-47bb-0310-9956-ffa450edef68"
b067ba14c4dc0e3216514f67c1564950bc0375be,"Theme reloading from WEB-INF/velocity

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1236763 13f79535-47bb-0310-9956-ffa450edef68"
4f9e7299fcae31113158ea3911d8fab0696c8118,"Fix for javax.persistence.NonUniqueResultException.  Need to check to make sure template codes do not already exist for the stylesheet.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237145 13f79535-47bb-0310-9956-ffa450edef68"
56ae62d4dab6f03847bd7adf3e56a0c4f25810cb,"Saving template code see ROL-1930

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237361 13f79535-47bb-0310-9956-ffa450edef68"
0a0680c885df717c26b29f7703e409a4ef49630c,"Deleting style sheet and template deleting when using shared themes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237422 13f79535-47bb-0310-9956-ffa450edef68"
9642a21119ce7ac8f0134661fba4ea8869da73a3,"Will not compile in eclipse.  Override not valid.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237423 13f79535-47bb-0310-9956-ffa450edef68"
95c102a148b6cca8ad045580b1aebedaaff3dc78,"Template testing mods.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237493 13f79535-47bb-0310-9956-ffa450edef68"
1104c2f990a3c43e6b58d7a9bc3a38e42d5bfb2f,"Make sure the rightcontent does not extend past the end of the sidebarInner.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1237950 13f79535-47bb-0310-9956-ffa450edef68"
f989dc8a488d40e6b09041c2fb4312fc84f61e2e,"Ignored extensions otherwise we get SSL mixed content issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1238815 13f79535-47bb-0310-9956-ffa450edef68"
5d4b9a7270f553cc09b88fcbd4faa4128f1ce814,"Text cleanup only.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1238820 13f79535-47bb-0310-9956-ffa450edef68"
5af512694b0291ad81f21d88c8d424ebf7a8a200,"Template testing mods.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1239357 13f79535-47bb-0310-9956-ffa450edef68"
db03003bfc3ef0a735116b67dc923430673bb117,"Template testing/mods.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1239569 13f79535-47bb-0310-9956-ffa450edef68"
45761c6d75b793d10b948d67b6b14c87bcb1ca1a,"Make buttons fit the <div class=""control"">

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1239571 13f79535-47bb-0310-9956-ffa450edef68"
8ab29b35d0c35e367329f7250578e60ee68cf15d,"When chaining actions get the wrong page title.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1239573 13f79535-47bb-0310-9956-ffa450edef68"
d69dc3a5248d001bd3f60cdc1b45b8cc73d0ad28,"Template testing/mods.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1239719 13f79535-47bb-0310-9956-ffa450edef68"
437c05971f345511bce3b6031db1b9372bbf4c31,"Theme reloading for mobile templates.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1240056 13f79535-47bb-0310-9956-ffa450edef68"
5d234bdc6428aa5140249b21fd9f6c608f141776,"Template testing/mods.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1240057 13f79535-47bb-0310-9956-ffa450edef68"
086fb617f2d17b416895fa545c2e46531a0d8fd3,"Some testing...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1240211 13f79535-47bb-0310-9956-ffa450edef68"
3f6dd35bce4defabdf7fec9a01081367fffde19a,"Validation on email address.  Maybe we want to do this programmatically as it was removed for some reason??

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1240751 13f79535-47bb-0310-9956-ffa450edef68"
95cda244a744e83f77a61a2b3a699d27e5240ba9,"Move js above yui as when below does not execute when yui tags code not active.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1240758 13f79535-47bb-0310-9956-ffa450edef68"
52b4b0d570dab7539664b44c1353cf8b536b781f,"Delete thumbnails and make sure files are stored in the correct location ie by making sure the path expands correctly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1242523 13f79535-47bb-0310-9956-ffa450edef68"
d163da516527edc636ca73a6b2c8e194ec982d75,"Endless refresh loops in firefox.  Needs testing in other browsers..

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1242525 13f79535-47bb-0310-9956-ffa450edef68"
f46fc458ae422cd425522a3d59c2f5812c65c5ea,"Prevent NPE when template passes null weblog

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1243080 13f79535-47bb-0310-9956-ffa450edef68"
541e2329a305382a482688e58694d217611da7fe,"Commiting fix from Tiger Gui to improve the standard to mobile page switch button and logic:
https://issues.apache.org/jira/browse/ROL-1937

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1243255 13f79535-47bb-0310-9956-ffa450edef68"
bbe591a1c294a094824ab65d747e75d090c7dbbb,"Commiting patch from Nick Padilla for Crowd Login Authentication Roller Integration
https://issues.apache.org/jira/browse/ROL-1933


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1243258 13f79535-47bb-0310-9956-ffa450edef68"
a3fd20f084e6b5f86e948bb1a5fd22b17b743e50,"Some testing...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1296827 13f79535-47bb-0310-9956-ffa450edef68"
fc09a02f000dbef4cb480c589213704997a6ba77,"Commiting patch from Nick Padilla for: LDAP Comment Authenticator https://issues.apache.org/jira/browse/ROL-1934

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1305130 13f79535-47bb-0310-9956-ffa450edef68"
4368e0b03d7348af78cb76be2a17c491a1fd89c4,"Preparing for a 5.0.1 release

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1334749 13f79535-47bb-0310-9956-ffa450edef68"
5c95a1224cdabd0f69a8d727ad6675157c79cac9,"Testing 1 2 3

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1334791 13f79535-47bb-0310-9956-ffa450edef68"
ca6ea195329b9675f6952db0567f09b7bb177835,"Beginnings of a Salt filter

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1334797 13f79535-47bb-0310-9956-ffa450edef68"
4b28462daa4bdabe15b80b2f0f0da30c0a1e41d7,"Added:
- salt field to every one of the 66 forms in the Roller UI
- a filter that checks every incoming POST for the presence of a valid salt 
- salt cache uses Roller cache infrastructure (therefore can be cluster friendly)

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1337603 13f79535-47bb-0310-9956-ffa450edef68"
08c3707e3f61c18802ab3f9d6d8f97373ebfe739,"Make sure correct value is maintained.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1337934 13f79535-47bb-0310-9956-ffa450edef68"
82ff32bd77a156973f5661756dafabbf25639a6e,"new startup property 'weblogAdminsUntrusted' causes weblog content, title, description and user fields to be HTML sanitized, i.e. any tags or attributes that could contain JavaScript are either omitted or cleaned up.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1340501 13f79535-47bb-0310-9956-ffa450edef68"
39483d53e376baafd1292879dd9a382ad488c1f5,"Upgrade to lucene 3.6

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1340676 13f79535-47bb-0310-9956-ffa450edef68"
2c794fd4808b69bfa67d9a0613703a56d377afc9,"For the v delete to work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1340696 13f79535-47bb-0310-9956-ffa450edef68"
6a40d1d1811e2d357ba3443d5c4c3c1c8592ee13,"For the v delete to work, simplified.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1340698 13f79535-47bb-0310-9956-ffa450edef68"
b951997f0c74095271e374ab38597aa42143aeb7,"Updating install guide to mention weblogAdminsUntrusted property

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1341287 13f79535-47bb-0310-9956-ffa450edef68"
e41a96fc152d07c4931feabe5134dbe8c1016582,"Ensure that salt value is created when FORWARD is done. This ensures that the create-database-tables form includes a salt value

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/roller_5.0@1343069 13f79535-47bb-0310-9956-ffa450edef68"
f180b2ac0093be26951630881029b8504aa879dd,"Merging Roller 5.0.1 security fixes into trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1353270 13f79535-47bb-0310-9956-ffa450edef68"
f7c43606647624c6400cf6ed8a4104ee8b131cb8,"Making 5.0.1 available via roller.apache.org

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1353273 13f79535-47bb-0310-9956-ffa450edef68"
64b29cf37077d81382f8871986c742dd163a6d18,"Fixes broken and out of date links in Roller's main website pages and addresses these issues: https://issues.apache.org/jira/browse/ROL-1945
https://issues.apache.org/jira/browse/ROL-1828
https://issues.apache.org/jira/browse/ROL-1935
https://issues.apache.org/jira/browse/ROL-1940

These fixes should be live on our site today.

Thanks to Glenn Mazza!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1361531 13f79535-47bb-0310-9956-ffa450edef68"
aecc5ad27c395ff86f0e6753fd553b7f29d5ad7a,"Add hidden salt field 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1383096 13f79535-47bb-0310-9956-ffa450edef68"
7e6e347db96d21c14e89dce5d4a89bf29de79a74,"Remove url

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1384023 13f79535-47bb-0310-9956-ffa450edef68"
3492d96ded8e44c8532a7d4c30424bf4c3d250cc,"Do not call myPrepare() on a cancel.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1384321 13f79535-47bb-0310-9956-ffa450edef68"
1a60c24dcee88279f2e0eef88ed7e1b1de926d96,"Provide a blog entry-level description field that can go into HTML header field
https://issues.apache.org/jira/browse/ROL-1947

Thanks to Glen Mazza!

Plus some changes to remove Servlet 2.4 dependency that was causing problems with mvn jetty:run

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1400648 13f79535-47bb-0310-9956-ffa450edef68"
a263ffde41d84564416f9a4a28a2860daf8e4de4,"Fix for: #showWeblogCategoryLinksList($rootCategory true true) displays value ""categoryObject.name""
https://issues.apache.org/jira/browse/ROL-1353

Thanks for the patch, Glen!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1407822 13f79535-47bb-0310-9956-ffa450edef68"
1d0f35acccf73d3fb68651e3b3b7e4d5a8220c8e,"Updated DOAP file from Shane Curcuru: thanks!
https://issues.apache.org/jira/browse/ROL-1941


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1413372 13f79535-47bb-0310-9956-ffa450edef68"
6e5d9f6b6625bba4158a114002adc1946d1e073c,"Added missing accessor for searchDescription
See also: https://issues.apache.org/jira/browse/ROL-1947?focusedCommentId=13499628&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13499628

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1413374 13f79535-47bb-0310-9956-ffa450edef68"
72da8c638a6609f72589aa51a29af792a6acddd4,"Fixing malformed XML

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1413432 13f79535-47bb-0310-9956-ffa450edef68"
1af7f1fd9c18fbff757e0e89f17c72c4e6659c3f,"Website fixes from Glen Mazza. Nice!
https://issues.apache.org/jira/browse/ROL-1950

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1413435 13f79535-47bb-0310-9956-ffa450edef68"
840a633e12e7c81f7b098bb5fb9d26cd0e7a0f80,"fixing position parameter not defined correctly in WeblogEntryTagAggregate.orm.xml
https://issues.apache.org/jira/browse/ROL-1949

Thanks, Harsh!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1413440 13f79535-47bb-0310-9956-ffa450edef68"
5900d7d5da0749c7d89fc791d5e902bd17e7770b,"Updated sitemap

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1416295 13f79535-47bb-0310-9956-ffa450edef68"
a4a5b8e19a1167f0d5107d56e5a3dde3de0adcb0,"Regenerated home pages (ROL-1950)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1416307 13f79535-47bb-0310-9956-ffa450edef68"
11d699629072d3e7c0d12009b4fc9f0eacb9d5c1,"ROL-1949 update Template Guide (Displaying a Tag Cloud) section; will withhold export-to-PDF/HTMLs  until several commits.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1416322 13f79535-47bb-0310-9956-ffa450edef68"
1af1a75271f9632fd2afda10d11930a5a4aef34e,"ROL-1955 Switch to 7-bit ASCII chars in Resource File; Patch by Matthias Wimmer

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1416323 13f79535-47bb-0310-9956-ffa450edef68"
8b215900dea4c7a1564db2a4548348b497a156ea,"ROL-1951: Switch from Ubuntu-unfriendly pushd/popd to cd commands in scripts.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1416327 13f79535-47bb-0310-9956-ffa450edef68"
0b5a76969dc01794c8893ea8ca50f1744560cb7f,"Minor website updates

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1418476 13f79535-47bb-0310-9956-ffa450edef68"
a6620d8799890539a3c699d2c1a05ed74dc80e1c,"Added links to external Roller blog families, incorporated Related Projects links within body of the text.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1419190 13f79535-47bb-0310-9956-ffa450edef68"
a3a4dd6a8d77f0a52e59fe55452506280329be74,"Initial check in of Apache CMS-based Roller site; needs more testing.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1422446 13f79535-47bb-0310-9956-ffa450edef68"
4b34367c0cdba8ecea9f02b134486646984881fb,"Cleanup of English properties file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1425393 13f79535-47bb-0310-9956-ffa450edef68"
1b9df8c6aea4aa8749dcf675aba7c9a21081e35a,"Text simplifications in future cms-based website.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1425930 13f79535-47bb-0310-9956-ffa450edef68"
4f8e1e14f8af76e8e63c00f1ccf1f5c5de2acb8a,"Simplified web site, added ViewVC link.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1425933 13f79535-47bb-0310-9956-ffa450edef68"
5b2e23d8027ce1ac232c50e7f04c4ff6158404bd,"Added empty cgi-bin folder (just as JSPWiki has an empty folder) to quiet the Apache CMS build script.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1426211 13f79535-47bb-0310-9956-ffa450edef68"
79246b019d9709e43ddae705887005fa74c2fc89,"Added explanation for ROL-1953

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1426956 13f79535-47bb-0310-9956-ffa450edef68"
17e2d329f628561fddcb135f7cf9cbd4e89f17be,"ROL-1947 Added info on new WeblogEntry 'searchDescription' field.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1429375 13f79535-47bb-0310-9956-ffa450edef68"
bddff8da9a10fe13053b1f801aa6f84463f7103b,"Removing old location of cmssite

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1431174 13f79535-47bb-0310-9956-ffa450edef68"
9abfb234e9356f72a257658ab7d79ff60e675537,"Removed old website.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1432624 13f79535-47bb-0310-9956-ffa450edef68"
db7b5742fc6719b46064c21042448e3bcdf17d1a,"ROL-1421 typos in ApplicationResources - Patch by Denis Balazuc

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1433803 13f79535-47bb-0310-9956-ffa450edef68"
cb6198d67976da3ed28bdabe7d0fa244e86bf0c5,"ROL-1737 Explain that user email notification option works only if enabled by administrator. (Section 7.1.3)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1435588 13f79535-47bb-0310-9956-ffa450edef68"
a973a267526f41282aadc57426712c79a687b860,"Remove duplicate items in application.properties (ROL-1241)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1436734 13f79535-47bb-0310-9956-ffa450edef68"
8332e36aa24af93c0aa0c75dee1e7a361b6f6097,"ROL-1621 Remove .classpath/.project files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1437722 13f79535-47bb-0310-9956-ffa450edef68"
8b94db433657181d50d53077f3afd1d8ad4c2f09,"Updated from 5.1.0 to 5.1.0-SNAPSHOT, switched from recently deactivated com.google.code.guice:guice (repo at http://guice-maven.googlecode.com/svn/trunk/ no longer available) to com.google.inject.guice:guice (https://bugzilla.redhat.com/show_bug.cgi?format=multiple&id=903218)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1439181 13f79535-47bb-0310-9956-ffa450edef68"
40b01205c0ef350307311855e96178bbd06f1ba5,"Removed eclipse .settings folders, switched to roller.version or relying on parent version in pom files to reduce chances of versions falling out of sync.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1454725 13f79535-47bb-0310-9956-ffa450edef68"
9a34eea4212cc685d441783012f2ed988a133172,"Added struts2-spring-plugin dependency to planet-web pom.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1462935 13f79535-47bb-0310-9956-ffa450edef68"
c03f2ac41b6296a89b20392d45334a53345ef0fa,"Testing updates

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1464910 13f79535-47bb-0310-9956-ffa450edef68"
7496887b51f1ce442c4b4f216e55acd42925bc95,"Salt on media files, multipart/form-data no parameters. Media file Tags not saving (could not fix?)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1464959 13f79535-47bb-0310-9956-ffa450edef68"
68eb7c4d23dc296549dfa14c1ea63558df130d48,"Typo fixed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1464984 13f79535-47bb-0310-9956-ffa450edef68"
bd64e17154923643e3c06cf473a8b5b7616e0aa7,"Struts 2.3.8 upgrade (big performance improvement).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465010 13f79535-47bb-0310-9956-ffa450edef68"
c1ae378e3311fc85f261fc4c411d1e09bfe49b6f,"Added Tomcat7 plugin to pom.xml

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465019 13f79535-47bb-0310-9956-ffa450edef68"
92369123b35c481df0a542498e9d8ed2581fad28,"Fix for https://issues.apache.org/jira/browse/ROL-1926
Comment notifcation emails being sent before comment approval


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465236 13f79535-47bb-0310-9956-ffa450edef68"
b058a3201655a439c7a15c6b9a1cf95763ac05ca,"reverting to spaces, not tabs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465240 13f79535-47bb-0310-9956-ffa450edef68"
3fd29b37133d91eda3bd1593b7f14b6802f33f33,"ignore Netbeans settings

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465242 13f79535-47bb-0310-9956-ffa450edef68"
f09cd6adcbb6284634ea9077276ccdc8041df2be,"reverting to spaces, not tabs. for real this time, I hope

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465243 13f79535-47bb-0310-9956-ffa450edef68"
da61ebdf010f637883fce3c2f6a87a16da8d3c37,"Revert to correct version of tiles.  ****** This will require clearing out the compiled jsps from the work directory. ******

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465287 13f79535-47bb-0310-9956-ffa450edef68"
98c8830f86a8c6a08cafd1f94fc7760cbe715c0c,"Upgrade to velocity 1.7 and remove tabs on source.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465341 13f79535-47bb-0310-9956-ffa450edef68"
ebf93177046798ed8c7690a79b48c790e59acf13,"Comment count not showing

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465342 13f79535-47bb-0310-9956-ffa450edef68"
45a7a28fbea0f60814ddd138dc06de5b335199c6,"Branch for reducing number of Maven modules 


git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1465398 13f79535-47bb-0310-9956-ffa450edef68"
b49295c1ed55cc24c3454cb7c2bae7d4fbf15359,"Progress on reducing number of Maven modules, code now compiles with only 2 modules

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1465426 13f79535-47bb-0310-9956-ffa450edef68"
b4f651c6916503a57f40da9fc1ffb07a1550196f,"More progress on fewer modules 80 of 134 tests passing

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1465442 13f79535-47bb-0310-9956-ffa450edef68"
9fc4f6fec02fc0b8a902838a91374bc8e09c97de,"Adding back empty dirs

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1465447 13f79535-47bb-0310-9956-ffa450edef68"
a42dc9868c8b35d099fd514365d40c5720a7ce89,"Media file tags not updating correctly.  Based on weblog entry tags logic.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465469 13f79535-47bb-0310-9956-ffa450edef68"
3f95e188c4b455149662fa83c4dec4d41944218d,"Comment count not showing revert to a space.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465470 13f79535-47bb-0310-9956-ffa450edef68"
4a5642afd11e2b88e97a39dab907bb875f8022fc,"Upgrade lucene to 4.2.1.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1465673 13f79535-47bb-0310-9956-ffa450edef68"
7749b01018b121307781e3fc46f42dfb45f3a66e,"Removing planet-web application per earlier team dev@ discussion.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1466603 13f79535-47bb-0310-9956-ffa450edef68"
c763df632f6c13726515dca282a76df9d84f2b3c,"Update for media file tags fix. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1466614 13f79535-47bb-0310-9956-ffa450edef68"
2f9d33545866bce2d4d591120275352a2b4b80e8,"Fixed resource files (for elements apparently still in use) per ROL-1615

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1466947 13f79535-47bb-0310-9956-ffa450edef68"
5880faa53c70803f02f12ab63eae261401d2883f,"Removed generated PDF and HTML formats per team discussion; latest docs will be ODF and PDF will be provided at release time only.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1467410 13f79535-47bb-0310-9956-ffa450edef68"
8022ef421144bf7b5cbe3f3e6759036a7c404b3f,"Removed Roller pre-V1.0 documentation from 2002; always available in SVN archives.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1467411 13f79535-47bb-0310-9956-ffa450edef68"
eb1c4255a868f03f82d378995c68b4a91a9cb207,"More progress on merging Roller's many modules into 2. Still have one compilation error that requires a little new code to fix.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1467824 13f79535-47bb-0310-9956-ffa450edef68"
265cca7c05443b6aecaaf705c6d8ce80d73e87de,"More progress on merging Roller's many modules into 2. Still have one compilation error that requires a little new code to fix.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1467825 13f79535-47bb-0310-9956-ffa450edef68"
6bc431a81bf175b55b421e0c899dce3edeff8b6c,"Moving empty template doc to team-only devguide folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1467944 13f79535-47bb-0310-9956-ffa450edef68"
16830a556f0db1f91e367497c50752ce80ce9ca2,"ROL-1174 documented Derby setup instructions in section 5.1 and 7.1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1468097 13f79535-47bb-0310-9956-ffa450edef68"
14ebd62c75d5513943554002aeb2bee6bc5d4358,"Minor text cleanup in Tomcat setup portion of install guide, misspellings in WebloggerStartup class fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1478074 13f79535-47bb-0310-9956-ffa450edef68"
856410d51e420787b75bf87e4e70816f9ff6de68,"ROL-1946 Add commenter's email addr to notification emails.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1478521 13f79535-47bb-0310-9956-ffa450edef68"
5e873885e78269f2ba23b19b0f75d0676b7ce85f,"Updated Ch. 7 Tomcat chapter of installation guide, showing how to connect to a GMail SMTP server.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1483003 13f79535-47bb-0310-9956-ffa450edef68"
4e95e496a9770c87d2fa4aeeadff6ef05fe64275,"Updated MySQL configuration info (Ch. 5)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1483500 13f79535-47bb-0310-9956-ffa450edef68"
d2e19ddbcb6600aecda05c46a0059830f013d57c,"ROL-1479 Allow database-permitted 255 characters for blog description.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1484283 13f79535-47bb-0310-9956-ffa450edef68"
ed59611ed7edc5946c0ee64c75fce8688055894f,"Exclude sandbox stuff

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1485979 13f79535-47bb-0310-9956-ffa450edef68"
f8b666ca99890a60cb93a46ac7f558f302069ef2,"Escape search string.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1485980 13f79535-47bb-0310-9956-ffa450edef68"
af99b188f14cd9bc52b7dfe36228d3e07a7546d0,"Missing SMTP properties added to sample META-INF/context.xml.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486357 13f79535-47bb-0310-9956-ffa450edef68"
a3f565ffe1227f7670d0b3fdcd945f6b24a1399c,"Use same version of Velocity everywhere, 1.7

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486361 13f79535-47bb-0310-9956-ffa450edef68"
8f17277726b65e3384507a463d7067fc2e6c8150,"Don't attempt to sanitize null fields

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486362 13f79535-47bb-0310-9956-ffa450edef68"
57fc5dbcc78f37b441b8a21445c21d708b203e5c,"Fix java.lang.NoClassDefFoundError: org/apache/oro/text/perl/Perl5Util caused by absence of ORO

Not totally sure why this just became a problem. ORO was embeded in Commons Validator 1.3.0, but is not in 1.3.1, but we switched to 1.3.1 in Roller 5.0.1. I suspect that the recent Lucene changes caused ORO to no longer be a dependency.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486364 13f79535-47bb-0310-9956-ffa450edef68"
9c15ee9f83655bde82fc69d5412bbb7da1c4f862,"Updated Tomcat and GlassFish chapters in Install Guide.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486368 13f79535-47bb-0310-9956-ffa450edef68"
9561ad56bd643718b5b7b1034578417c11de7389,"Turned off PDF bundling as we're not generating until release, changed the JBoss JNDI from java:/Mail to java:/RollerMail, updated the install doc: updated JBoss deployment instructions, removed WebSphere instructions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1486694 13f79535-47bb-0310-9956-ffa450edef68"
522232ca783396cf707d5885ca3f762a04982f4e,"Upgraded OpenJPA from 2.0.1 to 2.2.2, introduced test scope commons-pool dependency in weblogger-web (tests would no longer work in the upgrade to OpenJPA 2.2.2 otherwise, although I'm unsure how they managed to work without commons-pool with OpenJPA 2.0.1), switched from field access to getter methods in JPA entity classes to get reduce OpenJPA warnings during build.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1487153 13f79535-47bb-0310-9956-ffa450edef68"
ffa933ae1f61e4b2f330918ebd4e3800a914b515,"Removed largely unused catalina.base system variable, created test-resource persistence.xml's to allow for use also with EclipseLink (slight risk of persistence.xml falling out of sync with one in src/main/resources though), upgrading EclipseLink to 2.5 which is now on Maven Central, moving output logs to easier-to-see target instead of target/test-classes folder

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1487908 13f79535-47bb-0310-9956-ffa450edef68"
b54197a546d920117e9185c42d3cf55445dc073f,"Updated & centralized Hibernate version info, turned off Hibernate transaction manager lookup attempts until we can find non-JNDI way of activating it, created non-JNDI persistence.xml in planet-business/src/test

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1488075 13f79535-47bb-0310-9956-ffa450edef68"
cf6acbe71b877af53872e23565fe9840115315d2,"Removed version numbers from Hibernate deps, now relying on parent POM for them.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1488076 13f79535-47bb-0310-9956-ffa450edef68"
01c23b40757a5d5fc8ed4ed2208111ce9091faba,"More accurate (if still imperfect) Hibernate configuration for JUnit tests.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1488398 13f79535-47bb-0310-9956-ffa450edef68"
5f1baaa135ae274e392992ccfac38c0208f03ee6,"Escaping seems to mess with the wild card searches.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1488554 13f79535-47bb-0310-9956-ffa450edef68"
c1e0e017c03ec514943c2f8259d5cf4bfab9b8a6,"More progress on merging Roller's many modules into 2. 

Still have some work to do -> Tests run: 134, Failures: 35, Errors: 15, Skipped: 0

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1488728 13f79535-47bb-0310-9956-ffa450edef68"
15c1b246c1ad3a3a8bc77653eee3d654cd1b3a4e,"More progress on merging Roller's many modules into 2. 

Still have some work to do -> Tests run: 134, Failures: 1, Errors: 8, Skipped: 0

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1488771 13f79535-47bb-0310-9956-ffa450edef68"
297d3da72a00c7531ad1ac2f9963847871f7b5c6,"Down to two Maven Modules and two Maven Assemblies

100% of tests passing now but have not tested the webapp yet.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1488776 13f79535-47bb-0310-9956-ffa450edef68"
4cb32e1b58c41889d8d30adb8a16a7ec62a192b2,"ROL-1273 Resource file typos

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1490667 13f79535-47bb-0310-9956-ffa450edef68"
e30c0b97481c92232c1a6d56c2a1aef3d818901d,"Removed unused persistence.xml file I tested with earlier.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1490670 13f79535-47bb-0310-9956-ffa450edef68"
56567d0561b0cd445d0dc67d3b837ae5f71a2c74,"Copied latest roller.properties into Install guide (Appendix).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1490899 13f79535-47bb-0310-9956-ffa450edef68"
36cd17ad0a530134e143dcb07f88616d3798fdc9,"fix for ROL-1778 preview not working on Derby for unpublished articles, tested on MySQL and Derby.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1490900 13f79535-47bb-0310-9956-ffa450edef68"
45033d26fd92d76230136d12c0778b1a3c11b6fe,"Fixed two properties in roller.properties (error in last commit).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1490901 13f79535-47bb-0310-9956-ffa450edef68"
0299c6e21a0f591b62dcba4d9aec0b43040f6264,"Down to two Maven Modules and two Maven Assemblies

100% tests pass and now able to run, create user, login and post a blog post.

Next step is to merge all changes that have happened in the trunk into this branch and then, merge back to trunk.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1490984 13f79535-47bb-0310-9956-ffa450edef68"
daa254f26127538353e5bc3b9be52ece08eea282,"Down to two Maven Modules and two Maven Assemblies

100% tests pass and now able to run, create user, login and post a blog post.

Next step is to merge all changes that have happened in the trunk into this branch and then, merge back to trunk.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1490985 13f79535-47bb-0310-9956-ffa450edef68"
5d155846b7be9ce179f4ea2078eb1c998b234725,"Merge from trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491047 13f79535-47bb-0310-9956-ffa450edef68"
b0f9034bcf5ed62bf5af3558e94eb0bbe07263a8,"Merge from trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491048 13f79535-47bb-0310-9956-ffa450edef68"
f124d7c7ceebfe49a62210d17548a85c65daa5ed,"Merge from trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491050 13f79535-47bb-0310-9956-ffa450edef68"
e93599de3d107cdd44137b75985a7c909c22dd1f,"Merge from trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491051 13f79535-47bb-0310-9956-ffa450edef68"
31a8b160fc7ac0401f0b73473b002b31304a8c4d,"Merge from trunk

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491052 13f79535-47bb-0310-9956-ffa450edef68"
ccebdcbd7b94b6f407578fc744dedae0fbf8d6ef,"remove unnecessary documentation subdirectories

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/fewer_modules@1491055 13f79535-47bb-0310-9956-ffa450edef68"
761a04127df1c328b8bb0b8c902f616b16f1eefc,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491068 13f79535-47bb-0310-9956-ffa450edef68"
fc021aaed09b8ffec1eb0c8d242e7103f0ddd0e0,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491069 13f79535-47bb-0310-9956-ffa450edef68"
aeae5ce75d7d4e2bafc73388387f078de6e6b415,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491074 13f79535-47bb-0310-9956-ffa450edef68"
f5d0e31d1bff9e89df4cac2351c4f34911cd5dc3,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491082 13f79535-47bb-0310-9956-ffa450edef68"
58149bdf9e696f8b06a3e4b4435467d65f82f57b,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491083 13f79535-47bb-0310-9956-ffa450edef68"
c272e9dd29037fc0326548c053a5f2513152f8ff,"Merging in roller_fewer_modules

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491085 13f79535-47bb-0310-9956-ffa450edef68"
6d4093d1669f6c549aafca4f8ec0871dc1058a3c,"Renaming top-level directories to more pleasant and shorter names

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491090 13f79535-47bb-0310-9956-ffa450edef68"
4271893ea15b80e43e8c9dc27c21c9a62102b499,"fix paths in assemblies to use new directory names

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491093 13f79535-47bb-0310-9956-ffa450edef68"
2f07228c7c7f4f626f630c51e5245e4027f0686f,"Renaming Maven modules to more sensible names

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491095 13f79535-47bb-0310-9956-ffa450edef68"
12412f9485e5e081158dbdfc7e5fe7b75a12977b,"fix incorrect module name in project POM and use more sensible Ids for artifacts

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491226 13f79535-47bb-0310-9956-ffa450edef68"
989ff3d1e154353cffe127d23f7144c4b93c20c0,"Archive WAR classes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491227 13f79535-47bb-0310-9956-ffa450edef68"
b77eee6aa078da3b64cdd2ceda2e34d771dc7a8d,"remove dependency on no longer existing roller-core module

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491228 13f79535-47bb-0310-9956-ffa450edef68"
19a315902f4489d8ca681c20d7101c3aff9d0872,"Use ""attachClasses"" in the WAR plugin so that it is possible to use overlays and WAR dependencies to extent the Roller WAR (see also http://www.ensor.cc/2011/07/mavens-war-overlays-how-to-manage.html)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491240 13f79535-47bb-0310-9956-ffa450edef68"
5b10f365ad0c0f9749b011227ec135e9355b9ef3,"Removing redundant dependencies

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491759 13f79535-47bb-0310-9956-ffa450edef68"
b0313e03a4f66f808f522c916cc56365e9af3a0a,"Removing redundant dependencies

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1491760 13f79535-47bb-0310-9956-ffa450edef68"
369ff160be1ce222c6217e22df868255a242edde,"prevent NPE when no user-agent in request

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1493723 13f79535-47bb-0310-9956-ffa450edef68"
ae6cf13fa596c50be90f8ab2ec5283a8b264ace2,"Fix broken jetty:run goal, add back HttpClient 3.0.1 dependency

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1493753 13f79535-47bb-0310-9956-ffa450edef68"
f96dc1fdf3248ffa1c83fdf0fc39211f3ae041c0,"Upgrade Struts 2.3.14 and validator 1.0.3.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1493780 13f79535-47bb-0310-9956-ffa450edef68"
705cb0b2c7f789dfbaf0b190db74152007809a0c,"stop pesky warning messages for missing salt setter when struts.devMode=true

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1493783 13f79535-47bb-0310-9956-ffa450edef68"
c4cc91303dc011e4c75733b699bb3711ebcacc46,"Check for invalid length of device type.  Log so we can update the list??

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1493901 13f79535-47bb-0310-9956-ffa450edef68"
7aa5ff52ca24afc8a1a02f1ba2ac544ba775a204,"Updated to latest production EclipseLink and Hibernate dependencies (commented out still).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1495915 13f79535-47bb-0310-9956-ffa450edef68"
350e702f3d7a6bd23891b52c52230b79755070bd,"Switched to in-memory Derby database for build JUnit tests; mvn clean install takes about 25% less time as a result.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1497001 13f79535-47bb-0310-9956-ffa450edef68"
b269fe609f7de409becea2f017c4119ef505d1ff,"Additions to make the code more EclipseLink JPA friendly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1498037 13f79535-47bb-0310-9956-ffa450edef68"
79ef1777b93f452edfe29aabb44ce68a848fd2ad,"Removed a line break in an orm.xml file that EclipseLink JPA didn't like, added instructions on how to do JUnit tests with EclipseLink.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1498118 13f79535-47bb-0310-9956-ffa450edef68"
5f103ae3b9a8d44a2ff0fc984eb75756808532ab,"JUnit tests with OpenJPA, Hibernate and EclipseLink JPA now all pass; changes to WeblogPermission and MediaFileTest so the latter two would work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1499866 13f79535-47bb-0310-9956-ffa450edef68"
27fcf728bbbc1ba3fd6a157ef38562d7716f5108,"Minor edits on JNDI config info for JDBC in Install guide

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502742 13f79535-47bb-0310-9956-ffa450edef68"
93e5248dae1ef6b98fc45520ccbbd07fa315c253,"Third issue of last week's proposals: removed DB connectivity info from persistence.xml

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502743 13f79535-47bb-0310-9956-ffa450edef68"
8fcc342c6c03bba453f169fe64791496c2e8fb9b,"Minor fixes in README and adding INCOMPLETE DRAFT banner to dev guide

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502792 13f79535-47bb-0310-9956-ffa450edef68"
c3fbbee1df8aaf2973835229579dcd5a3417c92c,"Restored the changes made to trunk while the fewer Maven modules version was being developed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502823 13f79535-47bb-0310-9956-ffa450edef68"
88f78a0fab3a9c1a06d77674bad351b6ab75c0f8,"Switch to EclipseLink JPA as Roller's default JPA implementation (second issue in last week's proposal email)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502828 13f79535-47bb-0310-9956-ffa450edef68"
d096300dd98757a9387b00273263cc71b0d553fc,"Switched to Maven 3 and JDK 6.0 requirement, updated plugins to most recent available (using mvn versions:display-plugin-updates to confirm), this should result in Tomcat Jenkins build now passing.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502973 13f79535-47bb-0310-9956-ffa450edef68"
3054bae3ddb4ba880e7790b0ccf53329209222a6,"Moved the maven-compiler-plugin definition to the ROOT pom as it's also applicable for the test-utils submodule.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1502976 13f79535-47bb-0310-9956-ffa450edef68"
78d6e8c362f2b1792adab50a6b57b023e486014e,"Fixed the unit test failure in UserTest (PermissionTest not deleting a user that UserTest was subsequently querying.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1503102 13f79535-47bb-0310-9956-ffa450edef68"
ff5b1c80b341a16318be57f846a02dfa99b90cc0,"Removed unused variable in GenericThrottle & 72 unused imports reported by Sonar, also replaced now-dead link in LinkbackExtractorTest.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504435 13f79535-47bb-0310-9956-ffa450edef68"
649a622dd289285a9c8f6dfb4b6ceb48108048cd,"Removed redundant calling of Weblogger.release() in PersistenceSessionFilter (apparent copy & paste error during recent app simplification), deleted unused CompressionFilter per Dave's 2007 comment (https://issues.apache.org/jira/browse/ROL-1119?focusedCommentId=12690735&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-12690735) that it's no longer needed, Sonar complaints about redundant public modifiers in interface method declarations fixed in two classes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504489 13f79535-47bb-0310-9956-ffa450edef68"
633ef55a531c46b3dbb0ac62f26f7d51396c3efb,"Deleted dependency exclusions in app/pom.xml that mvn dependency:tree was showing to no longer be needed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504517 13f79535-47bb-0310-9956-ffa450edef68"
e93876860e475fdafdf49512ca20ed59418da6d7,"Fixed some Sonar complaints over redundant modifiers.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504827 13f79535-47bb-0310-9956-ffa450edef68"
59671b12e924ef1f559bcf406a9811c572d984b0,"Simplified the web.xml servlet-mapping elements for Struts1 StrutsRedirectServlet and pre-Roller 3.0 RedirectServlet (Should we remove these two servlets today? It appears so)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504845 13f79535-47bb-0310-9956-ffa450edef68"
a9ff5459c6866a5a3d2d2734e1065207b86d0d7c,"Fixed EclipseLink warning during test runs, further simplified pom.xml & updated its dependencies (results always viewable via mvn dependency:tree and mvn versions:display-dependency-updates)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1504912 13f79535-47bb-0310-9956-ffa450edef68"
8e8347961df18e3c9bb4a621ec3c53fe68be96a6,"Fixed Sonar complaints about unnecessary modifiers in interfaces.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505192 13f79535-47bb-0310-9956-ffa450edef68"
8293b6acdfab9be67898eddd6fe9a552c5372d21,"Removed pre-Roller 3.0 renderers and Velocity macros.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505200 13f79535-47bb-0310-9956-ffa450edef68"
052d6b2cf7fe0c909cc3e05e88fa05cc4cf29587,"Removed two unused servlet entries.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505201 13f79535-47bb-0310-9956-ffa450edef68"
296218a355a4dd403dcaceaa76b6b55ae2968d77,"Duplicated SQLScriptRunner into app module to break its runtime dependency on test-utils, various pom simplifications.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505251 13f79535-47bb-0310-9956-ffa450edef68"
03e419482ba41306fb8dbe6d57240df6168d2734,"Removed the test-utils submodule, and moved the only two classes we needed from it to the app/src/test directory.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505415 13f79535-47bb-0310-9956-ffa450edef68"
e67a37877bf092dfe8c95a28724361b820daf9b2,"Upgrade from Jetty 6.1.26 to 9.0.4.v20130625; mvn jetty:run runs noticably faster.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505430 13f79535-47bb-0310-9956-ffa450edef68"
b68243281fa55bd17f5b66e40d78cdbc7222efe1,"Some Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505582 13f79535-47bb-0310-9956-ffa450edef68"
1995eb27840c86a4ca93861f06623cf950d1e837,"Updated README

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505741 13f79535-47bb-0310-9956-ffa450edef68"
7cd193e93e1e900659d4008e021026026a0acebc,"More Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1505788 13f79535-47bb-0310-9956-ffa450edef68"
30903fc73e5b3dd5710a7df9ad88035834e46684,"Removed old upgrade scripts from Roller trunk.  Minimum version supported for upgrades now Roller 3.1.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506004 13f79535-47bb-0310-9956-ffa450edef68"
d2cb14f5911f90529557978c2490e7c9b4f83b07,"Made addedTags and removedTags in MediaFile.orm.xml transient so tests would work with Hibernate; rearranged a few test cases in MediaFileTest to work with Hibernate (non-null Media File directory has to be set before the object can be saved.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506306 13f79535-47bb-0310-9956-ffa450edef68"
f87bf051a5d5d33ff36f2aef630450be4eeb1166,"(Hopefully) restoring history of MediaFileTest.java

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506320 13f79535-47bb-0310-9956-ffa450edef68"
fb687ae029f57a8ee3a3ffe96120a655ee8858d2,"Now adding change back to MediaFileTest (previous inadvertent file replace nuked the history).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506323 13f79535-47bb-0310-9956-ffa450edef68"
78228c06345a9cc2199c89aff720ad97ad04f643,"More JPA changes necessary for Roller to work OOTB on JBoss' Hibernate implementation (conversion from annotations to JPA XML mapping files for the three entity classes using them turned out not to be necessary but kept change anyway.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506595 13f79535-47bb-0310-9956-ffa450edef68"
2ef3a4701bfa800082779de9429b4d8e1c4a7179,"Updated install guide with JBoss deployment instructions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506703 13f79535-47bb-0310-9956-ffa450edef68"
4875e13bb0b71ef095259e899216ee8536b105c8,"Modifications added to allow JBoss users to store their roller-custom.properties file *outside* of the WAR following: https://community.jboss.org/wiki/HowToPutAnExternalFileInTheClasspath

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1506984 13f79535-47bb-0310-9956-ffa450edef68"
c6b9e70300d883b23fb6b93e47db49fe514a9f52,"ROL-1964: Have SearchServlet retain locale.  Patch by Maciej Rumianowski.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507039 13f79535-47bb-0310-9956-ffa450edef68"
ff5115190901668ffff0de725418b044a1d93744,"Fixed the 2nd of three JBoss issues: reactived Roller logging via server dependency exclusions similar to here (https://community.jboss.org/thread/219871) in the jboss-deployment-structure.xml file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507126 13f79535-47bb-0310-9956-ffa450edef68"
95e907420b35e69c76cca3e5e551a9ccb7f5f21f,"Fixed the last of the three issues regarding JBoss deployment (email service not working consistently). Roller trunk works solidly on JBoss now.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507141 13f79535-47bb-0310-9956-ffa450edef68"
48ec94b1ea3b512d8a923a135dae1d1b3417894f,"<p> not closed properly

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507198 13f79535-47bb-0310-9956-ffa450edef68"
82242ce3476e90a7aa5ebe950e12aafef035b9e2,"Sort tags by name.  Set ignores <orderBy> :(

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507256 13f79535-47bb-0310-9956-ffa450edef68"
de9e15680d53d3202346693fae53da6ecdd461f3,"Testing changes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507257 13f79535-47bb-0310-9956-ffa450edef68"
6aa0da22023d94e911ab102221fe5ff31f7b78ed,"Remove unused reference.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507268 13f79535-47bb-0310-9956-ffa450edef68"
8425f3bb358e06966a5dde2ed07aafbd09ee4310,"Removed unused settings folder

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507272 13f79535-47bb-0310-9956-ffa450edef68"
4b988be09afc41c3d9a4bae32cc7957f9ac0880e,"A few Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507273 13f79535-47bb-0310-9956-ffa450edef68"
c1458e07dee5c0abd4147e0d43f477e7e50c2a4c,"Search not working

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507278 13f79535-47bb-0310-9956-ffa450edef68"
7ad36e46fdff9bd49df675df4659863b058f7db0,".settings ignored

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507279 13f79535-47bb-0310-9956-ffa450edef68"
f1bcd967f9f4e0ac678721f8943b02d2e1062c4b,"Upgraded from Lucene 3.6.0 to 4.3.1 (4.4, released three days ago, is apparently not in Central yet.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507563 13f79535-47bb-0310-9956-ffa450edef68"
852a14d6b9ca343ff0c6c58e0cf9d811c0033fdc,"Match to lucene version

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507699 13f79535-47bb-0310-9956-ffa450edef68"
67417dc27ffe73e1b37d91e85495af53bb6c5961,"Changes to Ant tasks so -Dmaven.test.skip option will work again.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507753 13f79535-47bb-0310-9956-ffa450edef68"
9e0f58a84527d65439dfd6482f79609cc91b3f82,"Simplification of svn ignore list

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507800 13f79535-47bb-0310-9956-ffa450edef68"
ad71ea5966a85704fbd60d74ea08de981f8a1bc6,"Removed duplicate .settings item in svn:ignore list

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507806 13f79535-47bb-0310-9956-ffa450edef68"
864ef757da149c8a210adc6ebdd7c49f8c1f40a0,"Changed the phases of the db generation scripts to ensure their placement in the Roller WAR.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507823 13f79535-47bb-0310-9956-ffa450edef68"
31621ee598de8c10e7e711321e0b614b33977910,"Added incubation leaving resolution document to our Wiki: https://cwiki.apache.org/confluence/display/ROLLER/ASF+Documents, removing it from our project base folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507831 13f79535-47bb-0310-9956-ffa450edef68"
268ed1bdf091ab1ebd35a5d00645104e8232454c,"Removed no-longer-needed javaee build

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507842 13f79535-47bb-0310-9956-ffa450edef68"
ab400cfc92a79b2b6f9d1a8cdcfd80402f55fdd9,"Duplicate <Ref id=""wac""/> error on eclipse.  Dummy file only.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507953 13f79535-47bb-0310-9956-ffa450edef68"
96468562ad68bec9e52d2b8e565070d26761e276,"Get the clear to work correctly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507962 13f79535-47bb-0310-9956-ffa450edef68"
a154ccf5aefdf44a764a01b379803d551715a76f,"Lets hope one day it works.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1507963 13f79535-47bb-0310-9956-ffa450edef68"
6532285803e17d2e065e55836bcea927929b0fbe,"Some testing......

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508000 13f79535-47bb-0310-9956-ffa450edef68"
3c4278423d329fe83f359543a9f1532a145a4d69,"Removed commented-out portion on container managed authentication -- potentially no longer working/relevant for Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508062 13f79535-47bb-0310-9956-ffa450edef68"
3771504129af2bcea805a45b664bcbb4dd1d07b1,"Update to Lucene 4.4.0, released a couple of days ago.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508082 13f79535-47bb-0310-9956-ffa450edef68"
3d2d3c5c17e2851ea17eb05e8cc8d10b605aee57,"Upgrade to struts latest.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508338 13f79535-47bb-0310-9956-ffa450edef68"
afa777759ff01700b9bf09d15b888fc35cea4a3b,"Switching to Hibernate JPA, at least until the EclipseLink problem w/MediaFiles is fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508391 13f79535-47bb-0310-9956-ffa450edef68"
61f71f3b7bde77408c549825892bffb9273851f4,"UI testing

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508393 13f79535-47bb-0310-9956-ffa450edef68"
02995ed00c5f5b59a130806cef800b7995c76162,"Changes to MediaFileBase to allow it to work also with EclipseLink (change still works with Hibernate).  Remaining with Hibernate for a while to see any anything pops up with it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508608 13f79535-47bb-0310-9956-ffa450edef68"
b2b9ec790eeeac295d3863a85dd8e3c1b666ccba,"ROL-1965 and ROL-1966 Locale searching and fixing highlighting on Fauxcoly template.  Patches from Maciej Rumianowski.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508629 13f79535-47bb-0310-9956-ffa450edef68"
954104d597ab942aed63ba1b73cdc6fcfd2074a4,"Make tests easier to run locally.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508815 13f79535-47bb-0310-9956-ffa450edef68"
88902426fbbdfe41e20a48d713a132a00443b1c6,"Typos fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508828 13f79535-47bb-0310-9956-ffa450edef68"
5c7aaac98e82e2892e6917177eb415bc60cdef7f,git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508834 13f79535-47bb-0310-9956-ffa450edef68
731e11aad49dbee15e1f5072326ef15a6f707d3b,"Make tests easier to run locally.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508837 13f79535-47bb-0310-9956-ffa450edef68"
caadfb5946cf7d38e4a6b3453c813ecfae0340ba,"relocate to sql/test. Just sql does not work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508862 13f79535-47bb-0310-9956-ffa450edef68"
e91345b71e95cb75ceacb89922540f18fd2bcc7a,"Changes made so mvn jetty:run works fine with Hibernate also.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508871 13f79535-47bb-0310-9956-ffa450edef68"
8265339ccc168c2eb5bc8eceb1d18acdaf3117f8,"Media file folder delete latest

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508894 13f79535-47bb-0310-9956-ffa450edef68"
6f0dc0a43d5cce28672797e9b09f00b78eeaab1c,"Removing no longer needed jetty-env.xml file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508898 13f79535-47bb-0310-9956-ffa450edef68"
00dd41756a727ad114bd9bd17ba3ac52b2dcc3f7,"Removed unused JBoss-specific build; install instructions now have JBoss users work from the standard Roller war.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1508930 13f79535-47bb-0310-9956-ffa450edef68"
a21397e12bba00a5b7c6b376d7423ba768ffabc1,"UI tidy

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509083 13f79535-47bb-0310-9956-ffa450edef68"
a3ca72cf21cfce9d47c9c46113b8d0cc8ac13296,"Keep local test local.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509084 13f79535-47bb-0310-9956-ffa450edef68"
c7e38b7cfcf7231b1a7831e372053f859e1c45e6,"Minor formatting changes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509436 13f79535-47bb-0310-9956-ffa450edef68"
48c0c9708d1308bc3834f0c88a94371ce8ef1c25,"Initial check-in for Roller Selenium tests; see it-selenium/pom.xml for how to run.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509527 13f79535-47bb-0310-9956-ffa450edef68"
cb21ee5d1f3db9864ae8d07039c084713de47782,"Switched to inmemdb-maven-plugin; removed Ant Derby start/stop scripts.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509745 13f79535-47bb-0310-9956-ffa450edef68"
62fa6a2b24f5c06b0750864a9c38f1f2d390efec,"Removed no longer needed sign-release.sh (it's in the assembly-release pom already) and simplified the assembly release configuration

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1509918 13f79535-47bb-0310-9956-ffa450edef68"
5b21e1b30da7347826e0d904af1b0438118e9c10,"Apply proper escaping.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510000 13f79535-47bb-0310-9956-ffa450edef68"
a28914803b7a1b105c6f6136b6d9798a1adb9655,"Switch to Page Object Design Pattern (http://docs.seleniumhq.org/docs/06_test_design_considerations.jsp#page-object-design-pattern) for Selenium tests.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510094 13f79535-47bb-0310-9956-ffa450edef68"
40d0ba666e22467000673e184a06d4bf592f8c20,"Removed assembly-war submodule; assembly release now uses the WAR from the app folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510278 13f79535-47bb-0310-9956-ffa450edef68"
344faf14d2bb95c300e1763f0bb9b4f3bccc515c,"Implemented SingleBlogEntryPage

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510443 13f79535-47bb-0310-9956-ffa450edef68"
9e7173f962b4ec6726f041e07292719e7c113ec8,"Moving junit test script to already existing docs/testing folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510470 13f79535-47bb-0310-9956-ffa450edef68"
2e857e32520d8b2404dbe1d34e52df4177654f00,"Minor Sonar cleanups and some JSP tweaking on the startup page (preventing ability to create a blog without a user, and no second user until a blog is created, the latter one enforced later on by the app anyway.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510787 13f79535-47bb-0310-9956-ffa450edef68"
0e27f7e911298fa16844b92bbe819948bdced92d,"Removing two apparently no longer needed Maven repository URLs

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1510846 13f79535-47bb-0310-9956-ffa450edef68"
abd3232fd55e52d8e1a7848f292649a651e092b5,"Revert of ROL-1933, removing Crowd Atlassian integration from Roller (See ROL-1933 for changes necessary for individual users to incorporate V2.4 of it, also http://markmail.org/message/tyxrhzclkycovd4p for reasoning for removal.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1511052 13f79535-47bb-0310-9956-ffa450edef68"
b093f34bf874bbc8b8c252797ddc7bbef414aa7d,"Revert to EclipseLink 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1511304 13f79535-47bb-0310-9956-ffa450edef68"
cb4b6c6603c52918f4440f713a692091fc666600,"Don't attempt to sanitize null values

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1511305 13f79535-47bb-0310-9956-ffa450edef68"
9b2e3c06bbd2afea8647e55417c9d8b98e38617a,"Added some ids to anchors in JSPs to make Selenium more i18n-independent, added comment not to distribute w/Hibernate due to its being LGPL.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1511450 13f79535-47bb-0310-9956-ffa450edef68"
062c4ea8db367c13f8e5d89113efb3861e87cdb4,"Various Sonar complaints fixed, removed Planet Utilities class in favor of using Roller one throughout.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1512325 13f79535-47bb-0310-9956-ffa450edef68"
e3de187201fde82a1ce61000d2b45fbe3084552e,"Removed two discontinued blog ping services.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1512542 13f79535-47bb-0310-9956-ffa450edef68"
2d9e97d2fa33ef1345880bc45ba9c6180a9691c4,"Fixed test regression, updated Spring DI to latest 3.2.4.RELEASE (Spring Security still needs updating).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1512550 13f79535-47bb-0310-9956-ffa450edef68"
dfb5664aa7eb03a9de6846e2a9b1efdbcb13891a,"Reverted back to Throwable instead of Exception for TaskScheduler except now throwing ThreadDeath per JDK explanation: http://docs.oracle.com/javase/7/docs/api/java/lang/ThreadDeath.html

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1512867 13f79535-47bb-0310-9956-ffa450edef68"
ed65ec0f388cb1c1a4791b2aa0f68ee1b414827b,"Rewrote JBoss section to no longer require any WAR modifications and to do everything via web admin console instead of file editing/command line stuff (also tested successfully on JBoss 7.1.1)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1512969 13f79535-47bb-0310-9956-ffa450edef68"
1b4a3bec02f1ecec2a43e73d9bf79a97b62b5e56,"Minor formatting change

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513113 13f79535-47bb-0310-9956-ffa450edef68"
e9ad97eb27d6baeb4bff18825e90dce7505f5bef,"ROL-1968: Upgrade to Spring Security 3.1.4.RELEASE

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513259 13f79535-47bb-0310-9956-ffa450edef68"
5a39acfb060b09c6cf26e8d9f92c0cb9eabd2e90,"Rearranged dependencies to reduce need for exclusion listings as verified by 'mvn dependency:tree', removed spring-dao dependency as it's already brought in by spring-tx (transactions)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513320 13f79535-47bb-0310-9956-ffa450edef68"
2100e1df8b40e125b99216c707c3406b16f6d9b5,"Include velocity.properties changes for theme reloading via roller.properties themes.reload.mode setting.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513378 13f79535-47bb-0310-9956-ffa450edef68"
4592657ae435e61abd09daea42ccf244a737ab3e,"Make sure we set correct absolute Url on startup if first page is via https.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513383 13f79535-47bb-0310-9956-ffa450edef68"
3d982c812b8c7e3c546c22c268f4521039ae4179,"Added an id element to basic's permalink.vm template to help with Selenium testing.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513645 13f79535-47bb-0310-9956-ffa450edef68"
1257f0aef48a7894c169dde3a10c7f1af5ddab8c,"Updated Selenium tests to set Roller's front page blog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1513719 13f79535-47bb-0310-9956-ffa450edef68"
692d13c517ababe0465f7b1dca2b0a7f54c2f451,"Added PostgreSQL DB config info

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1514745 13f79535-47bb-0310-9956-ffa450edef68"
c5b7ea426bac9a3c9de7341f324bb2bf649c2a34,"ROL-1969 fix migration scripts for PostgreSQL

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1514786 13f79535-47bb-0310-9956-ffa450edef68"
5a316381ce15153b8f4ae0a8272a62cef72820cf,"Updated Guice from V2.0->V3.0 (V4 still beta); removed unneeded openid4java dep (spring-openid brings in the same version) and apparently unused openxri-client dependency.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1514838 13f79535-47bb-0310-9956-ffa450edef68"
17330a0e2453f76bd06d68b62dcb27f5d0b5ab57,"Move WorkerThread cleanup into a finish block.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1514866 13f79535-47bb-0310-9956-ffa450edef68"
e7a2c6254da236534085778dc53663f0803efcde,"Explicitly throwing ThreadDeath per its JavaDoc advisement to do so.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1514871 13f79535-47bb-0310-9956-ffa450edef68"
96c8e402f93891b89e86a893d2655099e8062b01,"Add cleanup in UIAction.getText() calls.   Add unit test.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1515001 13f79535-47bb-0310-9956-ffa450edef68"
02f39c9559f56d8e94d4127ad2ef326d506c512f,"ROL-1596 fix off-by-one error in display of # of weblog entries.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1515190 13f79535-47bb-0310-9956-ffa450edef68"
c5a2ccde38291757e3819a73297c71b1783de638,"Removed unnecessary HTML escaping of title from basic theme (not present in other themes) related to ROL-904 preventing Asian character sets from displaying properly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1515196 13f79535-47bb-0310-9956-ffa450edef68"
bd24cd40c342520687333bd137aea9817b9b4112,"Updated URL for Roller Mailing Lists

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1515262 13f79535-47bb-0310-9956-ffa450edef68"
d6c594e8ce6baaf8bca92bf2a5795f0ecf5176b0,"ROL-1738 Use UTF-8 for Email subject to better facilitate non-ASCII charsets.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1515266 13f79535-47bb-0310-9956-ffa450edef68"
daf4f8c3ab0a61ad47e3a50cfe084a33d0481c75,"OpenID now working again on trunk (at least using only option, haven't checked hybrid OpenID/username & password yet) updated Section 3.2 of User's Guide with a paragraph showing how to use OpenID with a GooglePlus OpenID account.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1516294 13f79535-47bb-0310-9956-ffa450edef68"
fd186678a3ca21f53d96e64106e3eb2c4be3a00f,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1516602 13f79535-47bb-0310-9956-ffa450edef68"
c419731f72485f8f8aba05a582c5af93bc199b15,"Minor code cleanup, switch from tab- to space-delimited for the SchemeEnforcementFilter.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517033 13f79535-47bb-0310-9956-ffa450edef68"
154d67d4b7692edc9ad685d4e582a0dbde9e91f7,"ROL-1929 NPE guard for null blog article creators, updated indexing code to Lucene 4.4 (replaced deprecated methods).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517178 13f79535-47bb-0310-9956-ffa450edef68"
999479565728e930889f25f7f857acc493fa2b64,"State that the user has comments only if he actually has comments.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517218 13f79535-47bb-0310-9956-ffa450edef68"
2c7ec82a9e271be3398ec2de86376cdb9a5a2aa6,"ROL-1957 RSD link not working.  Patch by Harsh Gupta--thanks\!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517284 13f79535-47bb-0310-9956-ffa450edef68"
c6e74bb670b7768ad5a8164333c63473e70b5f18,"ROL-1954 restore list of blogs editable by a user on the user management screen.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517546 13f79535-47bb-0310-9956-ffa450edef68"
5c1327ad6b08a961cf6c51c1392fda950c16137e,"ROL-1021 provide total # of referrers and max referrer queue size in ReferrerQueueManagerImpl.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517553 13f79535-47bb-0310-9956-ffa450edef68"
185992b25a569a67a5fb171c70e83ddf7fb57ad3,"ROL-1881 Add delete blog entry option to entries page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517646 13f79535-47bb-0310-9956-ffa450edef68"
eabc3ca65a1052991bf812e9face52a823e6e110,"Requiring at least one category on the Categories page to prevent hiccups that occur when trying to create blog entries without a category attached to it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517701 13f79535-47bb-0310-9956-ffa450edef68"
4d5ace1769e6042a45a940898e86f921918114a8,"Fixing members list (showing pending members, removing deleted members, show proper error message if user already invited) and functionality for limited blogger (no error messages due to no mail service on document submission, allows limited to delete his own drafts and pending docs, remove inaccessible comments and entries tabs), some better named functions in UserManager & WeblogPermission.orm.xml.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1517951 13f79535-47bb-0310-9956-ffa450edef68"
4465e165467a89a42be1377a496cf96334227d47,"ROL-929 Add a resignation confirmation page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1518056 13f79535-47bb-0310-9956-ffa450edef68"
55eb1ceef9def068bdc3829391be0b4609a0ca38,"Internationalization cleanup for cases where addError and addMessage were being used with directly concatenated strings.  Added properties for strings where required, and removed some duplicated properties.  Fixed up UIAction.cleanText to handle %{} expressions as well.  [Note: my IDE also indicates several unreferenced ApplicationResources property keys, but I have not cleaned them up in this revision.]

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1519237 13f79535-47bb-0310-9956-ffa450edef68"
96127e8cad1631a1f7be5c1f09b8d3552fd32bec,"ROL-1638 standardize on lower-case weblog.vm name

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1519537 13f79535-47bb-0310-9956-ffa450edef68"
25dcc0102248480549c80db0c65c291c9e5f7f22,"Shutting off referrers processing by default (referrers.processing.enabled=false), assuming most who would care would be using Google Analytics or similar 3rd party tools instead.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1519874 13f79535-47bb-0310-9956-ffa450edef68"
993c1514ce1a09b17846c8955323c4c1b45c3d48,"More substantive default categories for Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520152 13f79535-47bb-0310-9956-ffa450edef68"
53501a715da2e2439ff636fd650fb39a8d6270f8,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520708 13f79535-47bb-0310-9956-ffa450edef68"
348bd56ee55d79aea9f620c29a7e6f03a6024a5f,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520777 13f79535-47bb-0310-9956-ffa450edef68"
a420adde5c6e1d458970b92b5a78b0a831081878,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520821 13f79535-47bb-0310-9956-ffa450edef68"
4ebd4e630fd82eb94d0e9a87174359b384757d5e,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520831 13f79535-47bb-0310-9956-ffa450edef68"
329ca09e6273b6aff7a4a120a5d72942f13a418f,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520867 13f79535-47bb-0310-9956-ffa450edef68"
62b885499e2aa1d49143e09a60177738e2183c47,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520902 13f79535-47bb-0310-9956-ffa450edef68"
43a26aeafbfdd9c3903399d7f36d6c1c9b9808b5,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1520953 13f79535-47bb-0310-9956-ffa450edef68"
19279f2a2d2f9fff577389f8c58062e637c52eb2,"More fixes to UIAction.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1523445 13f79535-47bb-0310-9956-ffa450edef68"
338757a8ca8d67bde8c5211a3fe4ba853e6aae00,"Simplifications to Maven surefire plugin config.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1523514 13f79535-47bb-0310-9956-ffa450edef68"
cf200e8f62928fbbbba4027af37d80b73c00520f,"For a search, make sure the device type is available in the PageModel otherwise we cannot select the mobile template version.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1528309 13f79535-47bb-0310-9956-ffa450edef68"
a15b3e59e6b001f7b0c22bdab47ae30ca1d099db,"move to latest ROME

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1529475 13f79535-47bb-0310-9956-ffa450edef68"
2b7f07e63fe546bb01c9887cfeae5450dbc5fea0,"Show template rather than just logging

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1530927 13f79535-47bb-0310-9956-ffa450edef68"
8e8e6b3bff7e2ab7015ecf22da7913ad103ac7ae,"make sure theme switching ie standard to mobile and back (front page View Mobile Weblog link) works correctly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1530968 13f79535-47bb-0310-9956-ffa450edef68"
c25cba161f61fb31efb890bd1ce2317351c49dd0,"Add struts register methods to our url strategy.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1530969 13f79535-47bb-0310-9956-ffa450edef68"
3ff0963d03852a6dba3b05e5ba305a5cd3340d1d,"Work in progress...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1531069 13f79535-47bb-0310-9956-ffa450edef68"
f2c1a2683000d8f43ecd8c76753c454202e48148,"jQuery mobile rocks..

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1531282 13f79535-47bb-0310-9956-ffa450edef68"
80a1fe82f5724448cd4d5ddb2a8e9bf657746f75,"Search not working on the category. Needs to be lower case for the clause to work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1531288 13f79535-47bb-0310-9956-ffa450edef68"
41f422bbd57b5da462a5144fe5d932aa84439c00,"Tidy up

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1533866 13f79535-47bb-0310-9956-ffa450edef68"
479665d6d0f372a801d82ceae844cd8b81f39723,"Swap headings and remove comment link

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1533873 13f79535-47bb-0310-9956-ffa450edef68"
cdf6e3c980d473a3986b199e9fbad5397b25eaae,"Required for struts 2.3.15.3.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1536619 13f79535-47bb-0310-9956-ffa450edef68"
2407629dbafc6d113819143be10c92fc4fe57914,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1542706 13f79535-47bb-0310-9956-ffa450edef68"
5a559a35bde1311ef08e9cfc4e7f6b3ffdb57f6d,"Emptied obsolete blacklist.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1543397 13f79535-47bb-0310-9956-ffa450edef68"
8c1923b87319a52f1f453d736149e32b2c9f2e90,"Removed unneeded imports.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1543417 13f79535-47bb-0310-9956-ffa450edef68"
1fdab3208a31c207bd38e20af1b2c8754f57d4cf,"Slight renaming of Roller so it shows up more nicely in the Sonar listings.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1543419 13f79535-47bb-0310-9956-ffa450edef68"
13098c7b780bdc3ecec32d57b2bd3369254852f4,"Removed unused @hibernate, @ejb, and @roller comment annotations.  Kept 14 @struts ones as unsure about those.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1545147 13f79535-47bb-0310-9956-ffa450edef68"
b0a0a4ef3e3b29ec08f1b58e7f970de117c2fd97,"ROL-1978 switch blog entry titles to using hyphens instead of underscores as word separators, new weblogentry.title.userUnderscoreSeparator Roller property to override.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1545976 13f79535-47bb-0310-9956-ffa450edef68"
3cfba09cff18047e0219328a85a02116080904f9,"Replaced some iterators with for-each loops.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546770 13f79535-47bb-0310-9956-ffa450edef68"
1a8e385476c7766eb316ec0a52622e303554bcc4,"Code simplifications reported by IntelliJ IDEA.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546773 13f79535-47bb-0310-9956-ffa450edef68"
9c1a992dc7a14f094085c5bced992bb804e4349a,"Switched from StringBuffer to faster StringBuilder except in cases where 3rd party libraries required the former.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546778 13f79535-47bb-0310-9956-ffa450edef68"
a8a742be271d42cada38c8039bb26b19a1ff99bc,"Changes needed to move to ROME2 using a local SNAPSHOT build of ROME2 for now. Three ROME related tests still failing. 

Won't merge until tests are passing and ROME2 is available via Maven Central or other reputable repo.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1546815 13f79535-47bb-0310-9956-ffa450edef68"
92f5048cc2c4c29af3a33264751d510e6ddbe50f,"Merging changes from trunk since start of branch.

Used this command:

    svn merge -r 1529475:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1546816 13f79535-47bb-0310-9956-ffa450edef68"
a1c33d703ebe0d0a7d016896f6f8826435fa65b2,"Merging changes from trunk since start of branch.

Used this command:

    svn merge -r 1529475:HEAD https://svn.apache.org/repos/asf/roller/trunk .



git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1546817 13f79535-47bb-0310-9956-ffa450edef68"
03c6d299b297cd95a78cf23d981b375d58c8b54b,"CSS fixes recommended by Netbeans.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546861 13f79535-47bb-0310-9956-ffa450edef68"
f4fa6bb259d14e74fd7de5b93c7d78e8d9de3e0b,"Do not check for reload on .css stuff

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546955 13f79535-47bb-0310-9956-ffa450edef68"
153285a33ed4b96b950bc0c9f92f8a46451a9e13,"Theme reload oops, css stuff is handled via the page servlet.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1546963 13f79535-47bb-0310-9956-ffa450edef68"
8fcd0ce887ef968bc153751e907ba598640a012a,"New #showMetaDescription() Velocity macro added.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1549360 13f79535-47bb-0310-9956-ffa450edef68"
61de6a8f2190f0d43dd38101846c9bc660062502,"ROL-1979 Remove subcategory functionality from Roller.  (Also IntelliJ updated the application resource property ordering while I changed the category page text; hopefully nothing broken.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1549855 13f79535-47bb-0310-9956-ffa450edef68"
ccbf6885f581a401fc41e8c37ee35e442028b0a6,"ROL-1980, pull out root category from list of options when moving category blog entries to a new category, fix error that non-published blog articles aren't moved to the new category.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1549969 13f79535-47bb-0310-9956-ffa450edef68"
ed1ac59e5b2e0d7f21eb61ed9599fac8ae996d08,"Switched to parameterized forms of Comparable

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1551565 13f79535-47bb-0310-9956-ffa450edef68"
456aec6c92b80a8a83e8f121eb321ae9df447271,"Fixed coding issues reported by IntelliJ, in particular reduction of iterators in favor of for-each loops and more parameterizing of Lists, Maps, etc.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1551670 13f79535-47bb-0310-9956-ffa450edef68"
195acad3fa3081d52a9b43d0b97e7f76fe8cd94b,"Removed code no longer needed as a result of getting rid of subcategories.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552224 13f79535-47bb-0310-9956-ffa450edef68"
e7cae713115677906436086e8c39f3e641a609c4,"Struts 2.3.15.3 security fix

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552291 13f79535-47bb-0310-9956-ffa450edef68"
a6f0d4c0fd6b500deaebdfd3aaee3b3f5e2b45fd,"check for nulls

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552292 13f79535-47bb-0310-9956-ffa450edef68"
18becdbf3bd8569aeab1883e6518b2c4905fdea9,"ROL-712 Explained workaround to changing permalink URL in Section 4.1.1 of User's Guide

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552478 13f79535-47bb-0310-9956-ffa450edef68"
aa123254479e63a96c8ef429e32ef8c58e2de8fe,"firefox freezing on lots of 404's

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552626 13f79535-47bb-0310-9956-ffa450edef68"
0157d9675c1aee518ca5b76b0645f73ddc35b9d3,"Switched blogroll tab from Bookmarks to Blogroll.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1552871 13f79535-47bb-0310-9956-ffa450edef68"
78ae9894e4146e622b1868a4f484d73a6dedb80d,"Deleted largely empty Roller Dev Guide in favor of using the Roller Wiki; moved its Roller Admin Protocol (RAP) chapter to the end of the Install guide.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1553433 13f79535-47bb-0310-9956-ffa450edef68"
d595794a464c8819e755b1c6489ac7872a2c38b8,"Forgot to update doc folder README.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1553434 13f79535-47bb-0310-9956-ffa450edef68"
47bc5140bfc75512cad6b364e4aaee36c72202f7,"ROL-1616 Input fields not emptied after creating a new user (partial solution), patch by Gaurav Saini; Upgrade from Lucene 4.4 to 4.6.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1553436 13f79535-47bb-0310-9956-ffa450edef68"
50c56ff1071fc0ce29f3177b456ae1c13ef54ddc,"Revert of ROL-1616, going back to saves meaning update of current user data rather than creating new user.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1553903 13f79535-47bb-0310-9956-ffa450edef68"
aa94077b9fd93e3ecf90ae38237da19d847bd185,"ROL-1616 Use a new backing bean for each Create User so New User page is initialized cleanly after each save.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1553938 13f79535-47bb-0310-9956-ffa450edef68"
0c597e7435d5c8308fc3b7e9fe10533b2e3987c1,"Consistent names for modules.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1554551 13f79535-47bb-0310-9956-ffa450edef68"
97883d83a57b63707cee0588816491509f53f3c1,"Don't throw NPE when user is null.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1554552 13f79535-47bb-0310-9956-ffa450edef68"
312988fc7b755db033d3631954304c142c95289e,"Removed more Iterators and converted more methods to parameterized types.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1555104 13f79535-47bb-0310-9956-ffa450edef68"
c69a71836c3c2b7036909c6b712db2fb15463ce3,"Removed (still) more Iterators and converted more methods to parameterized types.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1555291 13f79535-47bb-0310-9956-ffa450edef68"
9fbf43c8f4bfa75a94f7de546e785cb366e61f9c,"Removed remaining Iterators for which it makes sense to remove, in all, Roller trunk has gone from ~440 to 52 iterator references.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1555526 13f79535-47bb-0310-9956-ffa450edef68"
1e83f52f7045a1b9211c989cff115423fc91e785,"Fix media file add/move/delete refresh of parent folders.  TODO rewrite. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1555713 13f79535-47bb-0310-9956-ffa450edef68"
78edd48ef295d5ab981bf248ab1e37d893faed84,"Media files testing changes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1555788 13f79535-47bb-0310-9956-ffa450edef68"
f8b099caf07475ed019a9232c9d1c01a91fb40a2,"pesky media files test fixes..

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556226 13f79535-47bb-0310-9956-ffa450edef68"
64bdd386f871f014bc46d7aa1d5475b3a9ebaa4d,"Media file fixes. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556264 13f79535-47bb-0310-9956-ffa450edef68"
a8e9c3d88d3af2b979e8c0475c660db1fef39718,"Make testing on eclipse fun, at the moment its not.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556265 13f79535-47bb-0310-9956-ffa450edef68"
f3718cbdbbf06726fdefae6797ba0fa58e5b42a5,"Remove thumbnails when deleting directory.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556275 13f79535-47bb-0310-9956-ffa450edef68"
6dc7ec16b0acc806128e902f2101638a96dc7b2d,"pesky media files test fixes..

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556477 13f79535-47bb-0310-9956-ffa450edef68"
3f854ca2eed5372aadd23b8d3719ace032c5bae0,"remove unused dir

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556478 13f79535-47bb-0310-9956-ffa450edef68"
0dcc2727a68e0e9510a78113b44862687cc25b16,"Change port from 3223 to 4224 for unit testing as port 3223 is used by DIGIVOTE on centos 6x

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1556757 13f79535-47bb-0310-9956-ffa450edef68"
73acfd71ac0aea7ce5ea5419a5e4bf447331801e,"More info on unit tests clear

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1557062 13f79535-47bb-0310-9956-ffa450edef68"
de93d37061ddb3ca61b8ca9b922c8cd61a67d3bf,"Fix for ROL-1983 to stop unauthorised access to user data.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1557537 13f79535-47bb-0310-9956-ffa450edef68"
552df5a846585352ecba07c897371ed6bcc81f4e,"Test fix for violation of foreign key constraint 'ROLLER_MEDIAFILEDIR_ID_FK'.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1558708 13f79535-47bb-0310-9956-ffa450edef68"
ed76bfa8d22821a47dd0bdbeb275d3385ce7ab45,"Add some info on how servlet is protected.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1558710 13f79535-47bb-0310-9956-ffa450edef68"
bf1b529f888a2ca6749e65fc732dfc36a239c32b,"Updated to Spring Security 3.2 and a few other library updates per mvn versions:display-dependency-updates.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559379 13f79535-47bb-0310-9956-ffa450edef68"
f7e3ca9350e18365998a17f39720b813248b7ee9,"ROL-1985 update httpcomponents dependencies (transitively via selenium upgrade) to fix problem of IT tests no longer running due to Spring Security upgrade.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559436 13f79535-47bb-0310-9956-ffa450edef68"
9878860ed3410193ee2816d0e495dde42ac874d5,"ROL-1984 Removed unused & old test security.xml file, shrunk test blacklist.txt to that of the current (nearly empty) one in the src folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559437 13f79535-47bb-0310-9956-ffa450edef68"
fbed0be9d2daee5b00d11327955af5088f4118df,"Added a sample SSL configuration section (commented-out) to the Roller web.xml

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559528 13f79535-47bb-0310-9956-ffa450edef68"
38ff6acb50a07f9ce8b0cfc12ea098211d02ef99,"Remove old/unused XDoclet and struts annotations.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559595 13f79535-47bb-0310-9956-ffa450edef68"
1e3c25fbde19b8a22361720df93dd7217cae5480,"Updated install guide to include SSL configuration info and while 5.1 is still in development replaced roller.properties listing with link to file in SVN.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559618 13f79535-47bb-0310-9956-ffa450edef68"
1c2f3dc1f0649a4f5c10259408bb0d2ee7d5f7ac,"Fixed SSL config info in web.xml

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1559619 13f79535-47bb-0310-9956-ffa450edef68"
1b9711471d44b4dbc3cfdeaaf23ad72de8056a65,"Removed rollerconfig table (last used in Roller 1.2)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561580 13f79535-47bb-0310-9956-ffa450edef68"
3e671b3bcc537dbff762c60b8cbee14efd7e9cf7,"Test fix for java.sql.SQLIntegrityConstraintViolationException: DELETE on table 'ROLLER_MEDIAFILEDIR'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561615 13f79535-47bb-0310-9956-ffa450edef68"
43c9ebab5f2e32177eb4056ec3d5c521a5446f54,"Upgrade to commons lang3

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561624 13f79535-47bb-0310-9956-ffa450edef68"
bb4f89bdf4e3c9ef743a4fd7b6eec6acc8a6a065,"Another fix for ROL-1983 to allow the invite /authoring/invite.rol page to work.  Non admin shows screen name rather than email address.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561651 13f79535-47bb-0310-9956-ffa450edef68"
390b47d76fc9acd46f332e73286d27f647176957,"memberResign.rol shows wrong confirm header.  Needs to be without a menu.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561652 13f79535-47bb-0310-9956-ffa450edef68"
d95a5fa252a4ddd30bb82f79435cb1d7f85df8be,"See ROL-1795, sync with previous mods for ssl switching

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1561686 13f79535-47bb-0310-9956-ffa450edef68"
47b9784ee92fdc14348a8fd0356f28234f5387d7,"Quieten comment approval via roller.properties comment.notification.onapproval=false.  See ROL-1986.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1562073 13f79535-47bb-0310-9956-ffa450edef68"
ac1c575e470162101388d6a628b2af5834db56e1,"Speed up menu rendering.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1562766 13f79535-47bb-0310-9956-ffa450edef68"
e779f6a86c62e3d7749c5eeb4e37b1bc79851a85,"Make sure we get a default style sheet when switching themes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1563801 13f79535-47bb-0310-9956-ffa450edef68"
f34257b6e57401493dc8fdadce8c86b04029545b,"Make sure switching back from custom does not delete our stylesheet and ensure the style sheet link is reset on switching back after setting alternate themes. NPE on the .clone().

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1563986 13f79535-47bb-0310-9956-ffa450edef68"
0e465f3472d49b01b1ef088964a26db3c6c800f4,"NEP check for themes with no style sheet.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1564004 13f79535-47bb-0310-9956-ffa450edef68"
100a4c31349db22d3d2099330977beb42dadf90f,"Typos fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1564145 13f79535-47bb-0310-9956-ffa450edef68"
2e56d320b8973d61b34e2757570d94747aeb0911,"Removed persistence of WeblogCategory path column as part of move to top-level Categories.  Synthesized WeblogCategory.getPath() method still available until rest of application switches over to getName().

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1566356 13f79535-47bb-0310-9956-ffa450edef68"
d2001605679cd6bc7652aa2849a867a5c7861d38,"Replaced WeblogEntryManager.getWeblogCategoryByPath with ...ByName, using .substring(1) in a few cases that still haven't been converted from using category paths to just names.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1566380 13f79535-47bb-0310-9956-ffa450edef68"
a82befde13d5cf0b7dbafe2ebd45dfc3669f8cb9,"Converted most functionality from using category paths to names.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1566434 13f79535-47bb-0310-9956-ffa450edef68"
dddbb64aa869c626a7e3d9f50d5f6a6f771e0946,"getPath() removed from WeblogCategory, corresponding updates made to rest of code.  *URLStrategy.getWeblogCollectionURL() presently relying on root category having a name of 'root' to determine it's the root category, perhaps can be handled more elegantly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1566457 13f79535-47bb-0310-9956-ffa450edef68"
54e8467696ca2e0e20f1198ba08c6d2cedb66745,"Finished up removal of weblog subcategories:  removed parent, childcategory elements from WeblogCategory class.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1568146 13f79535-47bb-0310-9956-ffa450edef68"
490b6ffc41da61a742f97d084beed0a27fa7b0aa,"Menu speedup, make sure we allow no currentAction to be used (used in macros).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570521 13f79535-47bb-0310-9956-ffa450edef68"
a60ffc1b00aceba8783971b3253de74128ec5ffa,"Simplification of CategoryAdd.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570824 13f79535-47bb-0310-9956-ffa450edef68"
3ce4e678ae3426193297d187dbeadc707e9bb82c,"Simplification of CategoryAdd, part #2.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570825 13f79535-47bb-0310-9956-ffa450edef68"
281fd8c2bbeff289abb1cff75904f7ead04bc0b7,"Simplified velocity macros to remove subcategory stuff.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570830 13f79535-47bb-0310-9956-ffa450edef68"
86f97609a9712e5adf59d9278433ca427a725a0d,"Comment fix.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570835 13f79535-47bb-0310-9956-ffa450edef68"
5edeceefb3c213d7b75b0f9c7891fe4ea7a9d534,"Dropped unused weblogcategoryassoc table, removed parentid and path columns and added position column to weblogcategory table; tested 5.0 to 5.1 migration using MySQL database.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1570943 13f79535-47bb-0310-9956-ffa450edef68"
1142c9a174dd4bf1c6b4c3dcd98eed15cf820171,"Partial, and not completely accurate, implementation of category positioning.  Presently off when categories get deleted.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1571129 13f79535-47bb-0310-9956-ffa450edef68"
714160b6bfe86abe6d070b1d49ca4fbc9341de7f,"ROL-1981 categories now ordered by time created, can be reordered by combinations of deleting, re-adding and/or renaming them.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1571562 13f79535-47bb-0310-9956-ffa450edef68"
e4074c1600d9390419e23d8cd28daa0dba5d1c89,"Updates to CategoryRemove, deleted no longer needed WeblogCategoryPathComparator.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1571648 13f79535-47bb-0310-9956-ffa450edef68"
d4ead36e89b258ec80ffa7f503b4b791021f0ffa,"Drop unused folderassoc table.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1571897 13f79535-47bb-0310-9956-ffa450edef68"
a4fcbc11853d4e01e3b6f4284a0871cb63951917,"Removed unmaintained Roller Admin Protocol from trunk.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1573158 13f79535-47bb-0310-9956-ffa450edef68"
3152a2654d5e8e832b813a5093b23614ba762d07,"Missed a delete in the previous commit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1573160 13f79535-47bb-0310-9956-ffa450edef68"
f8bac1f7f07d47dc7d94bff4741a816e211b4ec9,"Removed custom ping functionality, all pings now admin-defined.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1573200 13f79535-47bb-0310-9956-ffa450edef68"
20471b720c136d055ce57b49a3191d1c0a389132,"Removed obsolete Resin 3 config.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1573848 13f79535-47bb-0310-9956-ffa450edef68"
93efcd3db9f669aa529ddd3f805f184022107631,"Removed ability to create Bookmark folders under a non-root folder, all new folders now created at the bookmark root.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575567 13f79535-47bb-0310-9956-ffa450edef68"
8fb18eed645e9845f9537e90cfca6608ef2322b4,"Added move to folder button on blogroll page, will be needed once folders no longer list other folders.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575585 13f79535-47bb-0310-9956-ffa450edef68"
8dd4d90a8f999bd03dc1097a684449ae83ebc14d,"Removed usage of bookmark folder paths.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575646 13f79535-47bb-0310-9956-ffa450edef68"
871e959af954ad98e7ae6233a8d349cbc0029f56,"Removed usage of bookmark folder's parent column, all folders now top-level; root folder now called default one; still need to implement folder delete/rename.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575713 13f79535-47bb-0310-9956-ffa450edef68"
ce647018df97e60be7bfcc8a9228ac494305950c,"Reimplemented bookmark folder edit and delete, removed tab-spacing in Bookmarks.java.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575796 13f79535-47bb-0310-9956-ffa450edef68"
128e8b91c64cebd514d8697fed57327b60dd49c2,"Removed folder description and bookmark weight fields to simplify code and UI.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575801 13f79535-47bb-0310-9956-ffa450edef68"
148cacd412ef62a12e8a715129cbcde6c0dbde49,"Removed old datamodel 4.0 diagram, implemented more parameterized types.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1575805 13f79535-47bb-0310-9956-ffa450edef68"
9d3dbf95c306fa4dcadc4c5b2a6220fdee3b6ad3,"Made bookmark priority autogenerated (first in highest priority) similar to categories; moved feedurl to blogroll list display.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1576198 13f79535-47bb-0310-9956-ffa450edef68"
4d15d5ec9b411a347ccebf49e0af8a5c05587b55,"ROL-1571 alt text for table elements added.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1577020 13f79535-47bb-0310-9956-ffa450edef68"
fb2983f952291b11dd30c9d5c82762ef0319d61a,"ROL-1870 Disallow creation of bookmarks of a name already in the folder while still allowing legacy duplicate bookmarks and duplicate bookmarks created by moving bookmarks from one folder to another.  Also, some Sonar fixes made.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1577406 13f79535-47bb-0310-9956-ffa450edef68"
653fd107726134e08acc7000eba065b5e017fbf8,"ROL-1907 Switch from keySet to entrySet in 10 places Sonar has found.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1577774 13f79535-47bb-0310-9956-ffa450edef68"
0eedc99a7e470d0e56eabf5fefc0ba4004918271,"ROL-1992 fix security error for blogroll opml import page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1577966 13f79535-47bb-0310-9956-ffa450edef68"
d4a9a5b84913461f3664ad06e419acf5b915d02e,"Created flatter OPML bookmark import (no longer creating bookmark subfolders, as they no longer exist), Sonar fixes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1578087 13f79535-47bb-0310-9956-ffa450edef68"
a4f403d19dc9b18c958164f14c131fd9a689dd2d,"Updated template guide with new bookmark/bookmark folder info.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1578091 13f79535-47bb-0310-9956-ffa450edef68"
3b23f6f0b2e868f13af820578be09da1b23db923,"fix bug of duplicate new bookmark items being created with each new blog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1578345 13f79535-47bb-0310-9956-ffa450edef68"
515ad4709d2de2b221ba588a508baf251403b8b3,"ROL-1987 Reactivate LDAP capability in Roller trunk (user will have to uncomment & customize LDAP config in security.xml) and upgrade to Spring 4.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1578699 13f79535-47bb-0310-9956-ffa450edef68"
b3c65e47d1a44b46b56115f2da7d81f25d3065dd,"Some Sonar and IntelliJ IDEA complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1580425 13f79535-47bb-0310-9956-ffa450edef68"
21c1f5e580bf88eb639c65599be1a9bf471aebc3,"Reduced Sonar complains regarding end of line comments and use of magic numbers where practical.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1580686 13f79535-47bb-0310-9956-ffa450edef68"
bb2f359529603cdb7d678cab1ccbcbab848f4513,"Removed unused import.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1580700 13f79535-47bb-0310-9956-ffa450edef68"
fb8226dc82f34f78c38441ff98e7cdc24de831bb,"Removed unmaintained and quite dated doc modification listings in Ch. 1, that info is in Subversion.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581194 13f79535-47bb-0310-9956-ffa450edef68"
4d01f0ee7c27d3d6c7512887fc33cfb33af59024,"ROL-1991 Switch to JQuery date-picker which provides ability to pick year and month from drop-downs; upgrade from JQuery 1.4.2 to 1.11

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581270 13f79535-47bb-0310-9956-ffa450edef68"
d2dd41e150aeed61aad67d17eac7639b1d2ab669,"Tidy interceptors in struts.xml.
Don't chain on ""cancel"" requests, otherwise parameter issues.
Testing changes!!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581353 13f79535-47bb-0310-9956-ffa450edef68"
90331c4fef74443751cbc2235c4f5ccc5f0883b4,"Local tests only.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581354 13f79535-47bb-0310-9956-ffa450edef68"
3616bc6a4d5316bff35c07f26076562a547f72cc,"Forgot to add a file to ROL-1991 commit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581521 13f79535-47bb-0310-9956-ffa450edef68"
8c99222200949955574e7ac08182234fa24cb462,"More movement to parameterized types, for-each loops, removal of other IntelliJ complaints, etc.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581588 13f79535-47bb-0310-9956-ffa450edef68"
96172cb075825dd6022b1ded374ef403dcf25554,"Unused import removed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581595 13f79535-47bb-0310-9956-ffa450edef68"
5d8361ce751393b1f751af826789fa2ebfc4d567,"Add a generic CANCEL rather than using ""cancel"" string for non chaining actions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581738 13f79535-47bb-0310-9956-ffa450edef68"
217cf694aa1a7102af919a2ed738687774f31191,"Place css in correct location.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581739 13f79535-47bb-0310-9956-ffa450edef68"
7b299ef1bef5ed0c9445083cfdac31e5bfd91a64,"...oops, remove commented line.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581744 13f79535-47bb-0310-9956-ffa450edef68"
42fe599ad295f3aad512875ec71e83ed71b6824a,"Don't think we need staticParams.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581753 13f79535-47bb-0310-9956-ffa450edef68"
ba1bdb8de9f49d34fe29a0e24cd78deb6ebd225f,"Add date picker theme css.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581760 13f79535-47bb-0310-9956-ffa450edef68"
a6ed34a6f36287d9c091a96840e8e3fbf31507eb,"Remove old date picker id=""datetagdiv"" element.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581761 13f79535-47bb-0310-9956-ffa450edef68"
c7856a76c609ece57b9ed5b6bebb3f9d44586d64,"i18n/testing changes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581773 13f79535-47bb-0310-9956-ffa450edef68"
ab0d661a9e2675186ccb4c2967a5a834abf663b3,"Show error/messages on chains.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1581774 13f79535-47bb-0310-9956-ffa450edef68"
b4f4f360d8a74a277e2ac76cddc2f7912b9fc4c6,"Fixed several Sonar issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1582167 13f79535-47bb-0310-9956-ffa450edef68"
742b5c6949e885304c3f46632a86d957c4b27f43,"Fixed some Sonar issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1582942 13f79535-47bb-0310-9956-ffa450edef68"
094802e73280ff3521eb733130bcd19f0eb1f127,"Fixed various Sonar issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1582950 13f79535-47bb-0310-9956-ffa450edef68"
aeaa2cbbed032e4cb4c9c7ba728cb32a053fec8b,"More Sonar/IntelliJ IDEA complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1582954 13f79535-47bb-0310-9956-ffa450edef68"
0b27c8fcd7fddc8dadb31dd353d3c605eea91c09,"Introduction of new WeblogEntrySearchCriteria object to simplify and better document WeblogEntryManager.getWeblogEntries() calls, removal of older references to Category paths.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1583085 13f79535-47bb-0310-9956-ffa450edef68"
739900e8efb24f5e5859ab7c8c11020420c95af5,"Minor Sonar issues fixed and some code reformatting (switching from tabs to 4 spaces.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1583506 13f79535-47bb-0310-9956-ffa450edef68"
cbd83101af4cb6fa875f9f7debc697b958b6895b,"Removed no longer used TrimTag (similar functionality already in JSTL.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1584254 13f79535-47bb-0310-9956-ffa450edef68"
ac8f974d46e9d5520ba46fb09cfc91a353c3ac5b,"Removed no longer needed Jakarta taglib LeftTag, replaced with JSTL substring() equivalent.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1584485 13f79535-47bb-0310-9956-ffa450edef68"
7d07fd12641e574e1fcd6e205b97fd5589621a02,"More Sonar items fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1584953 13f79535-47bb-0310-9956-ffa450edef68"
7d3b7f3049eec5ba1ccd0d2793b0f7fa819cd443,"Better consolidation of Jakarta taglib code that Roller is sitll using.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585239 13f79535-47bb-0310-9956-ffa450edef68"
817c9add1db5e3fc0e065f6b5377e39c53286326,"Create new CommentSearchCriteria class to simplify comment queries and remove Sonar complaints about trailing comments that would otherwise be needed for documentation.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585243 13f79535-47bb-0310-9956-ffa450edef68"
e1cdd794fd0bf2f1b3a5758a274d23361530bb38,"Fixed Sonar complaints about hidden fields & few more items.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585373 13f79535-47bb-0310-9956-ffa450edef68"
8508e03f7e4e28b56443d4cd2b777796a0888dea,"Various Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585640 13f79535-47bb-0310-9956-ffa450edef68"
b41dbb228c9152b8d70b63953fb8c3643090b23c,"fix WARN  org.apache.struts2.interceptor.CookieInterceptor CommonsLogger:warn - Cookie name [control-pluginControl] does not match accepted cookie names pattern [[a-zA-Z0-9\.\]\[_'\s]+]. ie replace - (dash) with _ (underscore).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585671 13f79535-47bb-0310-9956-ffa450edef68"
ac5970883f9a4c9f467d5f294d308a4f820bf6d2,"More Sonar complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585868 13f79535-47bb-0310-9956-ffa450edef68"
a2888a2361541eb93b85d46510d7ff31ac201d35,"Sonar/IntelliJ complaints fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1585920 13f79535-47bb-0310-9956-ffa450edef68"
b6e9e1d007e82acf35626bf2caf5958605f802cf,"Clarified a bit how runtimeConfigDefs.xml used in Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1586787 13f79535-47bb-0310-9956-ffa450edef68"
8a0b757c8463eec39f268c0b20d310fae201ad42,"Possible fix to Jenkins build errors in MediaFileTest, problem not occurring while building locally however, possibly due to different ordering of test runs.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1588599 13f79535-47bb-0310-9956-ffa450edef68"
c1b1fe5625e1c7c0ea58110220b4113ec0c6ba40,"Moving to ROME 1.5 snapshot for testing.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588669 13f79535-47bb-0310-9956-ffa450edef68"
29784761dd8f565316f2f6faea0a8228639f68f5,"Merged from trunk using this command:

svn merge -r 1546817:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588756 13f79535-47bb-0310-9956-ffa450edef68"
b4e9e06d7efa986286c25ae6cfaf63785798ea78,"Merged from trunk using this command:

svn merge -r 1546817:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588757 13f79535-47bb-0310-9956-ffa450edef68"
9eb0649be6359b4accadf240007c988fa4fe081f,"Merged from trunk using this command:

svn merge -r 1546817:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588765 13f79535-47bb-0310-9956-ffa450edef68"
d3ef31df4af7faf2051da542709c92fd9680fb0c,"Merged from trunk using this command:

svn merge -r 1546817:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588766 13f79535-47bb-0310-9956-ffa450edef68"
f835f13cc3e3e06f05038cabe3a75c08a99fe3e3,"Fix to make planet tests pass regardless of old data in ~/roller_data/planet_cache

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1588834 13f79535-47bb-0310-9956-ffa450edef68"
6966a8cef128beffa6d77e893107d0d0bf3e926d,"Fix for struts 2.3.16.2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1589954 13f79535-47bb-0310-9956-ffa450edef68"
77733f4f1aac9909a1e78706c95c7929da9a75be,"Do not call our Interceptors on cancel redirects.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1589956 13f79535-47bb-0310-9956-ffa450edef68"
4b12e605c9016a9cec409e9b8a3fb3ce66c53a9a,"Update to struts-2.3.dtd

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1589957 13f79535-47bb-0310-9956-ffa450edef68"
b3dd60f9bafed9aaf13936fd57996afe41790142,"Test to see if method execution order makes any difference to Jenkins build failures.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1590358 13f79535-47bb-0310-9956-ffa450edef68"
2240f982afa0028d51e433e1130e3d24f33f0ad8,"Fixes from testing Atom Protocol support via MarsEdit client.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1590406 13f79535-47bb-0310-9956-ffa450edef68"
99609fffc3c05a14f347396c98b001434d8f9162,"Fix the badly broken Planet configuration page.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1590462 13f79535-47bb-0310-9956-ffa450edef68"
0402177289d4829433f4c6eba98e79f5798d7083,"Upgrade to latest ROME 1.5 snapshot.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1590489 13f79535-47bb-0310-9956-ffa450edef68"
ca07168491eefe15ef333f31402a55dad6acc37f,"Upgrade to latest ROME 1.5 snapshot.

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1590490 13f79535-47bb-0310-9956-ffa450edef68"
9eea337ba7713e1806ffb083fd19eeaa60c87832,"Latest ROME 1.5 snapshot jars (with com.rometools package names)

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1590544 13f79535-47bb-0310-9956-ffa450edef68"
69c76eb4dba2727190e5d2b6e8bc9b721e3d6f97,"Use temporary Planet cache dir properly in tests. Also upgrade Buildnumber plugin to 1.3.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1592347 13f79535-47bb-0310-9956-ffa450edef68"
6a5598ef2c6979840c7faa69602f2c1679d0478b,"Fixed some Sonar issues.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1597539 13f79535-47bb-0310-9956-ffa450edef68"
74cb3999f58d76556ab4ae63c01d4fcf366e50a0,"ROL-2005 Media File folders are now top-level only; added Select All/None button to allow for selecting/unselecting all files in a folder at once.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1597616 13f79535-47bb-0310-9956-ffa450edef68"
70ee826a70751cf101cf8d28ef51507bbde120bf,"Removal of path property from MediaFileDirectory (Part of ROL-2005)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1597918 13f79535-47bb-0310-9956-ffa450edef68"
5ddb6a9e820c5da33e1773d6aec8e28806be14cd,"ROL-2005 Removed parentid, childdirectories from MediaFileDirectory; folders are now all top-level.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598186 13f79535-47bb-0310-9956-ffa450edef68"
2bd37aa3f9890e8de891edb6694cec0c4e11c91a,"ROL-1999 Addition of fields for holding system- and blog-level analytics tracking codes (work in progress).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598564 13f79535-47bb-0310-9956-ffa450edef68"
bbe13dbb197adfd7049e2b07f9a06f5a823aae5b,"ROL-1999 Addition of #showAnalyticsTrackingCode() macro to include tracking keys into HTML header section; addition of this macro to default templates provided by Roller; update to user's and template guide explaining how this works.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598868 13f79535-47bb-0310-9956-ffa450edef68"
29947e0de41e38e4bf2a79439fc47a46e1d4289d,"ROL-1999 removed referrer functionality in favor of recently added web analytics configuration.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598870 13f79535-47bb-0310-9956-ffa450edef68"
6add75fcdd97844a7beae7a0f61a38e7e9f24dd6,"ROL-2000 Standardize ROL_ prefix back to ROLLER_ for two tables.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598882 13f79535-47bb-0310-9956-ffa450edef68"
e4abc7d2dfdf1b46008e6313b7338d9daa5c4839,"ROL-2009 Fix for problem identifying already existing folders.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1598933 13f79535-47bb-0310-9956-ffa450edef68"
24ae999113d6d53b7d7b28882aaa23819b3f5966,"ROL-1716 fix illegal state exception in getPopularTags when unlimited tags (-1) is requested.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1599070 13f79535-47bb-0310-9956-ffa450edef68"
6d701c250a1f6115d31fb587e87f9d0d7c1a83f5,"ROL-1430, ROL-1649 Addition of French and Korean resource files (rather old, from 2007); removal of lesser-used Slovenian, Icelandic, and Danish files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1599080 13f79535-47bb-0310-9956-ffa450edef68"
69a66f593647f83913129d10dd353deaf1722153,"Updated dependencies to latest available.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1599133 13f79535-47bb-0310-9956-ffa450edef68"
4bfbe200639e72b9a1dd2a12912ba918f242f9c7,"Error in DB migration script fixed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601049 13f79535-47bb-0310-9956-ffa450edef68"
8b1b3b5fd4381ac9bcdd5911e18dd3564cbe79c9,"Fixed bugs in 5.0.x->5.1 migration script.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601056 13f79535-47bb-0310-9956-ffa450edef68"
2ca42e22ac6841eae5d7515685a405d2c86be480,"ROL-1715 fix to site model getWeblogsByLetterPager() explanation.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601057 13f79535-47bb-0310-9956-ffa450edef68"
04289f09d24ca6c655f136ac54845e06ec94c092,"Expanding error message in hopes of getting more info why it's failing on Jenkins.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601087 13f79535-47bb-0310-9956-ffa450edef68"
31bd7cc8529a3f913fd9803b2b5715ea28c0217a,"Expanding error message in hopes of getting more info why it's failing on Jenkins. (part 2)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601089 13f79535-47bb-0310-9956-ffa450edef68"
348ec2754bec827b179d9f562c3128c819e69950,"ROL-1434 Added additional i18n keys where it makes sense to do so -- leaving out for unexplained system errors where one would be expected to Google the error string and hence benefit from an English message.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1601217 13f79535-47bb-0310-9956-ffa450edef68"
1d4c7a5520b2bca8b979d0ed46514be58c69d457,"Move to final ROME 1.5.0 release, which is now in Maven Central

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1601248 13f79535-47bb-0310-9956-ffa450edef68"
652bbddf664c815876f56f9fe462a7698e4e0ff9,"Merged lastest from trunk with command svn merge -r 1588766:HEAD https://svn.apache.org/repos/asf/roller/trunk .

git-svn-id: https://svn.apache.org/repos/asf/roller/branches/rome2@1601254 13f79535-47bb-0310-9956-ffa450edef68"
59d4f164487111bba30f1de9f2ff919e59d3b5b9,"Move to ROME 1.5, ROME Fetcher and ROME Propono; also includes upgrade to JDOM2.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602607 13f79535-47bb-0310-9956-ffa450edef68"
83c9fcdf18f1827d7a9ee5b328c05b79af20fbce,"Move to ROME 1.5, ROME Fetcher and ROME Propono; also includes upgrade to JDOM2.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602608 13f79535-47bb-0310-9956-ffa450edef68"
148f19ce34f4dcfc27cc696b8859e36c3f213ca8,"Move to ROME 1.5, ROME Fetcher and ROME Propono; also includes upgrade to JDOM2.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602735 13f79535-47bb-0310-9956-ffa450edef68"
f2f664ab0c9bfbb80f1e18856856ebda39d04d8a,"Removed Technorati topic tag plugin.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602773 13f79535-47bb-0310-9956-ffa450edef68"
1e30240baf85bb46fbfd1b2eb16fab91fd84d4f0,"Simplifications to pom.xml

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602794 13f79535-47bb-0310-9956-ffa450edef68"
ca4ea89a365e6f021aab5aaa2a1f3fa106782272,"ROL-2002

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602813 13f79535-47bb-0310-9956-ffa450edef68"
4882daf8ebd6523d6cd2fe9daa04ebe62208a0ea,"ROL-2003

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602814 13f79535-47bb-0310-9956-ffa450edef68"
13e6f7770e3a4e37967d14279d7b51faa90a03e0,"For struts 2.3.16.3.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602815 13f79535-47bb-0310-9956-ffa450edef68"
f60740ca33c5d6f4b3cd27d92e6f07c9df26fba3,"See ROL-2016.  For now assume we are the same as roller.properties ie tomcat based and create in tomcat log directory rather than root.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602816 13f79535-47bb-0310-9956-ffa450edef68"
62ad3f2481423ae1e5a0c2a361a8219aa075373a,"Float right does not seem to work correctly, an ugly clear fix solution works but.....

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602817 13f79535-47bb-0310-9956-ffa450edef68"
a78a2728109caadc06b218a45e3dfd37fa7721bb,"Fix for media file sort. See ROL-2006.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602839 13f79535-47bb-0310-9956-ffa450edef68"
9b248f914f50a1466d90a7095bfb1a53600c15a4,"Fix for ROL-2007

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602889 13f79535-47bb-0310-9956-ffa450edef68"
78f9af57589b3885f75e0946bd640e0ccd4b11b4,"Tidy js and tags.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602890 13f79535-47bb-0310-9956-ffa450edef68"
4b12309964df1d649a2eac697ae506e66e4dd6ad,"Improve logging as its not initially obvious when the filter is in operation, especially wrt media files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602892 13f79535-47bb-0310-9956-ffa450edef68"
6992ff155b5d4b5a4076549f485196ac52d62088,"ROL-2011, empty file chooser.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1602936 13f79535-47bb-0310-9956-ffa450edef68"
1840e7712f7611966da0298b95d0d4ce5eebfa88,"Add theme description element to theme.xml.  See ROL-2015.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603134 13f79535-47bb-0310-9956-ffa450edef68"
81c6c2552f545baa41bb6d06d04a0a355289282f,"Media folder seletor fixes.  See ROL-2008.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603162 13f79535-47bb-0310-9956-ffa450edef68"
04d91f73535f0c2155cd775db1584e536df9c680,"Remove ehcache.  See ROL-2012.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603173 13f79535-47bb-0310-9956-ffa450edef68"
adeba1ec459f483446315144f1a693d713e0a6d4,"Fix for ROL-1789.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603198 13f79535-47bb-0310-9956-ffa450edef68"
41cf825b1596e0f130cdb665f3365c0732b74cf2,"Additional fix for ROL-1789.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603212 13f79535-47bb-0310-9956-ffa450edef68"
634e9a3fc44bb4f8c5819e24f436ec2a758b50dc,"Additional fix for ROL-1789. No using showWeblogSearchAgainForm.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603215 13f79535-47bb-0310-9956-ffa450edef68"
e052e12a30acee7fbabd334eb6ecba16f103c7fb,"Make sure mobile template gets the right code, not standard template code.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603369 13f79535-47bb-0310-9956-ffa450edef68"
96a9dd68c4b43a57fb7b9a2922cf663377d413de,"Upgrade jquery mobile to 1.4.2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603371 13f79535-47bb-0310-9956-ffa450edef68"
95f09b4378c09705124e6224e8668f3a7b5077d4,"Fixed size text on comments.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603372 13f79535-47bb-0310-9956-ffa450edef68"
f07b9f817d4987c5a967f36fc114874fd62b9c84,"jquery mobile 1.4.2

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603473 13f79535-47bb-0310-9956-ffa450edef68"
dc4b73d225e0e3c79121d91f798a084108e531aa,"Errors on selection

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603474 13f79535-47bb-0310-9956-ffa450edef68"
bacf5496a7c94a995287ac9e704119a5b715de29,"Unnecessary dependency declaration removed, as confirmed via mvn dependency:tree

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603704 13f79535-47bb-0310-9956-ffa450edef68"
b040af665df66b3b22df16d007525320b30f89e1,"Roller must have categories, so empty check not required.  See ROL-1789. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603725 13f79535-47bb-0310-9956-ffa450edef68"
27eea85caed761b52996613359e62720ae1708ed,"Overview update...  See ROL-1789 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603738 13f79535-47bb-0310-9956-ffa450edef68"
30d14f388a2e2069c361a735694144a3fed2196e,"Front page tags do not work.  We need a page for this and some kind of site pager with tag entries.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603822 13f79535-47bb-0310-9956-ffa450edef68"
bebc1165ee6a93774dd3ce9040be5d0d742736b0,"Make sure page hit counts are accurate ie we do not count page resources e.g. *.css files as page hits.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603823 13f79535-47bb-0310-9956-ffa450edef68"
7d100f4ea2ed4f1d00ed24e52637327436d0b2c5,"Use filter instead of query to match headings.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1603825 13f79535-47bb-0310-9956-ffa450edef68"
faf0a68031972dcd63bdcc7165f740e6c6e4af41,"Switched to console logger for default roller-startup logger so it will work OOTB on all installations, added comments on how to switch to a log file if desired.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1604536 13f79535-47bb-0310-9956-ffa450edef68"
27b559bbceacd69b1c7c5fd8b0b3061823aea1c9,"ROL-1997 Switch from a string to an enum for WeblogEntry.status

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1604674 13f79535-47bb-0310-9956-ffa450edef68"
a7c01de5d36095049e284470b0584bd4bee6b211,"Switched to enum for WeblogEntryComment approval status; changed effect of Admin un-spamming a comment to that of disapproval instead of approval; removed no spam search option until properly implemented (via checkbox or multi-select list) as it doesn't work well with enums.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1604929 13f79535-47bb-0310-9956-ffa450edef68"
174fc2ebae766c1e8e6931afb2ccbf0709991af1,"Updated images for currently offered themes and removed default description if none provided (now kept blank).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1604986 13f79535-47bb-0310-9956-ffa450edef68"
52d78167aaddff5f7be187218f4b1ab6eda37cea,"ROL-1414 Fix email scrambler to detect hyphens in email addresses.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605001 13f79535-47bb-0310-9956-ffa450edef68"
d15ad68c907a0efa0851883898b3abd51f7ba17e,"Check for empty strings, not nulls, to allow empty fields for email/url.  See ROL-2002.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605017 13f79535-47bb-0310-9956-ffa450edef68"
5dcc66817d603f6cc35c862066df9bb616c0b9c0,"Additional fox for ROL-2002 to fix previous mistake, also make sure the authenticator is regenerated when an URL is entered.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605279 13f79535-47bb-0310-9956-ffa450edef68"
3da27f5959cb1b9e1a773679ac64c7b2b543e4bc,"Theme switching only on main page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605281 13f79535-47bb-0310-9956-ffa450edef68"
c2c100ad17e6fe7a1538dfdb43ddf01be618b6c0,"ROL-1994 Removed use of Commons Collections ReverseComparator() in favor of JDK Collections.reverseOrder(), upgrade to Lucene 4.9.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605652 13f79535-47bb-0310-9956-ffa450edef68"
40b76df672c9bbeb7318c19fb12c225e4300cbd2,"Additional fix for ROL-2002.  Allow url with no protocol, which will be updated accordingly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605684 13f79535-47bb-0310-9956-ffa450edef68"
da7494e4349674b31d0950e79b1f60d07a6f7d14,"ROL-2002, trim spaces for http://. 

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605688 13f79535-47bb-0310-9956-ffa450edef68"
f95a9e3fbbd7ce8004b03af27f52f99d3b286497,"Switched from brushedmetal to gaurav theme.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605943 13f79535-47bb-0310-9956-ffa450edef68"
22dbee7455adf51db872da042840df8a2393983a,"See ROL-2015.  Add theme description to create weblog page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1605974 13f79535-47bb-0310-9956-ffa450edef68"
55dddc8248ca7811ef64e26fc121974e5e5a5ffd,"Updates to Roller install guide in prep for 5.1.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606038 13f79535-47bb-0310-9956-ffa450edef68"
6d013e325e9c83dde8a50504a2f8975e63210f9d,"Updated desc for fauxcoly theme.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606198 13f79535-47bb-0310-9956-ffa450edef68"
2c9d34c5d50dcc7ba3bf5e9b239fecbc322895d8,"Removed dead/obsolete links in Sotto theme.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606236 13f79535-47bb-0310-9956-ffa450edef68"
1767de791a6cd216803910cefc9001b9e2eea44e,"ROL-2010 Update User's Guide to accommodate updated UI.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606269 13f79535-47bb-0310-9956-ffa450edef68"
ff61c593d4250d2d41b59a89e7573442ea047b8a,"ROL-2018 restore commenter notify-me-of-new-comments functionality.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606424 13f79535-47bb-0310-9956-ffa450edef68"
0b1095dbfafbfc018ceab9d55a0d5890761bc15c,"ROL-1995 Switch from Query to typesafe TypedQuery in our JPA* classes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606568 13f79535-47bb-0310-9956-ffa450edef68"
68caf12f2ad13818e59120e1cd022735a6b834a1,"Upgraded from JSP/Servlet 2.1/2.5 to 2.2/3.0 (i.e., Tomcat 7), switched to a less buggy link in LinkbackExtractorTest.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606608 13f79535-47bb-0310-9956-ffa450edef68"
3c773967c412d33107a246cdd02a46cde3e2cd42,"ROL-1977 Removed unused strings in default App Resources (about 20% were unused), foreign resources files still needed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606939 13f79535-47bb-0310-9956-ffa450edef68"
e691efe01da02f412ef834ac1cbc384f4ab10256,"Removed unused strings from German resource file, approx. 30% unused.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606951 13f79535-47bb-0310-9956-ffa450edef68"
46fded592aa667331642efe37b34d7738c093769,"Removed Vietnamese resource file due to its age, probable low demand and because it has fewer than 25% (440 still-used strings out of 1900) of the strings translated. It can be resurrected if someone wants to substantively complete it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1606971 13f79535-47bb-0310-9956-ffa450edef68"
8692b751dd88458797e30621ae22495382e9bf03,"Page model and email address from field removed from blog user settings page, unused strings removed from Japanese resource file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607137 13f79535-47bb-0310-9956-ffa450edef68"
e8184a31988539e9415a143b6a43eb6c580f10b1,"Switching to greater use of the generic strings to reduce the total number of strings that need translation.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607232 13f79535-47bb-0310-9956-ffa450edef68"
ecf20f7f617be51ae964f0f229fdc4cce85f13b2,"Removed unused strings from Spanish resource file (almost 40% unused today).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607241 13f79535-47bb-0310-9956-ffa450edef68"
a0405ca4b1299355755bafc47ef45c412dfb14db,"Clean up of French resource file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607327 13f79535-47bb-0310-9956-ffa450edef68"
6aeee7761784ad48e737d9044f6ac994c7d8f344,"More cleanup of language resource files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607400 13f79535-47bb-0310-9956-ffa450edef68"
823fb0ac49d8e214385381f6f062c7057ab13d81,"Removed unused strings from Russian resource file, retired Dutch file as it had only 25% of strings and was last updated in 2004, removed untranslated strings from Japanese file.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607715 13f79535-47bb-0310-9956-ffa450edef68"
d67ad2e0c609d56291d926bafdeac66b5f38048b,"Fix references to deleted string, replace with 'generic.edit'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607898 13f79535-47bb-0310-9956-ffa450edef68"
e1af7087e9f2667dd3db31e27914dcdadbebf8b6,"Update DOAP to reflect current release of Roller and release date.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1607900 13f79535-47bb-0310-9956-ffa450edef68"
2217cb9d907601c9e00f0c34b41cee97c202d137,"ROL-1977 cleaned up Chinese-simplified and Korean resource files, added Anil's scripts to a new docs/examples/i18n folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608022 13f79535-47bb-0310-9956-ffa450edef68"
075493413e6f2a0c1ff2ea58be29d323aa570158,"Removed Traditional Chinese (Taiwan) resource file, if one removed the 260 unused strings it would have only about 20-25% of current resource strings translated.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608024 13f79535-47bb-0310-9956-ffa450edef68"
57eda8d79b3be6c3777bc10edf08725086e2470f,"Removed Sotto theme as what it offered was already handled by Fauxcoly.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608031 13f79535-47bb-0310-9956-ffa450edef68"
0709b49353bf5c4ec10a643b320eda9774ec52f4,"Decided to restore Sotto at least until other themes get better firmed up, clicking no user name at top of window now takes you back to the main menu instead of the seldom-used edit user profile page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608140 13f79535-47bb-0310-9956-ffa450edef68"
3b43fee5343cccffc100c4a823e53c7aede54f86,"fixed some missing language keys

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608173 13f79535-47bb-0310-9956-ffa450edef68"
bb9b8f0ad4bce0384218b56f8971532c125c3c34,"Removed unused MediaFileHierarchicalView

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608186 13f79535-47bb-0310-9956-ffa450edef68"
f330d0ce1339f0e5448bcc293eb1db4139403f35,"Fix broken link to calendar.png

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608199 13f79535-47bb-0310-9956-ffa450edef68"
4f946ed828381b59544ac665480652afab1ee93d,"Fixed the dozen or so 404 errors in pages that use the JQuery UI calendar.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608217 13f79535-47bb-0310-9956-ffa450edef68"
ad301a216f7c66368734cfdecacea7d0ff06ae27,"Update to final YUI 2.8.0 release (r6) and add missing components needed by Tag Autocomplete feature.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608218 13f79535-47bb-0310-9956-ffa450edef68"
282bdbf6d293b3a99f6e6b487f7f665517d1c610,"Remove unneeded YUI dragdrop reference.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608219 13f79535-47bb-0310-9956-ffa450edef68"
1d8d19b67ff89b1d661459faecedbd9f0ff00326,"Uncomment and fix broken Tag Auto-complete feature.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608220 13f79535-47bb-0310-9956-ffa450edef68"
eb2d3f7f7fbe54a39b38e0494c2ef98f41366ac1,"Remove moble features from Basic theme, add new Basic Mobile theme with mobile features

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608222 13f79535-47bb-0310-9956-ffa450edef68"
abeb208299a17b3e051167a511fbe0cdb982b4c8,"Add new Basic Mobile theme.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608223 13f79535-47bb-0310-9956-ffa450edef68"
8d29e8d15cb987a6bdf1bad2725279dfafe6444e,"Fighting SVN to get the theme directory named correctly.


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608224 13f79535-47bb-0310-9956-ffa450edef68"
fe010c5c14b7a35c2fe752cc0879c51f11b90a06,"Removed Sotto (again) as other themes in better shape; switched Fauxcoly to YUI 3 (more YUI 3 upgrades forthcoming.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608280 13f79535-47bb-0310-9956-ffa450edef68"
e3b8c445ae8d3dc7d6063a6fe098f820bce91de1,"Simplified YUI2 config to make it easier to get rid of: unused menu & container-core itmes gone; fixed autocomplete.css link declaration (wasn't loading)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608320 13f79535-47bb-0310-9956-ffa450edef68"
6f266da0584298fd04ed0d04aa6747000186f609,"Oops, realized menu-min.js is needed for button-min.js

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608323 13f79535-47bb-0310-9956-ffa450edef68"
d867beab42f469c1b0043a11ec31ca307b9439b2,"Switched from YUI2 to YUI3 for adding/removing classes from DOM elements.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608514 13f79535-47bb-0310-9956-ffa450edef68"
e089a9fab355f5e6e92cce44f238e039f0dc7cb6,"Switched from package.html in resources folders to package-info.java in java folders

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608536 13f79535-47bb-0310-9956-ffa450edef68"
3fb38e7462416919facf3ae006fec4e299d7f50f,"Added blurb to install guide on how to add external themes, simplified our notices.txt file to make it applicable for Roller today, adding .ODT doc files to distribution ZIP/tar.gz files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608775 13f79535-47bb-0310-9956-ffa450edef68"
20d42109c1deebbb53dd3220cb622c9659f92a6e,"Renamed text editor to Plain HTML to better clarify its purpose.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1608891 13f79535-47bb-0310-9956-ffa450edef68"
e4167d2c1744e09926b0070fc65cd3a2d121b451,"ROL-1948 NPE check when roller.war never got expanded.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609108 13f79535-47bb-0310-9956-ffa450edef68"
502f13324763d3c419dbbd1f38d4e171302334bd,"ROL-1630 fix width for main menu to accomodate German; some unused lang resource tests removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609446 13f79535-47bb-0310-9956-ffa450edef68"
d1471905625b9f2defbeef7866c993978e10aa92,"Patch on ROL-1789 (don't show category dropdown if only one category present), and fix for ROL-1988 (searches for categories with a space in them weren't working.  Also, I removed the name of the category and locale from consideration when doing basic text searches, as well as the seldom needed dictionary.com definition search for search terms.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609483 13f79535-47bb-0310-9956-ffa450edef68"
23d79f865d7d18ca6431004e1045690f9aba8fb5,"ROL-2036 upgrade from JQuery 1.11 to 2.1.1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609560 13f79535-47bb-0310-9956-ffa450edef68"
5b113ef5dae2389efaea516176d3869e8be10187,"Updated the graphic for basic-preview to remove the mobile button.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609695 13f79535-47bb-0310-9956-ffa450edef68"
9d76c7090ffa427b51ed4ef7f0e0cf864eedec1e,"ROL-2019 switched tabs on stylesheet and template edit pages from YUI to YUI3; warning YUI3 requires lots of folders, I'm using the bare minimum of 53 (out of 370+) for what we are using.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609737 13f79535-47bb-0310-9956-ffa450edef68"
966090e43eb6e6f61457446c6239a1bc8b4984ce,"Updated autocomplete from YUI2 to YUI3.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609870 13f79535-47bb-0310-9956-ffa450edef68"
7986babbf833822bd05e27ad3fd0c70ef19f5e31,"Testing lines removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1609919 13f79535-47bb-0310-9956-ffa450edef68"
7164c0dc366f0f5e26472b1ca9498f2fd6491c9e,"Update LICENSE file, adding YUI and JQuery information.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610169 13f79535-47bb-0310-9956-ffa450edef68"
daf9f0a2dc81e66618aec940a8e3cc397a23f8e6,"Added Categories in gaurav theme

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610194 13f79535-47bb-0310-9956-ffa450edef68"
bd2b87e824b9e2c221d9c567f6ed57fb66bfc851,"ROL-2038 (WIP) Removed unused type attribute from theme.xml and associated DB table & POJOs.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610299 13f79535-47bb-0310-9956-ffa450edef68"
2eadd6d139de0f815a75365cb1277e8c82bcda07,"Changed tag text so appropriate even if reader has fewer than 30 tags.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610384 13f79535-47bb-0310-9956-ffa450edef68"
85fc7afcd424833a1934e8105ac7fc846803cc2d,"ROL-2038 (WIP) Removed unused roller_weblogtheme table and associated artifacts.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610402 13f79535-47bb-0310-9956-ffa450edef68"
03569410eb5fc1a276ead54b69a4dccee3daffa1,"ROL-2038 only dual themes have two tabs for mobile and standard, all others just standard.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610513 13f79535-47bb-0310-9956-ffa450edef68"
68a7ef79d2f4e78c2e68c85d1940e9b2fc9d4f25,"Fixed LinkbackExtractorTest problem

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1610981 13f79535-47bb-0310-9956-ffa450edef68"
3028dedf01b541e85d6fda918991942f953e0f5b,"ROL-2021, ROL-2022: Get tag cloud to appear again on fauxcoly and gaurav themes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611118 13f79535-47bb-0310-9956-ffa450edef68"
a0cb5fea2a3480012f36e0562ceabf1be6eb0b9f,"Added condition in case category in single. ROL-2022

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611128 13f79535-47bb-0310-9956-ffa450edef68"
714feefe098dd40a38fa9ca074d2b402de0703df,"ROL-2019 Switch from YUI2 to YUI3 for pop-up panels on entry edit and media file view screens.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611350 13f79535-47bb-0310-9956-ffa450edef68"
9e0aef0969ce8085d7161d6a93583c5a9859698a,"Pulled out unused parts of YUI2, including deprecated blog-from-this-image menu button on Media File View not available in YUI3 (use the Media Image picker on the Edit Entry page instead.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611372 13f79535-47bb-0310-9956-ffa450edef68"
e7ac54c39709072a2672e5d47b530cc35dfc8313,"ROL-2019 Moved styling over from YUI2 to YUI3 base, slight font changes in a few cases have occurred.  Last of YUI2 pulled out of Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611387 13f79535-47bb-0310-9956-ffa450edef68"
1efb8d4dd1a1bf436aa49097fb626c8986e196aa,"ROL-2039 rename roller_templatecode to custom_template_rendition.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611674 13f79535-47bb-0310-9956-ffa450edef68"
52c58981d62d68e2d224ea3c4d75cd42a10dfe75,"ROL-2039 rename roller_templatecode to custom_template_rendition.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611680 13f79535-47bb-0310-9956-ffa450edef68"
ce89b5f4d479db2365b42fbcc5e6ebb13a4bc0f5,"For some reason as part of upgrade to YUI3, need to add in width percentages for some fields on the entry add/edit pages.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611705 13f79535-47bb-0310-9956-ffa450edef68"
66f294c2a65aa3575d36bcc5452baef9723e516e,"Switched from mobile / standard constant strings to new RenditionType enum.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611764 13f79535-47bb-0310-9956-ffa450edef68"
7e664452a22768c91db1112f36e96583858bb588,"ROL-2039 Rename webpage to weblog_custom_template, remove template, template lang, and decorator from this table as well, remove content type from custom_template_rendition and modify the theme.xmls of the theme to have this value at the template level, not the rendition/template code one.  Note some formatting issues in the code, I'm using space-formatting while some of the older files are tab-formatted, I didn't want to reformat them as it would make my changes less clear.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1611984 13f79535-47bb-0310-9956-ffa450edef68"
72ea758d99b53f9e195831dfd2571c4933623a93,"ROL-2039 tested 5.0.4 to 5.1-SNAPSHOT upgrade on renamed tables, all look good.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612004 13f79535-47bb-0310-9956-ffa450edef68"
03813bc94236d218209ba6132f1a88d5af734408,"Switch from string to enums for theme scripting language; checked 5.0.4 -> 5.1 still works with it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612082 13f79535-47bb-0310-9956-ffa450edef68"
78e4bfeb0312654e8a9f71a649dc271c57a52321,"Fixed full blog entry on home page if summary not there ROL-2041

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612143 13f79535-47bb-0310-9956-ffa450edef68"
ce2af08ff6d1841002b3db16be151cad75a9472d,"Commented out several instances of drop-index that were dropping indexes that do not exist in all Roller databases and cause the migration script to fail. There does not seem to be a ""drop index if exists"" capability in MySQL.

Also added and commented out an additional drop-index call for a column that does exist in some Roller databases and will cause the bookmark folder migration to fail.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612158 13f79535-47bb-0310-9956-ffa450edef68"
d14ba3fb73e0b90a519a92258d32d16993d97ba0,"Commented out a comment. Doh!

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612160 13f79535-47bb-0310-9956-ffa450edef68"
96d27079fa29b3c568db4f0d61b81b9aac974759,"Fix for the MySQL table rename case, unsure if sp_rename is the right syntax for MS SQL Server.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612161 13f79535-47bb-0310-9956-ffa450edef68"
f63da6bdc38ca7dc8b788bce10b5fa2c15bae3ac,"Three blog entry plugins removed per discussion on dev ML.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612180 13f79535-47bb-0310-9956-ffa450edef68"
3a212473dd8e0434253c429786b13b23fb5d6587,"Removed no longer used base class of Wikipedia and Google Link plugins, it can be restored if we need it again in the future.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612183 13f79535-47bb-0310-9956-ffa450edef68"
0b1c02f82edaa3f565f71f8c466296825e3a13f2,"ROL-1554 increase width of user list boxes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612395 13f79535-47bb-0310-9956-ffa450edef68"
e5ff253c220cc7e21608d8d970e9b85de780cbd4,"Rename website table to weblog, folder table to bookmark_folder.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612451 13f79535-47bb-0310-9956-ffa450edef68"
4b71ea6451800c29e4c95fd080b118fbec62d979,"ROL-2030 Update from Xinha 0.95 (2008) to 0.96.1 (2010)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612622 13f79535-47bb-0310-9956-ffa450edef68"
df9a89d79e20ec2e5b9a5ad9010c2caa4fb90361,"Fixed some width issues that popped up as a result of the YUI upgrade.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612639 13f79535-47bb-0310-9956-ffa450edef68"
21e841ae0612e4fe12b4aec68a11221b4024ab0c,"Fixed problem with Atom feeds not rendering.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612677 13f79535-47bb-0310-9956-ffa450edef68"
2ef20b8375869bced5b799f1eee806c4c4d04170,"Retired weblog export functionality in favor of HTML export described on our team Wiki.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612733 13f79535-47bb-0310-9956-ffa450edef68"
42ae6b06feb41f96e5446265037bba74a5f81475,"Rename rolleruser to roller_user to make consistent with the other 'roller_ ...'-named tables.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612822 13f79535-47bb-0310-9956-ffa450edef68"
e702b6cbf5dbc7e1fd0be661ff1ba08ae38c5349,"Restored icons next to calendar fields.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612903 13f79535-47bb-0310-9956-ffa450edef68"
e3260550f5c27e92ef606490c3affe04aa65ef0f,"Removal of seven unused columns from WEBLOG table, renaming of two others.  Holding off on custom stylesheet column in weblog table for now.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1612987 13f79535-47bb-0310-9956-ffa450edef68"
2a24ff333f40ed62b59723b9b6ecfcb657c2bb35,"Unused code removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613165 13f79535-47bb-0310-9956-ffa450edef68"
576bae6729822f361ed143cb02f16d628a795bb8,"Changed code terminology from 'page' to 'template' and (in many cases) 'website' to 'weblog'

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613190 13f79535-47bb-0310-9956-ffa450edef68"
ed0998cca39b3655fffe79dda250e38797bbf60d,"Tested migration process.  Reactivated dropIndex commands (as they are needed if they exist and one is dropping a column), however process changed to  now ignores any index-doesn't-exist errors.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613234 13f79535-47bb-0310-9956-ffa450edef68"
91eb476de79c99ce439f4eb7df11840ddc12185f,"Actions now stored as Enums (ComponentType) within Java, new action STYLESHEET added.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613276 13f79535-47bb-0310-9956-ffa450edef68"
18c5cf5969b08106470e495793a2b36bfab46399,"Removal of customstylesheet column from weblog table.  Tested that it works during 5.0.x -> 5.1 upgrade.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613314 13f79535-47bb-0310-9956-ffa450edef68"
a7074463f50fa9013150a18fb625cfec6f89aecc,"ROL-2034 shut off password change functionality on Profile page if SSO (LDAP) is being used.  Reported by Juergen Weber.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613536 13f79535-47bb-0310-9956-ffa450edef68"
8d95ce7f8dfe4c63392b40ee581becf754b0147b,"(Tiny breach of data model freeze) foreign key constraint added to custom_template_rendition's templateid column, pointing back to the id value in weblog_custom_template.  Some code bugs popped up as a result (where we were deleting the parent before deleting the children), also fixed in this commit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613555 13f79535-47bb-0310-9956-ffa450edef68"
b1e2a1e44ad92ed218cda2f759ee1d198e5ea8f2,"Added new dropForeignKey() macro because foreign keys use different drop syntax than indexes, also comment out alter table statement that does not work on MySQL.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613650 13f79535-47bb-0310-9956-ffa450edef68"
7c4313d387d1e09c71306679ee12930f78cad5a3,"Removing the unneeded non-minified versions of the YUI3 javascript libraries to reduce the considerable Sonar complaints they generate.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1613746 13f79535-47bb-0310-9956-ffa450edef68"
86feabac029251eac0c1d07231a69333c5cae326,"ROL-2043 Switch from YUI3 to latest JQuery UI

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614035 13f79535-47bb-0310-9956-ffa450edef68"
7a1cd270e2985dafce137f47871f89416024fc0c,"Implemented site.allowUserWeblogCreation (how could we have missed that?)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614121 13f79535-47bb-0310-9956-ffa450edef68"
2d96e64346b600fcf8e0485cf79a23d39afa88bd,"ROL-2044 turn off ability for admin to remove himself from users page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614350 13f79535-47bb-0310-9956-ffa450edef68"
1c040872793946bad69c029efa027fadd8fd0b4b,"Default permission unless manually overridden upped from POST to ADMIN, cancel functionality for deleting blog entries now routing properly back to page where delete button was pressed, those with edit_draft permission can now select images for their blog articles (although still not allowed to create images.)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614415 13f79535-47bb-0310-9956-ffa450edef68"
782eb33859317e720c5df2cccde9e2f10e8d6025,"Standardized permissions: authors have full category modification rights but no blogroll maintenance rights.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614661 13f79535-47bb-0310-9956-ffa450edef68"
cbfec3df06dc92f09de3f23342cb0c87c9faedbf,"Added comments on how authentication works in Roller.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614727 13f79535-47bb-0310-9956-ffa450edef68"
22847f553ef0f96e6f0f9a0d55c53a5c0fe77041,"Removed unused/unimplemented email from address for user new account activation; switched to more readable constant for email address activation.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614740 13f79535-47bb-0310-9956-ffa450edef68"
a5958a2ea12ceebf03d0428db9be9caaf0ca1bac,"Update to HTML5 header.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614794 13f79535-47bb-0310-9956-ffa450edef68"
e3892eef32b8f1a6369007961ec031acc1b86111,"Removal of XFN tags, type attribute on scripts, style, and link stylesheets no longer needed w/HTML 5, added 'edge' compatability setting for IE.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614802 13f79535-47bb-0310-9956-ffa450edef68"
43f95655ee2772577a80ab0440b34b8abda1044b,"Fixed prob with theme preview (right-click w/open in new tab option wasn't working), human-readable property added to new template language and component type enums & used on theme pages, unnecessary requiredWeblogPermissionActions() overrides removed, unused ThemeEditSharedThemesOnly.jsp deleted, DB migration script updated to accommodate new user.account.email.activation roller_properties constant.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1614967 13f79535-47bb-0310-9956-ffa450edef68"
9fbc44a2b330039d37b6b7d648781220212ddc74,"Removed EntryRemoveViaList.jsp, its functionality now consolidated into EntryRemove.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615161 13f79535-47bb-0310-9956-ffa450edef68"
ed65e2bb8e5a2b76d3a84318ef181828f06851ab,"Switched auth methods to a single authentication.method flag & AuthMethod enum; tested with LDAP and regular DB; change works w/OpenID but OpenID itself needs fixing (problems unrelated to this commit).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615269 13f79535-47bb-0310-9956-ffa450edef68"
36b2da6c388f5852c0dc6be67c26f33cf7530bfa,"Removed 'copied templates to custom' message in cases where no template copying is occurring.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615318 13f79535-47bb-0310-9956-ffa450edef68"
7f30682662d83791827e560b7537de0b9f7ca05f,"Turned off ability of global admin to remove everyone from a blog, thereby preventing orphan blogs that no one can access.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615325 13f79535-47bb-0310-9956-ffa450edef68"
36a570c6ccb0f1a40107e2d2bcc43950aec16d67,"merged EntryEdit.jsp and EntryAdd.jsp, retired weblogentry.editor.showFullPermalink property as it's of limited utility.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615383 13f79535-47bb-0310-9956-ffa450edef68"
85210dbc5c8516c26c61c48614a18b015b053bc5,"Consolidated configuration in EntryRemove.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615384 13f79535-47bb-0310-9956-ffa450edef68"
281b46b9fb6cc346e78482c6043b43638717fde2,"ROL-2046 better clarify the scope of the theme preview option.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615402 13f79535-47bb-0310-9956-ffa450edef68"
acfecdfd200de353ce22768638437be8ac3a6726,"Merged editor-xinha.jsp into editor-text.jsp; updated s:url, switching from deprecated id attribute to var.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615415 13f79535-47bb-0310-9956-ffa450edef68"
4c0b90659c5c9a2dac3465cdf478f4b52480d172,"obsolete AcronymsPlugin removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615416 13f79535-47bb-0310-9956-ffa450edef68"
ec7b21086c8fdc8646cc56ee8cb58baf0f168457,"ROL-1739 add a unique constraint on (website, tagname) to trap a potential error in the code.  Only done for new databases created by createdb.vm; not for old databases upgrading via the migration script.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615466 13f79535-47bb-0310-9956-ffa450edef68"
382a7cac814ae9a00cb8c67149863be94d69171c,"Removed users.sso.passwords.save option; renamed some properties from *.sso.* to *.ldap.*

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615472 13f79535-47bb-0310-9956-ffa450edef68"
c6ac8cd5b408882ae605c4704a5195dd22fd2ea7,"Consolidation of EntryAdd into EntryEdit, more informative messaging provided on blog entry publishing and deleting.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615747 13f79535-47bb-0310-9956-ffa450edef68"
b28f6e76e36b008d4172505118f0b73b13d51e8f,"EntryEdit and EntryRemove now subclassing UIAction instead of EntryBase, which has been removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615852 13f79535-47bb-0310-9956-ffa450edef68"
7fdd41c0de20f6cac175e01a85e01de3ca5c0673,"Switch from tabs to spaces in EntryRemove.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1615853 13f79535-47bb-0310-9956-ffa450edef68"
975320f28c797cde7f46159ccefba97b0dba0c37,"Consolidated BookmarkAdd into BookmarkEdit.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616263 13f79535-47bb-0310-9956-ffa450edef68"
c9474d64113a4f33d0ba881f4e819ac9f8040874,"Removed roller_userattribute table from Roller data model; replaced with openid_url column in Roller_user table.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616370 13f79535-47bb-0310-9956-ffa450edef68"
97e9961db943b7e339af9582a09a648191e48959,"JQueryUI accordion widget added to EntryEdit page, holding content and summary textareas.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616398 13f79535-47bb-0310-9956-ffa450edef68"
d4d49d3135423a460ab2e101d11b8e58fc69094e,"Consolidation of FolderAdd and FolderEdit

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616533 13f79535-47bb-0310-9956-ffa450edef68"
f92da2ee69ff559e47f7c269f870b04be90b85d8,"Updated Spring and Eclipselink versions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616535 13f79535-47bb-0310-9956-ffa450edef68"
8c6c8e9f6d643e15f0154c5e845f2b0b6e0478a3,"Switch to using JPA to handle relationships between WeblogTemplates and CustomTemplateRenditions.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616650 13f79535-47bb-0310-9956-ffa450edef68"
bc538d017b6ddbde62455e7925c106ce6831d228,"Removed temporary WeblogTemplate accessors from TemplateRendition, as it's not relevant for implementing class SharedThemeTemplateRendition.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616651 13f79535-47bb-0310-9956-ffa450edef68"
f1822dbc1d27c58d4d1e988494a4091878be2f61,"Minor cleanup while testing OpenID

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616900 13f79535-47bb-0310-9956-ffa450edef68"
a37d391344678d2d6d64c8c7da1841fe20f619df,"Added a logging comment when the returned openid url is not the one saved in the Roller DB.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616917 13f79535-47bb-0310-9956-ffa450edef68"
7becc49657456bc722fa4d4bab31e1f14ea51862,"Consolidation of CategoryAdd and CategoryEdit, various other GUI cleanup.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616937 13f79535-47bb-0310-9956-ffa450edef68"
a4252c6f956e082b7c94478d0696d4d9825c7b4d,"Reduced comment days options to 3,7,14,30,60,90 & unlimited.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616941 13f79535-47bb-0310-9956-ffa450edef68"
74f9318d8cb8739b3f6b9f0a5683cc07592fe5e9,"CommonPingTargetAdd.jsp and CommonPingTargetEdit.jsp consolidated into PingTargetEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616975 13f79535-47bb-0310-9956-ffa450edef68"
c1aaa90881bfa5a9ae4280c4d883eab28ee74e0b,"CommonPingTargetAdd and PingTargetAddBase merged into PingTargetAdd

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616985 13f79535-47bb-0310-9956-ffa450edef68"
d1f1a488969831d283fd33ba066d61fcbd554d28,"CommonPingTargetEdit and PingTargetEditBase merged into PingTargetEdit

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616995 13f79535-47bb-0310-9956-ffa450edef68"
c9272546c9236621fa2c8c7038d5d31d4d34b277,"CommonPingTargets and PingTargetsBase merged into PingTargets

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1616999 13f79535-47bb-0310-9956-ffa450edef68"
e0dc3109f468862e7b1ce47771125060a735a075,"Consolidated PingTargetAdd and PingTargetEdit into the latter.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617014 13f79535-47bb-0310-9956-ffa450edef68"
caf172dd701e8571c5ebcd9bbd5bd879b685088d,"Cleanup of ping target remove screen.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617017 13f79535-47bb-0310-9956-ffa450edef68"
b653162bbde62a283224063621518bdc25470c9f,"Created tags:help JSP tag to output question mark and tooltip definitions for hard-to-understand fields.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617161 13f79535-47bb-0310-9956-ffa450edef68"
e8011cab9a29a017fe07d9df7407805593ffa884,"Clarified utility of KeyValueObject class.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617192 13f79535-47bb-0310-9956-ffa450edef68"
a4b758835e2c57e7f4d3be604ce553024cc30584,"Merged CreateUser.jsp and ModifyUser.jsp into UserEdit.jsp.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617271 13f79535-47bb-0310-9956-ffa450edef68"
95e2130dfe8f560c474d83d48a11b7fd83a2727a,"ModifyUser and CreateUser consolidated into UserEdit, restoring page title on JSPs that were missing them.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617352 13f79535-47bb-0310-9956-ffa450edef68"
6d2438e75f930a25d8bbd71635b88c7990f667cb,"More validation added in for OpenID auth; redundant validation files removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617400 13f79535-47bb-0310-9956-ffa450edef68"
0b6897f4ac281edda3c84e4b519ccc4b991d35ae,"In themes.xml, switch element from templatecode to rendition, type element formerly under templatecode is now an attribute and defaults to 'standard' so needs to appear only for dual theme e.g. basic-mobile; added more logging during the theme-loading-from-file-system process.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617521 13f79535-47bb-0310-9956-ffa450edef68"
392290e8d7a7a77b5df5c90ea025dd2f83bd8a17,"Fix component type of custom stylesheets.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617538 13f79535-47bb-0310-9956-ffa450edef68"
9ffda3c031991ad617da43e7a4a6b2d607612bdf,"Removed unneeded empty link elements from theme.xml files.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1617549 13f79535-47bb-0310-9956-ffa450edef68"
b28439c2c830f66b2a1065ff0f3e553abe2bdd88,"Added ability to add non-image media files from Entry Edit screen; creating blog entries from Media File Add success operative again.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618065 13f79535-47bb-0310-9956-ffa450edef68"
ddacb45f14ea4e0b01388c811b96bfb810b47b7b,"Added in better validation checks for LDAP, DB-OpenID, OpenID auth options.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618305 13f79535-47bb-0310-9956-ffa450edef68"
a235765374f034628387c41de9b9ec8375590f41,"Moved yui3 CSS grids library to only theme using it.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618353 13f79535-47bb-0310-9956-ffa450edef68"
e3584a8467d4494e8a1fb45035cc12422552beb8,"Updated instructions on how to post podcasts.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618357 13f79535-47bb-0310-9956-ffa450edef68"
14e9c83c97a3353d8f93df59c7f758453e55acc0,"Added more instructions on how to use non-Roller DB auth mechanisms - in Section 6.1 of install guide and in roller.properties.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618360 13f79535-47bb-0310-9956-ffa450edef68"
5d226351c61c3dce2abf23833b2934a293234df4,"Add note about drop index call that may fail on some systems when DB schema upgrade is done manually.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618390 13f79535-47bb-0310-9956-ffa450edef68"
c23c2f79f3533576f0464400beb5b21c11c22ffa,"Fixed bugs (sorry) -- (1)  was putting blog tagline into meta description field for blog homepages instead of the blog about text; (2) permalink pages of themes were missing the (Google) analytics tracking keys, (3) removed model.weblog.description calls in the themes and replaced with model.weblog.about or model.weblog.tagline depending on which was actually needed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1618424 13f79535-47bb-0310-9956-ffa450edef68"
55e5d8e0c44f3c3a0c83808a54c2fe9fad650b7e,"Upgrade to Spring Security 3.2.5, removed unneeded jquery reference in basic theme, unused png's removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619020 13f79535-47bb-0310-9956-ffa450edef68"
b0d95ae82c354d8befebae0401b623c79608b9e1,"Problem with overescaping in Search fields fixed; unused resource strings removed.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619110 13f79535-47bb-0310-9956-ffa450edef68"
9eef12570c28c551f8f4395e61406286ca773ac2,"Shrunk gaurav preview image down to size of other theme images, added theme description for when choosing a custom template.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619148 13f79535-47bb-0310-9956-ffa450edef68"
425128ba105e07af0cfeab083f40163f21a422d3,"Updated initial maxFileSize and maxDirSize for each blog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619156 13f79535-47bb-0310-9956-ffa450edef68"
f7991eb904b8d950014ea73fbda2efbaaa1c1892,"Updated pom versions to 5.1.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619164 13f79535-47bb-0310-9956-ffa450edef68"
e363ca54f0877d8691388eb1534c2c74df3063a1,"Added utility for signing files, until we've updated our POM to handle this.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619195 13f79535-47bb-0310-9956-ffa450edef68"
3990ce952445fb0111b1bdd46711ef5d6f1e554f,"Fixed the enclosure URL string, removed the incubating references on the Atom page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619231 13f79535-47bb-0310-9956-ffa450edef68"
dd205924bcd2b61e02633861bdf156cf93fb0dee,"Minor changes for release.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619327 13f79535-47bb-0310-9956-ffa450edef68"
706e9e63a09adafd0300498f8b8c250fb1f5410f,"Updated section 10.2 to recommend statement-by-statement running of the migration script or removal of unneeded drop index commands, if a manual run is indeed desired by the upgrading DBA.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619558 13f79535-47bb-0310-9956-ffa450edef68"
0bef99224cd0baa9fe3920a947d38a378806b92c,"Restored default plugins for each blog, starting RC3 soon...

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1619562 13f79535-47bb-0310-9956-ffa450edef68"
55e5201e34686df91464b8eb15dc1411c3641f89,"Update to 5.1.1-SNAPSHOT, simplifications to roller.css and ThemeEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1620386 13f79535-47bb-0310-9956-ffa450edef68"
891bf6832d633ecc9afdafbf837abf3623e998d0,"Simplifications to ThemeEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1620669 13f79535-47bb-0310-9956-ffa450edef68"
eae26b8a9bdd38246ea76247fbafadc08dbf8a8e,"PreviewThemeImageServlet and ThemeDescriptionServlet replaced with new ThemeDataServlet.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1621331 13f79535-47bb-0310-9956-ffa450edef68"
dd71de597da814e34ee3a2510ba635fdae562162,"Using angular.js now on ThemeEdit page.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1621394 13f79535-47bb-0310-9956-ffa450edef68"
5526498d3ef730f08fa9710ffe76174940d7549c,"Restored import shared theme into custom template checkbox option, now that I realize its purpose.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1621546 13f79535-47bb-0310-9956-ffa450edef68"
6af1c172957f948f6e66680db2cdf5c63ddbf5eb,"Removed unused code in template & stylesheetedit.jsp; Theme and Design tabs now default to the templates page if the weblog is using a custom theme.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1621549 13f79535-47bb-0310-9956-ffa450edef68"
90ef74b17840228e8c5c608cd513e414152c0005,"Merged StylesheetEditError.jsp into StylesheetEdit.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1621634 13f79535-47bb-0310-9956-ffa450edef68"
fac6e8e37e3b75190f6bfb7a269482f39ad28455,"ROL-2051 revert to standard rendition where mobile not defined.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1622082 13f79535-47bb-0310-9956-ffa450edef68"
9c190ce99d6d4cb6c2ce9d021dd595fed35370ec,"Alternate device type resolution for mobile themes

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1622172 13f79535-47bb-0310-9956-ffa450edef68"
12960de90caf9aa21b954a25dda5cbadf672cbc0,"ROL-2052 fix for custom stylesheets not getting updated correctly when user switches between shared and custom themes.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1622537 13f79535-47bb-0310-9956-ffa450edef68"
1554906269b2b92d66c5122d0aa478b342d2d75f,"Switch to angular.js on CreateWeblog.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1622601 13f79535-47bb-0310-9956-ffa450edef68"
df6736613a61b2a87ac42aacbb7af044a66aff86,"drop unused usercookie table.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1622829 13f79535-47bb-0310-9956-ffa450edef68"
ab1b03487b7c8160f67da7b13a9c0fb3d05dbd9b,"Add use of spring mobile code to roller license agreements.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1623307 13f79535-47bb-0310-9956-ffa450edef68"
75e290edeebc70f7f5fd0fd634bc63c8f125f56b,"ROL-2054 Newly saved categories not appearing on blog.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1623597 13f79535-47bb-0310-9956-ffa450edef68"
a1a4566f5b25cb119e2b8f898a94ffd11e9e0130,"fix for ROL-1620 plus signs in categories names result in 404 feeds.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1623609 13f79535-47bb-0310-9956-ffa450edef68"
992f0f540d51d6318d72a954d8ed4ca0e814b5cc,"Position newly created categories properly (at the end)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1624080 13f79535-47bb-0310-9956-ffa450edef68"
f6caf6db280ae4d0e1c0c1ca1cd570f69167bd01,"ROL-1387 count tags only from published blog entries towards tag aggregate counts (to keep tag clouds accurate with viewable blog entries)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1625869 13f79535-47bb-0310-9956-ffa450edef68"
3992a1fe1cd2d9ff7e3a15bb89635a63b4aadadd,"Restoring day permalink macro text, as it's being used in some themes in Roller-extras; unfortunate unicode switch from lower to upper case chars to accommodate IntelliJ.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1627363 13f79535-47bb-0310-9956-ffa450edef68"
feaf9322cdcc32688a44b7dc0c0ff12c26f81620,"Updated libraries in prep for 5.1.1, comment search now case-insensitive and no longer including URLs, comment and global comment sidebar JSP's consolidated.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1627429 13f79535-47bb-0310-9956-ffa450edef68"
ddf42145241ac864769e58fa908399f3fd6e906a,"GlobalCommentManagement.jsp merged into Comments.jsp

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1627448 13f79535-47bb-0310-9956-ffa450edef68"
4eec17d95ad610d33353c0cc5af921140ad64546,"Update release version to 5.1.1

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1627652 13f79535-47bb-0310-9956-ffa450edef68"
05ac35f399ce0df88cb81a4c251d2822ab6042c6,"ROL-2051 fall back to standard rendition when others requested and unavailable -- fixing this time for custom themes, did earlier for shared.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1627875 13f79535-47bb-0310-9956-ffa450edef68"
e9a1afe3e378b2e2aae01352a4a34960a8af4c6d,"Update Roller to 5.1.2-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1628883 13f79535-47bb-0310-9956-ffa450edef68"
1053f5cd572b79e7e996e780b59e66bbe975b43e,"Error handling improvements, and adding missing ASL header.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1642165 13f79535-47bb-0310-9956-ffa450edef68"
b49c3cdb5f5bdd1f90f17e2a0116bd69c8d1a5cb,"Restoring media title truncation at 47 characters to avoid having picture title overflow into adjacent cells of the media grid. Looks good on Firefox, Chome and Safari.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1642435 13f79535-47bb-0310-9956-ffa450edef68"
700fb394c7a3774059918f34e3b58dc7ac9b0299,"Fix broken CSS.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1642542 13f79535-47bb-0310-9956-ffa450edef68"
ddd41936f1c5529197d69fa146a0280970aa9117,"Update README.txt

Couple of notes about my fork of Roller."
76d87c2835275616bcad3fffc339b9042723923a,Better notes about the fork.
1cbd3dc6f1d828b1720ab357daf3342e4657aead,"Remove duplicate text, fix links."
d7eaa93ddc38625e7860b87ce899c3d5d783eb77,Remove unnecessary text.
61cf7e3ef942300556525d00e627d5f1d3383b80,title Rollarcus
0364bc9da215e5b7af172e0956fb98a8b604a1bc,"Update README.md

more details"
8f9d134249864f6aabb07cdc685c5f09eb5173d2,Update README.md
496a37d0e5e9b9dfbc3d403ccac52b03ca4b4873,"ROL-2056 fix some broken cross-references in install guide.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1649451 13f79535-47bb-0310-9956-ffa450edef68"
c3eefb87db8a13880d8bd0138518501488e714e9,"ROL-2057 add NPE check, patch from Kohei Nozaki

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1649453 13f79535-47bb-0310-9956-ffa450edef68"
eb02d7ba4ae5643e58d425af317ac102f9c3bba7,"Dependencies updated to the latest except for Struts, which is incurring some JSP compilation error over the style attribute within Struts tags when trying to upgrade from Struts 2.3.16 to 2.3.20.  mvn jetty:run is working again (run from the app folder as usual).

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1649983 13f79535-47bb-0310-9956-ffa450edef68"
2ce983010c49b0ae658d32595200c24212e1aeab,"Make sure local unit tests work.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1651622 13f79535-47bb-0310-9956-ffa450edef68"
c52e8a5193c4a3592c73817d0f19a628ee90bcde,"ORM field not found on MediaFile isSharedForGallery.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1651639 13f79535-47bb-0310-9956-ffa450edef68"
9bfcc8e1c5ad2ad412e8ae54042e49d9fae9b941,"Build fail debugging

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1651689 13f79535-47bb-0310-9956-ffa450edef68"
a9a6fdaf0c871b76d046403bce4eae005132c870,"Build fail debugging

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1651697 13f79535-47bb-0310-9956-ffa450edef68"
761b501951e6b1b5f3ca41013592a7fb4e02c260,"Build fail debugging reset.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1651712 13f79535-47bb-0310-9956-ffa450edef68"
cba644ec60a978a06e0694e18305ba81bd1bfc5a,"Use Velocity secure uberinspector

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1658177 13f79535-47bb-0310-9956-ffa450edef68"
81d25b342dc6a8f04cbd3f2cae8276f05abb4808,"Comment preview fix in Gaurav theme from Kohei Nozaki (ROL-2059)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1658181 13f79535-47bb-0310-9956-ffa450edef68"
ce51cc249a1194c9cf375d6f2ebe0381d2ae2500,"Fix for missing custom.css via Kohei Nozaki (ROL-2060)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1658182 13f79535-47bb-0310-9956-ffa450edef68"
f7a7841865fa6fed6b66db1de0a66f4697878040,"Fix for wrong next month link of Calendar via Kohei Nozaki (ROL-2061)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1658183 13f79535-47bb-0310-9956-ffa450edef68"
86074adce71b5a039aadb460b51f3f1b37b1e337,"Null pointer check for pubTime field in indexer via Kohei Nozaki (ROL-2062)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1658184 13f79535-47bb-0310-9956-ffa450edef68"
9fc3fabbadf3458ddf9f098259190882e5e20b09,"ROL-2058 no salt renewal on request

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663125 13f79535-47bb-0310-9956-ffa450edef68"
31ebddedb1f7f2d288c5851ce5277a2532396a90,"Fix for ROL-2066 Commentors can't leave a comment using URL begins with https:// in Gaurav theme

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663142 13f79535-47bb-0310-9956-ffa450edef68"
5238b10122e6bcc42ce5f63dac9cb56bd702c63d,"ROL-2064 improvement: setting viewport to Gaurav theme

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663143 13f79535-47bb-0310-9956-ffa450edef68"
24af82bf0ab7dce9ba4fa2b814a46774dd3c25ac,"ROL-2065 fix for Gaurav renders the summary of an entry as unresolved .summary while no summary in the entry

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663144 13f79535-47bb-0310-9956-ffa450edef68"
d8e87e8a0cd5c4cca47b3a5136e87638d3502646,"For for ROL-2063 NextLink appears in latest entry of permalink (using alternative patch provided by Kohei

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663146 13f79535-47bb-0310-9956-ffa450edef68"
1b6cf8b2234b279d2f6bfe121693161c15d3e501,"Preparing for 5.1.2 release

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1663148 13f79535-47bb-0310-9956-ffa450edef68"
4d21faf095b402f7a5c197ca6592c3bf23b70273,"preparing for 5.1.2 rc1

git-svn-id: https://svn.apache.org/repos/asf/roller/tags/roller_5.1.2-rc1@1663150 13f79535-47bb-0310-9956-ffa450edef68"
2243d69254a27d36b3b1452562b2065d45908c77,"ROL-2068 Error setting expression 'salt' with value ['...', ] in struts.devMode=true

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1674723 13f79535-47bb-0310-9956-ffa450edef68"
e19c559548ba21c358b54187a685278bfa76e71b,"ROL-2072 Japanese ApplicationResources doesn't appear for some browsers

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1677132 13f79535-47bb-0310-9956-ffa450edef68"
14a5c4311e6b8446b54cedb76135794c29b27918,"ROL-2074 Locale specific message doesn't appear to fragments that produced by CommentAuthenticators

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1677139 13f79535-47bb-0310-9956-ffa450edef68"
c5065a89b5f0a26f9ff406d6a58a7cf2c6020b6b,"ROL-2080 ""Add Ping Target"" message in the commonPingTargets page doesn't appear as i18n message


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1677169 13f79535-47bb-0310-9956-ffa450edef68"
869f4d829c783d3e26ded6b631b9a86acce20c19,"ROL-1377 MathCommentAuthenticator should use Weblog's locale

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680255 13f79535-47bb-0310-9956-ffa450edef68"
ba3cd07f56585da06d943ccf2f2058256ac3870b,"ROL-2078 Hard to determinate the cause of mail provider setting error due to no stacktrace are logged

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680260 13f79535-47bb-0310-9956-ffa450edef68"
5a2cc3015bb0041be30c8ea2641945c991c8e620,"ROL-2077 Message ""Manage comments for entry titled null"" is shown after deleting a comment from comment editing page of a specific entry


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680261 13f79535-47bb-0310-9956-ffa450edef68"
74abc0ca6912532c42fd4700a5ba9fc12553b790,"ROL-2075 InitFilter#getAbsoluteUrl() returns wrong URL which got last character removed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680265 13f79535-47bb-0310-9956-ffa450edef68"
65cc050f5a0afd1738d1731dbbf5f482a42192aa,"ROL-2081 Posted time in comment management page strangely printed milliseconds

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680267 13f79535-47bb-0310-9956-ffa450edef68"
048dd04f65b0538f850b9543c31253ff20f0e74f,"ROL-2073 Move hard-coded date / timestamp formatting to ApplicationResources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680272 13f79535-47bb-0310-9956-ffa450edef68"
13a6822cc940d1a1524f6a02aa8cbdc64a0660d4,"ROL-2070 Update Japanese ApplicationResources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680275 13f79535-47bb-0310-9956-ffa450edef68"
f6f31664eec9b7e6907afd5c5e1c104a7092a9b9,"ROL-2076 Links based on date wrongly produced on multi-timezone environment

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680521 13f79535-47bb-0310-9956-ffa450edef68"
e5faa1e7cb9ab4fe6128a6de07f08da4355b339b,"ROL-2063 NextLink appears in latest entry of permalink, Update Roller to 5.2.0-SNAPSHOT

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680531 13f79535-47bb-0310-9956-ffa450edef68"
96163317a07c14fdf3be76dc63d6f96f4ac75325,"Small update to Japanese ApplicationResources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1680539 13f79535-47bb-0310-9956-ffa450edef68"
360599d94fd0fe169235d56f4a4d2d01d4d1bea7,"Small update to Japanese ApplicationResources

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1681563 13f79535-47bb-0310-9956-ffa450edef68"
31075b9bd8bc316e17bdea6386bf62e1b97a4a80,"Removed mvn jetty:run replacement I temporarily used for local testing, if anyone still wants please restore.

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1696248 13f79535-47bb-0310-9956-ffa450edef68"
5b1d890bc63b90413bad02bdcabd0fa0af427c8a,"Update version number in roller-jettyrun.properties

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1704447 13f79535-47bb-0310-9956-ffa450edef68"
46e9b25523ded494b9644f8761472cc42b402845,"Fix Selenium test

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1704450 13f79535-47bb-0310-9956-ffa450edef68"
e92041a4f6162539f901dea7bc538de787549776,"Add description for JavaMail to NOTICE.txt

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1704453 13f79535-47bb-0310-9956-ffa450edef68"
a016635d334f2901b2fe9e1c0b6324dc81cf6bc6,"Remove the text ""for Selenium testcase"" because Roller uses JavaMail for compilation, not only Selenium test


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1704454 13f79535-47bb-0310-9956-ffa450edef68"
70f35a17a2392aec39db0244e18c7f6838c4d1c1,"Release weblogger instance which has been used during initialization (it brings ThreadLocal leak)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1708079 13f79535-47bb-0310-9956-ffa450edef68"
8afeb149a7f59cdbdd48afacd43293a90721ebfc,"Fix shutdown procedure of ContinuousWorkerThread (it won't stop if interrupt() has been invoked during the thread is running)


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1708081 13f79535-47bb-0310-9956-ffa450edef68"
6b73d0557c77661c3379a35144320506d0312933,"Improve database release/shutdown procedures to reduce occasional Exceptions such as ""IllegalStateException: Illegal access:...""


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1708083 13f79535-47bb-0310-9956-ffa450edef68"
15214dc1ba8a8dea289e161c6ef84da604417436,"Make database releasing procedure more safer


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1708085 13f79535-47bb-0310-9956-ffa450edef68"
d3ffb0633096584d85f86bf485a3668ffcb6c06a,Merge branch 'trunk' of https://github.com/apache/roller into trunk
00bfff906f736c8f502364ca3200ca9cb09b6e73,Merge branch 'trunk' of https://github.com/snoopdave/rollarcus into trunk
3a3c969080e39b37d47f17c045cd2797bbc71851,"Fix shutdown procedure of ThreadManagerImpl and TaskScheduler (it won't stop if interrupt() has been invoked during the thread is running)


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1714407 13f79535-47bb-0310-9956-ffa450edef68"
f6e3764e7fd1d311da6af98e982a9ac002152d3b,Merge branch 'trunk' of https://github.com/apache/roller into trunk
35c2b8de4654242aa77e875c455cae896987cd80,Did not mean to commit this.
624ad3b21f1824bbc01bbfa2423e86fe2ca62f44,Texan will fail if these directories are not present.
66d8b225d00c812bdcdd55b4fe22a0bd49206440,"ROL-2083 Upgrade Guice to 4.0

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720876 13f79535-47bb-0310-9956-ffa450edef68"
38e9c3f029b4d053dc7e852c47f4d6eb081166d5,"ROL-2086 Build fails for source code that obtained from GitHub

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720877 13f79535-47bb-0310-9956-ffa450edef68"
50a709aa9c0859fcdd0d528d8ab4b811e708bd04,"ROL-2091 Adding CDN contents to distribution for users inside firewall

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720880 13f79535-47bb-0310-9956-ffa450edef68"
571d8a8e8d870664d7ca49555b2451a7f38f8c87,"ROL-2097 Angular based pages make browser to send unnecessary GET requests

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720881 13f79535-47bb-0310-9956-ffa450edef68"
97c5cab4a9a2311a173356af7b015db9a5bf3e7c,"ROL-2087 ""macro.weblog.searchgoogle"" in translated ApplicationResources produces wrong Google URL


git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720882 13f79535-47bb-0310-9956-ffa450edef68"
138fc823abc9894ed3bcfb01b389d50648fb1080,"Fix wrongly translated message which said something like ""Search index rebuilding is done"", not scheduled

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1720989 13f79535-47bb-0310-9956-ffa450edef68"
2da6c3c2e28419f68244e0c362c15be96013d5f9,"Beginnings of a Bootstrap rewrite of the Roller editor/admin UI, using Struts-Bootstrap plugin.
The main menu and edit weblog page are essentially complete."
bf13e4f31aa21c76dd1c5e2c0e8aa67891a1da50,More progress: the Entries page is essentially complete.
e7dd3b5c40f251134f83872e7e6526317a391f24,"Fix wrongly translated message which said ""Database tables have been upgraded"", not upgrade needed

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1721476 13f79535-47bb-0310-9956-ffa450edef68"
f73f35ad87abd81316d8b3f6104f43e45492d29e,Ready updates
f515dea03b144573b15b7cd8e477dbf5767ae6de,Update readme to mention the bootstrap-ui branch.
a5ec43bea47baf3fe4f179644f1b0ca83ec3ed45,Comment management page done.
700682ac120db830925b1ba09fa62e0b2c6cf9f9,Progress on categories page.
8925b1401d814e2a7e1d9a625eca1d08f0ceff72,"Merge branch 'trunk' into bootstrap-ui

Conflicts:
	README.md"
53ae365cdd80a8248c215b4f26f4fcda9e9ec217,Also need hsqldb for texen.
5bd3c5329dfb3293c375c05f41096bbf00508e53,"Categories page is complete with add, edit and delete category in place."
8042fd7ba439e55ace25e1f3175b2233f177ff40,clean-up no longer used code
c5e84753c768e6e79336f2989900e8798d11b677,"Fix: ""javax.servlet.ServletException: File [/WEB-INF/jsps/core/Login-css.jsp] not found"""
845faf2b0ea5ceaf782f5c02680f2623331d2d23,"Fix: Buttons in the menu page (such as New Entry, Entries and so on) doesn't work."
a3763486e7bf77e45f37dd8b3c2367967f58401c,Prevent annoying scrolling in EntryEdit page
122eac419b3d3a7a33e70083eaeb305893a10fea,Apply style to buttons in EditPage
95c6a4c7aceab6a5942456e130bea52f942e88ed,Prevent 404 not found at getting domTT.js and domTT.css
80765a0d64bdc70b9d5bee17ff31919e03cc79f9,"Merge pull request #1 from lbtc-xxx/fix_login_css_jsp_not_found

Fix: ""javax.servlet.ServletException: File [/WEB-INF/jsps/core/Login-

Thanks Kohei!"
a0254031a4cd5d68a9a75554ecbb9cb27073d5f1,"Merge pull request #4 from lbtc-xxx/apply_style_to_buttons_in_editpage

Apply style to buttons in EditPage

Nice! Thanks Kohei."
8a3e3fc63901b1e8a7bd0e0c144404cc4f843e12,"Merge pull request #5 from lbtc-xxx/prevent_404_for_domTT

Prevent 404 not found at getting domTT.js and domTT.css

Thanks Kohei!"
c206a6916e89424375c1289143e014b1228bd75b,"Merge pull request #3 from lbtc-xxx/prevent_annoying_scrolling_in_editpage

Prevent annoying scrolling in EntryEdit page

Thanks!"
127d337091f9d599178a2aec1057053dbdab1c0d,"Merge pull request #2 from lbtc-xxx/make_buttons_in_menu_work

Fix: Buttons in the menu page (such as New Entry, Entries and so on) 

Thanks!"
fc356f513378dec662352b36423dcf39ff26e257,"ROL-1760 Scheduled tasks do not run on Oracle (or other DBs with high precision timestamps)

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1723976 13f79535-47bb-0310-9956-ffa450edef68"
604dba39216ad2803723e8718643112f0aa7cdb5,Small progress on Bookmarks (aka Blogroll) page conversion to Bootstrap.
161cb9981f548cd7addf4bc820030e2c606ea64d,"ROL-2084 Unnecessary escaping of HTML symbols happen on plain text email notification

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1726464 13f79535-47bb-0310-9956-ffa450edef68"
a313adac8a1e961af634c378ae151a47f3b3ddc7,"ROL-2102 RSS Feed related tests fail

git-svn-id: https://svn.apache.org/repos/asf/roller/trunk@1726467 13f79535-47bb-0310-9956-ffa450edef68"
81168587872c2f34a0ae8a6ce79ad069ff1b15a7,"Weekend's worth of work towards converting the Bookmarks page to Bootstrap, almost done."
0f5c86913c1e509872cd30c24575f3a29a52e32a,Add new blogroll implemented
f76eb9d9f55501679b1b39e56545652bf716a51f,progress towards modal confirmation dialogs on bookmarks page.
8553cb5555474af199bd69b7036f28fa4f0ae655,"When new blogroll created, switch to it."
dec85591ee84f620e9c31d5c2606188879f84989,Blogroll rename implemented
3d5d89ba51c9ba147a2dfb9cb863ba8b61be6171,Edit existing bookmark now works
a3f685b2289214a5b82e03a5476d0c67bc0b281f,Fix bad alignment of buttons below blogroll table on Safari
3f996b3778d94c44bb7224cb86f2db8aa5564609,upgrade webjars which improved handling of invalid URLs (changes: http://github.com/webjars/webjars-servlet-2.x/pull/12)
11f322d5c5261edd936a44d32488533d1906ca4d,This closes #4
0e234019f24c9332e84be9c87f1e77b57f1d8ce9,test commit
31e80223f8c2282463c1c101d1727dec76520af2,Another test commit & push
8da2fc0b26a07220046e385fe63081a594b8cd98,"Converted ""My Profile"" page to Bootstrap with some JavaScript form validation. Also removed some no longer used pages."
04a101d1e28d5dcb8f44f8bf04002b1e6ce8cbf6,Link to screenshots on Flickr
89135133fd6270ca2f0d74998befce81806a7404,Fix problem with save button disable/enable logic.
2f4b2b3e12ba122deb840797932e56eca8a8ff12,"Add Bootstrap to Create Weblog page, also fix validation logic on Profile page."
29adfd3f879998271de3d24b9bb8db225f828c87,"Bootstrapification of ""Roller Configuration"" or GlobalConfig page."
f95b8bef05fccbc20cda6458df8ae3a2ef22bf2f,ROL-2101 Thread unsafe use of HashMap for cached mappings exist
1feee363259e224f7c83d17bac25cfe6c2396a16,This closes #5
958c49134fff0db7ef7deb94febea51c6a83da60,ROL-2103 Upgrade vulnerable commons-collections to 3.2.2
96e845ad3131a76b671896c01c4742b874d4f3ed,Test fixes due to changes on rollerweblogger.org and cassandra.apache.org
2da0e39089fb92d0e1f95651ea07739d62bf259b,"Merge branch 'master' into bootstrap-ui

Conflicts:
	app/src/main/webapp/WEB-INF/jsps/core/CreateWeblog.jsp"
4692115a65e46c4fb1cd7938dde5bcaef0a7286b,Code formatting change only.
525400ba4f3570cb663adf214aecd4daaca5ded4,Fixes to the Bookmarks page.
5cd3b9be710e8c2d00c740caa80e3c1c24c999ac,Fix some bugs in the bookmarks page.
b335e53b90520b781e17ceab542355d1d9b2193a,Fix front-page weblog selector.
3586dd75dff9d58bfc2ec6bcc784defcaf1ea299,Some progress on Bootstrap version of MediaFileView page.
73528e0256d24456997ec1ae7453e0f6283fa8ed,Some progress on Bootstrap version of MediaFileView page.
436aae82c3104f85232859826e4e10257aa1af2c,Small progress on Bootstrapization of media files view.
a175b0decdb283ccea2ff09d7759ee6a6986efad,Better button layout.
3e7e4ca30e221a86f838ce5cc68c5a393adab7a1,"[ROL-2110] fix problem with some languages not rendering correctly, e.g. French characters."
349276aa589c9ce8316c1cdab913cf9535c6fa0b,[ROL-2111] Upgrade to Struts 2.5.10.1.
d80b7287f8fc6c1aec6b14264154bfc3b9d8fbb3,Prepare for Roller 5..2.0 release.
4fd2e3757ab9a30f1e99207e56058afe70296071,Turn on strict-method-invocation for 5.2.0 release.
fd96ae4a101cb91b65959cfe8025f090f42b7b3d,Testing showed that order matters for altering of rag_entry columns.
6fa0e493bd08e682921d351685ce35f4e2e052fe,"Struts upgrade changed ""id"" to ""var"" for s:url tag."
b3a8128cbfebcbeb068751559d63f1e4cea6fa1b,[ROL-2113] move to Struts 2.5.x and remove DMI usage.
959c3e17e50ee9db011131156318812c0818d1eb,made it-selenium tests work with current code base.
76786112daa4b4d6a28fc30681c6110b89c2ffa0,Get random blog data creator working again for 5.2 testing purposes.
e3c513d006ff2b6cad40b40bd556239824bbde44,"Remove debugging text, and fix spelling error."
825b52a869730d016f254399f780f2efbfb09a5c,Use variables for all dependency version numbers.
440119aa9c6ccce93846cd96547baa365cb7c0ee,Correct version number and fix scm URLs
7dafd8763942c6b266ba7605091260def2a94c24,Logs should be in Catalina Base not Home
b7b2d83d2dcfd3c910473ecb72549d4402728846,Add clear to list of Struts DMI allowed methods
f57be53dc3359c5e311e6dbe736f0203d468159d,Fix for: test weblogs not being created & added correctly.
95ed5dfefa13902d97b48df650901833cf001137,Use namespace not name when refering to actions in different package.
fe4f28ddacdddd9d67be4a261379b95dfae12bb6,Use var intead of id for the s:iterator loop variable name.
add405bd656ce638dc6f2d44b1b64afd9743963a,Fixes Mediafile View to show image URL correctly.
aef2ea2cd97b50bbed845a1050a5970b08a3a169,This closes #8
9f2d3c18d4214606d69884f68b5ce9fa726127ff,Convert README to markdown.
6173b33a51396944a8d7370200f7e5c2a1b62810,Prepare for release.
129af05ac3db7a5cc4951bfbe650bc0cf8974f85,"Merge branch 'roller-5.2.0' into bootstrap-ui

# Conflicts:
#	README.md
#	app/pom.xml
#	app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/BookmarkEdit.java
#	app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/FolderEdit.java
#	app/src/main/webapp/WEB-INF/jsps/admin/GlobalConfig.jsp
#	app/src/main/webapp/WEB-INF/jsps/core/CreateWeblog.jsp
#	app/src/main/webapp/WEB-INF/jsps/core/MainMenu.jsp
#	app/src/main/webapp/WEB-INF/jsps/editor/Bookmarks.jsp
#	app/src/main/webapp/WEB-INF/jsps/editor/Categories.jsp
#	app/src/main/webapp/WEB-INF/jsps/editor/Comments.jsp
#	app/src/main/webapp/WEB-INF/jsps/editor/EntryEdit.jsp
#	app/src/main/webapp/WEB-INF/jsps/editor/MediaFileSidebar.jsp
#	app/src/main/webapp/WEB-INF/jsps/taglibs-struts2.jsp
#	app/src/main/webapp/WEB-INF/jsps/tiles/menu.jsp"
779824222f58cfac4edf61538b088cb53ad6f6b6,Explicitly list directories that should be included in the source release.
b279f67037c048901d7e89d4c3962059e5a0aacd,"Added missing action names needed for DMI.

Method flushCache for action maintenance
Method reset for action maintenance
Method enable for action pings
Method pingNow for action pings
Method createNewDirectory for action mediaFileView"
079f76b8e564c39ff776a6da92990ec413778ec5,"Ensure that roller.properties is not ""filtered"" by the Maven resources plugin, and that the version file *is* filtered."
c68e9ef6d484be254775a7e59f3d14895b75083e,Add missing log4j-core dependency and reduce Log4j2 logging to WARN level for Struts2.
7ddbff17eb1de7751c66ae8c0c1979a1b8bfa48c,Preparing for rc-4
7105bb6a9f553cb57130f1e4457dfd710ed5c20e,Preparing for rc-4.
213c0b53cea2c535cda09a15d4018a1c72df4600,"Add missing allowed action for ""accept"""
9a597e210602042b3da0fa3c2069771e039cb105,Correct Struts2 <s:property> syntax for getting directory name
5a62d7053fad0e968b51d9ac6e8fe65ae88b4a6d,Comment out @AllowedActions annotations because (they're not yet working) and we list allowed actions in struts.xml.
89e14003fcba94b7a0a959b17db4770322e45ed2,"Fixes to Planet's custom groups save, update and delete."
f450b12d30939186d1a8dacd8e8a882ba21fc2f2,Preparing for rc-5
f95631c0f62ac74f4e8b4af5770c9c50c6e169b2,Adding disable method for pings action
8a46131d6d80bc6a83cf0d599e5864ae90d711fd,Preparing for rc-6
312f0f7273f82fb02e53c9ec905c13774bb9c6ec,"Merge branch 'roller-5.2.0' into bootstrap-ui

# Conflicts:
#	app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/FolderEdit.java"
859ff26d779cac8fcf50306723d0cea8056cb265,Fix merge issue that omitted ROME fetcher
2d19f5af74609f7f6aa75981b3887953a1b4055f,Prepare for final release.
25a9bc7fb4fab505f770ead07fb26634c5465def,Merge tag 'roller-5.2.0'
5c74873f774266206ca8eb9d436aa3434c6c6115,Merge branch 'master' into bootstrap-ui
94cb26026dd3cda600b000e3c93c48a1e7c4d605,Ignore some tests that depend on http://rollerweblogger.org having good SSL certs; apparently LetsEncrypt certs are not up to snuff.
4ef312f800d9d09301e13dae76196d335d279a8e,Merge branch 'master' into bootstrap-ui
c01077b1be8559f0200c8275274c8d5acd692051,Brain methods of class Register automatically refactored with Bandago
ff5ba855b14351a1af1e853d4f481a2caa0afa13,Fix a couple of merge problems that I missed.
0ec5df068c34fc210cdf3d001d0d0d304248e016,Converted New User Registration page to use Struts2/Bootstrap plugin.
378c2ed7c10d3d435617239be26d125e85ee3934,Fix layout problem on entry edit page.
d2320b067a39129013c1f117f1306a04c6ebca8f,Fix problem introduced in merge from master to bootstrap-ui
4e44afe8a508e4b09ee732c1e63b4d2255894e94,Remove redundant content-type code
37277bbf5ecb8fb846f4fcf5fce0a0e58b6a8426,Remove redundant content-type code
ff31349e52f205cfc454af5b84963822b7afda50,Convert setup page to Bootstrap
7f4ac300d0782335f3937c53f1f10165d8f208b0,Convert docs README to Markdown
f8ee9d7f2116f45cbfef8be25e9b2ecba40ec108,Set version in Bootstrap branch to 6.0.0-SNAPSHOT
c6459e5c707cf4f4903b2b408a6ac3fb8f6b5adc,"With a multi-host blog setup, use hostname to determine match instead of URL.

Using the URL is problematic when HTTPS s enabled and originally requesed URL was redirected from http:// to https://"
fa7c495b9268fa3779244010027dc80295251ad5,Merge branch 'master' into feature/ROL-2103
c17f7b33d1927e4bfbf476456e0100e432076484,Make some Lucene configuration adjustable
92df1c249d4561be97eb2edb014b38ec4b77dd96,Upgrade Xinha
76672cecbb5f943739c152cd6acc2e558430fc9b,master is no longer 5.2.0
870e9332ed3f0bf57eea9bf37518bea577ac1f43,master is no longer 5.2.0
9b7d562ec9ae4ae1cf43080a6dbc01cc68e38411,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	app/pom.xml
#	assembly-release/pom.xml
#	assembly-release/sign-release.sh
#	it-selenium/pom.xml
#	it-selenium/src/test/resources/roller-jettyrun.properties
#	pom.xml"
952c43841e2545087fd1d7d04fed3d5db40ea8cc,"Need to whitelist ""upgrade"" instead of ""update"""
85b62444d2f7a95ea48a72655ae58d9124c60da6,Merge branch 'master' into bootstrap-ui
57a19fd20ee1c11af4ba50892e0c4cca4a1ded04,Improvements to Login form layout
84579b4a9eb4638c02268431250f9d6ade8df188,Progress on WeblogConfig page; more work remains.
e83e5f8115b3ebaa44eeb2653e360b21473e4d6e,Server Administration (GlobalConfig) working well and looking good with Bootstrap.
2429c59b3b165787bf8d815fa8de89063d5d0600,Fixed Spelling.
bb92ba2ad1a92d81e062a34bd05a7a21a07163c2,Weblog config and remove pages converted to Struts Bootstrap.
7cd8d6f6e4b86789b895d4cdb4c542388faab7fc,"Switch to WebJars for Bootstrap, JQuery and JQuery UI, llso remove unecessary usage of Angular."
77e003d88bd3a4043a6e223fa418d59c4fb03795,"ThemeEdit page rewritten for Bootstrap, needs more polish. Note, theme logic in CreateWeblog is incomplete."
840f46c63c86cbfe7da092ff0e956eac3fff3567,More tweaks to Theme Edit page.
5889e03e9705942f59b02a4c553aa13fb8003f10,Remove unecessary usage of Angular in Create Weblog page.
96a00650304d31e7b45785e5720caf383e848a09,Wrong password tip on user register page.
48e970895e06008ff6ef981adf59ea6ea916c576,Convert stylesheet edit page to Struts 2 Bootstrap and rework UI logic
1794b224334d8c3868771390502839aed1f5fed9,"Upgrade Struts to 2.5.17, fix broken URLs in planet tests & prepare for Roller 5.2.1 release."
c332d7553e1d3344f4fd875638aab55b114f85a6,"Upgrade Struts to 2.5.17, fix broken URLs in planet tests & prepare for Roller 5.2.1 release."
30ca737a0d0bded55504dcbc2e1179d288cc3e01,Fix format of RC file names
947ddf39a03bf040f317ac444dd6b653dde4a071,Merge commit '4d21faf095b402f7a5c197ca6592c3bf23b70273'
40547d2fd5f37657cc6b99fa6694130cb8129dc8,"Merge branch 'roller-5.2.0'

# Conflicts:
#	app/pom.xml
#	assembly-release/pom.xml
#	assembly-release/sign-release.sh
#	it-selenium/pom.xml
#	it-selenium/src/test/resources/roller-jettyrun.properties
#	pom.xml"
b7f4daac1fbfc45cd282399c652158769b5d0dba,Beginning of a CDI based weblogger provider.
ad62b85b36b43dbbff71a850900b4dc419eb9a6d,Bump JDK version up to 1.8 and upgrade to latest Jetty for mvn jetty:run
7df1f1d0de466a57fb328c6764af6fe41bdd5f69,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	app/pom.xml
#	assembly-release/sign-release.sh"
2ade07dd0722cf21f5f5d9c4ddca49560c585474,"Fix merge problems, switch to same version of Log4j2 that Struts uses and progress on Templates and TemplateEdit pages."
fb34b0a67c0b251439f26a6c0106e2989327d885,Use same version of Log4j2 as Struts does
1848cd55de2cb2e301ddd4d2e8ee51ee579ecb9b,Use same version of Log4j2 as Struts does
de9086c75a01a3ea870f24e8d26e079f82191040,"Almost done with Bootstrap conversion of Theme Edit, Templates and Template Edit pages."
7fc12f4e656bc13c7afe4a264ee3b3a6e2868bc2,Finished converting Theme and Template pages to Boostrap.
0a8b286525c81b8634b47c848aa738b693f4b93a,Preparing for 5.2.1-rc-2
593ff47b416912c23d8b956ec17b4f082aa495f4,Draft create
66f078572047cb40806809e43f54b173d4dba427,fix:(plugins) use a better version of maven deploy plugin
8192321fde942c4d802a4697d3ba9d3119a244ea,So far unsuccessful experiments with CdiWebloggerProvider
922929b11e1b88ced8603745add1cdaaac654dfe,"Upgraded to Guice 4.2.1 and now Roller tests run successfully under Java 10, have not tried 11 yet."
09708c03a98716f23e69715ba26d20d7a6572b57,Needed this change to avoid ClassNotFoundException: org.apache.logging.log4j.util.ReflectionUtil when running on Tomcat 8.
e56f3123cfe19e18f4aa5acf1770a0a87174743b,Cleanup abandoned CDI efforts.
3daa8a7fa1ac0173190197c8201b41590dafa009,Cleanup abandoned CDI efforts.
9e94f5f0036dc704f5a4e0988766c7feb1f79121,"Oops, I meant 11."
2f60b4580427dacb495ef94df15f8b4562cfc8e2,"Merge branch 'java11' into bootstrap-ui

# Conflicts:
#	app/pom.xml
#	pom.xml"
ed48b479acea0fbee79c5ac1fcc0380d150cd06d,"I was wrong, Java 10 works by Java 11 fails. More work to do."
3564e13213b89b81efd66e7d5499e5a842efbd7a,"I was wrong, Java 10 works by Java 11 fails. More work to do."
69763636d6b48617890b8771c5435002d9df5caf,"Converted weblog member and ping pages, also fixed Admin Menu regression"
593f9ba501c621b04ccb7d14cc5e4a27677d5895,Converted weblog maintenance page.
2ec0cba5e9541cacdf3dd2df8d186aa1a5488dda,Fix regression in comments page.
bcea95ea4b3aa803e1bbb076e0e3eb6c43c060e1,"Merge branch 'roller-5.2.0'

# Conflicts:
#	assembly-release/sign-release.sh"
645f8eff79cea83f8df123f5a1c16baeac676b23,Executable jar for Roller
bf5658ab17c705a53544f56a4c907189fa356b82,Merge branch 'master' of https://git-wip-us.apache.org/repos/asf/roller
47049acdddef133aec4817b5d039ce5ac25fc58a,"UserAdmin and UserEdit pages converted to Bootstrap, also switched back to Java 8."
67fa3a5cc6573840f4574b5b7f498eafacda4d42,Add missing header.
44b008d5d761e08eead9a643821b2d66684c7382,Converted Ping Target management pages to Struts Bootstrap.
911700883e2f1abcf883042715d8630f52529d8e,Minor refactoring
26764874bd1c33f3967baf74818422b6d5d8f227,[ROL-2124] disable DOCTYPE handling in SAX Parser.
94c9c2ac77eedbdaf5cd65cec082d5894eaac0c5,"[ROL-2125] Add workaround to allow styled RSS and Atom feeds in Firefox, plus fix to boolean property handling logic."
4c300e921ca2158570665595f83c53e2b89ad1e9,Preparing for a v5.2.2 release.
06cad06be39c8656cdad6f939ba0fb07b58e458f,"Merge pull request #6 from nuzayats/feature/ROL-2103

ROL-2103 Upgrade vulnerable commons-collections to 3.2.2"
ed10d7e9601cbe5abfdc9fd71e9b9e5db06ac92a,"Merge pull request #13 from jimmycasey/master

Fixed Spelling."
4c9b3cf78f808bfa036e3cce4323272be1bfc65c,"Merge pull request #11 from nuzayats/update_xinha

Upgrade Xinha to the latest"
9e4c56e1fdc2115ecd0bb162dce6c12f31ba70ea,"Merge pull request #9 from santiago-a-vidal/BandagoRefactorings

Refactoring complex methods of class Register"
d362f5d1eec7f5034b52b9a2aec5b73f2eb4ded6,"Merge pull request #10 from nuzayats/ROL-2090

Make some Lucene configuration adjustable"
af67f5c59ae7129c68015c56c0f928a39b943e1f,Fix mispelling
6ac1365ebccb45ea51167f21380d35b0e8a17266,"This branch is not 6, and not the same as Apache Roller."
45a0231457b6a4066ee48a4e0dc8859bf7040bac,Merge branch 'master' of https://github.com/apache/roller
b5a12c1bb9a32a34ba0e5901b604f9f5d6afc03b,"Merge branch 'roller-5.2.x'

# Conflicts:
#	app/pom.xml
#	assembly-release/pom.xml
#	assembly-release/sign-release.sh
#	it-selenium/pom.xml
#	it-selenium/src/test/resources/roller-jettyrun.properties
#	pom.xml"
26f2892d3b917b465eb784d291d6586383b664dd,Merge branch 'master' of https://github.com/snoopdave/rollarcus
3745417fe8815b95e34b4120ab8535e275244c24,"Revert ""Merge branch 'master' of https://github.com/snoopdave/rollarcus""

This reverts commit 26f2892d3b917b465eb784d291d6586383b664dd, reversing
changes made to b5a12c1bb9a32a34ba0e5901b604f9f5d6afc03b."
de461a7654d6b9fce2509a487ff0ebc88a4ea1d5,"Merge pull request #23 from snoopdave/master

Test: reverting changes (no op)"
cd196fe541630c996d411fba01fa5981c09a8449,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	app/pom.xml
#	app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/GlobalConfig.java"
3f5b3e27c1bb63f77727819e1cc344d5b04ed31f,Move to JUnit 5 .
b7d4dbcc311b7baf5c720091cb857dbaffbeee52,Start of a Jetty lifecycle
f169765749110f2f99a0814258ddbe3db67a7d20,"Ping target adding and editing via modal/AJAX, also fixes to AJAX elsewhere."
6c5bfefb02953fe8acf75fb8715374e1ab6e6e83,"Fixing some regressions, deleting unnecessary JSP code."
17912d131583d8498d69d7ef5c9a311b5ee0f167,Cache info converted.
6a7af01f608995e7b64c3455e17a9abbb8ec3e77,Add missing bootstrap style.
927af81b41ddbad9d563f7d316e18bf94498129d,"Converted planet config, subscriptions and groups pages to Bootstrap. Code complete!"
b1a8797fb17a13600e71e014343a4d900db72f2c,"Reorganize Planet Group actions, fix bugs."
de34f66edd0174153427bbd9363920bc28308f9e,Fixes the datepickers.
c3a31ec93950c6c64daf2f8b40c63e61e197b17a,Fixed broken allow comments control and improve form layout.
22a43ba6e30647002a0c886703d712986e361411,Add client-side validate to category add/edit and add subscription forms.
748bc490f6b0ab887a3748aa052abfd058fa6902,Progress on Media File pages; almost done!
f164e8d14253afd5bea520bfe81483989e8b8fdf,Completed Media File Add page.
8c386ddcaad74d43bbbd089a3483cdfd9a85eadd,"Completed Bootstrapification of Media File Success page.

Except for some bugs, work to convert Roller's UI to use Bootstrap is now complete."
e64710857fe3051f442b7b1c7ea4a82a582cc701,Formatting.
30496f95855602eca58a2a0c733f85b263c465b2,Adding .gitignore from PR #7.
adf7085d54da7aa99e2302d0976f5903e8f94118,Add SHA256 checksums to sign release script
bb34cad62d8fab281d1e7ce83f73c7817c38fa26,Correcting to use sha256.
957137adde3c5d5f26f05e67c8bc03ea714d1091,Fix up the Media File Edit modal.
1a7e0db911e90da9fcacf906b888860a60f0aeac,"EditEntry's Insert Media File feature working reasonably well now, but not in Rich Text Edit mode."
52bc039d54281a0f6010f3404fd72b374d625c8d,"Replacing Xinha with Summernote because it's the best option for Bootstrap, is actively developed and is available via Webjars."
d45f71ba2986e79cf806e3b32d0aec1877aef615,Replacing Xinha with Summernote (continued)
d60a729cbd50c96403163c8998686c0435416db8,Allow empty for blogroll selector
98e5991486c33ead3fbb4b15ead2c1eab8829656,Better help text for blogroll page
6658c5965550bd7bc16912d4f766be224b4c9457,Fixes to member pages.
c3cfdc12e78e623a241c5bd5f5328924eee60571,Add Insert Media File support for rich text editor.
4f6db03f7192ba4497c77c1eaa19c061f1ab540b,Work around apparent Struts 2 Bootstrap bug(?)
04fb5f676cdb281262b04a7d2cca23dec0a74c3b,Before and after screen-shots.
e67c47bde63404ed57585926054241060e68720d,"Sidebars always on left, add ASF feather and make date controls consistent."
0e406c52b95dfce157f513dfc4d325d9902c4337,More tweaks to layout and ASF logo display.
e51dc895920f0e8b8ba49681bfce4015158be83d,"Simple Dockerfile for Roller and docker-compose setup for running Tomcat, PostgreSQL and Roller."
3ae0621396c1e6dd6522efc2a181efd4cca14b13,"Simple Dockerfile for Roller and docker-compose setup for running Tomcat, PostgreSQL and Roller."
6981c3a64bbf034b2252f37f6335f21a6f1d892c,License headers
39338f4ef637d18f4286383b33bc45abd7290d9c,"Merge branch 'roller-5.2.x'

# Conflicts:
#	assembly-release/sign-release.sh"
dda7b194d180e54f62e84ad57027778dce52bc5c,Ignore working files
d456d54200e7c747ef0312ca190c2a15433b6b3d,From Kohei's PR
c4e2fd370eeb8465e475e1a1d98331d24d7172ca,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	.gitignore"
848c01738f0cbf6304d0335f8d56f07ea6c5a68a,docker-compose setup now working with Roller 6 snapshot.
1215d30714fe8466ab07751e5870f4cd1ead5d7e,Update status
48f60a565b367ab334cecb04ad53e802f95e97e8,[ROL-2127] add upgrade to allowed action names for Install action and prepare for 5.2.3 release
ab235cc3e5be23e9194833c62589a6077d69534a,[ROL-2127] add upgrade to allowed action names for Install action and prepare for 5.2.3 release
5918db4a001313941c3ff97cc5bd0e3204cfd653,"Polish auto-installer, login and other pages."
3e531efe151cfa50ef5fdde2a14d7b19c6f68c01,More polish of web UI.
38f956848eda286d21a03d1a496533e99dfb984f,"More UI polish, also updated theme previews."
0e77733a4567ad19926ea81b6d7afb0de376b908,Polish the docker-compose setup.
518af5ed565583025b3d444f964f9cafdbd37524,"Allow action-methods per action, fix delete entry from EditEntry page"
4e955ce4618ef1484eaeb42e5aa42650f5abc616,"Merge branch 'master' into java11

# Conflicts:
#	app/pom.xml
#	pom.xml"
81257f63642d704cd6c9531b75edbc50eb28ce92,"ROL-2129 - Oracle does not allow multiple indexes on the same column specification

table roller_oauthconsumer, column consumerkey - it was already a Primary Key"
3633dcb17490310742fe99a6cb9297a56525ea85,Fix merge problems
0cac5fddd7995afdea704a723f1a71d0ebd29389,"Merge pull request #24 from pdinc-oss/roller-5.2.0-final-bugfix-ROL-2129

bugfix ROL-2129"
0d42c6d20f33343d5a99851ad7bae0b5b9f2ef06,[ROL-2100] remove no longer needed scheme enforcement filter.
07b78589c668126702a86ef8edfac23bbea7a4ae,[ROL-2135] parse math answer to string.
21c92aafd850a5477450284c127e52612bd2d585,[ROL-2132] Fix for remember-me not working with LDAP.
07b51df0b7e1abebd41c1af1816217ea7c123eb3,"Updated most maven dependencies which didn't require code changes.
Tests are now green on (AdoptOpen)JDK 11 and 12 using language level 11 and 12.
Added an explicit dependency to ASM 7.1 to better control which version is used and improve compatibility with latest bytecodes."
e2d78305b72f3401396fd1e5a34da2cad6122792,updated .gitignore for NetBeans.
d284c76ef5c4a9bea190939d5a4bef06703dae48,"Changed 'eclipselink' artifact to 'org.eclipse.persistence.jpa' + removed old 'javax.persistence' dependency.
Both jakarta.persistence-2.2.2.jar and org.eclipse.persistence.jpa-2.7.4.jars are now signed and don't cause a security exception during classloading.
Workaround of using old JPA API jar is no longer needed."
6b3f0a4a8f691a86458e72f04088b73708e778be,"Merge pull request #25 from mbien/java11

Thanks @mbien. Good stuff!"
344677ce9de7f26526a76ff84524e82f59e1bde0,"[ROL-2137] if you're going to enable remember me then you must set a unqiue key.
And not the well known springRocks that was the default."
7c66f7766e3e17f5e408dd7441cc2385940d36f4,Oops. Did not mean to switch to LDAP as default.
cabe66b2b7637f19e59a6e52f477d13a6688d311,"Merge pull request #27 from apache/ROL-2137

[ROL-2137] Require setting rememberme.key"
ab229c644358522636584164f7f8d5da54fd00ee,"Merge branch 'roller-5.2.x'

# Conflicts:
#	app/pom.xml
#	app/src/main/resources/struts.xml
#	assembly-release/pom.xml
#	assembly-release/sign-release.sh
#	it-selenium/pom.xml
#	it-selenium/src/test/resources/roller-jettyrun.properties
#	pom.xml"
e72e15c937e21d6afa8ad89f480f0b9229a4e583,"Merge pull request #14 from apache/java11

[ROL-2123] make Roller build and run on Java 11"
18b5371df3c65313d36247d689f40b090104131a,Simplification of recent remember-me fix.
331b3eb3fc83b138b9a2bc3d131bc7446b2f5159,Simplification of recent remember-me fix.
b66831921c7b66a1d06e955b608fa5451c5525fe,More remember-me fixes.
88f02b99f0a286e37115fd7a7a18d7d7d5d07224,More remember-me fixes.
4b43c5aa7b7a71c3c8634abb62c7f2d6a78896bf,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	.gitignore
#	app/pom.xml
#	app/src/main/resources/struts.xml
#	pom.xml"
110721e0a36c8fe14d0d098a74d3261678f4d5e7,Make IntelliJ happy.
046a6857e9e7e15c68f3532e1cbb5a783ff8a1bd,Java 11 in boostrap-ui!
7b67746c4a0fb9808970b94fb1525d585f562ff4,Convert upgrade page to bootstrap
db217320b6ab61c2b0b0002f74103763178777ae,Minor working and formatting changes.
0534f40e134dd57ab9205fbf115b38dc9f55d8d3,tiles-popuppage-only-content should extend so that it inherits attributes.
2476eeb9027bca55554a09cbe42433c69ef7adfc,Fix remove Planet sub from group.
4d529401f5e01cae1e7c6efbaaa80335c5f02e0b,"Minor changes: speliing correction, license header, remove obsolete config prop."
f7eaaca88cbcebd1e7db9e308b5ea134e1ee8695,Improvements to Dockerfile and Docker Compose setup.
41ba970af6d7b932601dca39e279d33c707a2015,Skip feed fetcher tests on Java 1.7 which does not support TLS 1.2.
1e25666d1d1a23293558a9b373f77da32f2ac7f0,Fix regression that was preventing mvn jetty:run from working properly.
f0433b70fb6ab0277515459da86949009d9d169c,Prepare for rc-2.
a963bb123df4591e12bfc0511791d9c79a71c0f7,"Merge branch 'roller-5.2.x'

# Conflicts:
#	app/src/main/java/org/apache/roller/weblogger/ui/core/security/RollerRememberMeServices.java
#	app/src/test/resources/jetty.xml
#	assembly-release/sign-release.sh"
6a1c12e40580b3fb84d455d90518c4c5b9a1ce50,"Merge branch 'master' into bootstrap-ui

# Conflicts:
#	app/src/test/java/org/apache/roller/planet/business/RomeFeedFetcherTest.java
#	app/src/test/java/org/apache/roller/planet/business/SingleThreadedFeedUpdaterTest.java"
c0fb435d30cc2003deb04074877a90644aeb4dac,Fix a couple of merge problems.
596a84fd7b555806769e6a6e6a00266b7b4c8988,"Fixed: NOTICE file does not have standard content (ROL-2138)
1. Rearranged the content as per the standard for Notice and License files
2. Removed credits from Notice file"
d950b735f6e1124653e9d801a7a8b9283c892e17,Back off on ASM version.
1a2054d6c3f152c86d32f6cb091bed7370034b48,Prepare for merge to master.
bacf2ddfbc7952c715ad1983e4c3b52d4f75aa4f,"Merge pull request #22 from apache/bootstrap-ui

Struts Bootstrap based web UI and Java 11 compatibility."
7afbbd67a44233f0e1a41110dda1ed2f99cf49a1,cd roller before docker compose
143866099f48e86c98086815d44464fd196d4728,"Fixed: NOTICE file does not have standard content (ROL-2138)
Improved text of the ALv2 and improved the statements as per the standards.
Removed copyright notice of sub dependencies of Xinha WYSIWYG editor
Updated license file as per the standards"
192b006eaf22776220912de24ce6f7905300fe56,Merge branch 'master' of https://github.com/apache/roller into ROL-2138
917b26b531e902c7f15248a26a247c213a8485f4,"Fixed: NOTICE file does not have standard content (ROL-2138)
Improved statements in License file"
4b1e0a947b9b306ceb2fb48fc032a17ee14e7508,"Update docs for 6.0.0 and export each to PDF.

Also:
- Removed mention of JBoss and Glassfish as they have not been tested with Roller 6.
- Added a note to the User Guide stating that the UI has a different look and feel but mostly works the same."
21fca17fae391e90c54ee6d2264ffc6dc2309e21,Added: separate Notice and License files for the binary release (ROL-2138)
fdbffc3dfeaa25d8cc6d21fd8272e37e1f1d4f09,Change convenience binary release to include docs in PDF instead of ODT format.
6916df6f37de657487f9b01149e62915e2b0d980,"Merge pull request #29 from apache/ROL-2138

Fixed: NOTICE file does not have standard content (ROL-2138)"
333dfb7a88b91b434a9122f5e66d5e39f73b15b4,Small improvements to README
40c229751d62520524242d0e4f24fad5594045df,Small improvements to README
043a0cb04730c71343bc2465a408e7c59e0e2ca5,"""cherrypick"" updated LICENSE and NOTICE."
605797dab5d2142a81ee40780f96894d701adb43,Prepare for rc 1
7e18e380f038ce51dff1d57e96328ff64d8be1cc,"War file location fix

Fix for getting the war file from the right location.
Steps for validation:

git clone https://github.com/apache/roller.git
cd roller
docker build -t rollerdocker ."
10370c129dd5d5cb906095fc23be41bb69014179,"updated apache lucene to 8.1.1 and made necessary code changes.
search index rebuild task is now triggered automatically during init if the index version is incompatible."
a4dfaed1461dc1b548459ab2dc62c4e3c3fc95b1,"removed code using the deprecated RAMDirectory, since the codepaths were not used or tested anyway."
30694c28efbb84aea42f177cba621f2dad745248,reuse reader from the index consistency check.
83d8f8bb4ca12e1a1000fcd8e3422de3f046fcb3,Add link button to Summernote rich text editor.
9f47674a9b6d95cf82a481edae9eae85dd14c8de,fix global config jsp wrong tag
dbd7886ba7ba11787a21471339f83aaccc11061d,fix bugs in Global Config JSP
74f288d39d3e547c4c903f509ed5aeb4490554a9,"Revert ""fix bugs in Global Config JSP""

This reverts commit dbd7886ba7ba11787a21471339f83aaccc11061d."
19189544279a761e97d74527d01b2a9c471bb691,fix Global Config JSP Page bugs
5b8c44b6143bf3144769f3a67b9646cc70f00300,"Merge pull request #34 from mbien/master

Apache Lucene Renovation"
8f2aef884d2a78737945547d3bb180a8df5633f7,"Merge pull request #33 from fileme/patch-1

War file location fix"
251c72e8ffb9918c2877bc16e19b59f3638fdc4e,"Merge pull request #36 from zorrofox/fix_globalconfig_jsp

Fix global config jsp page bugs"
ca5cbe26285c3814da4cd1db576c2b2b2135d167,"Entries page: move delete column to far right, add tooltips for edit and delete glyphs."
c59a571240e8f1b7d38802c9916b977a3984685c,Merge branch 'master' of https://github.com/apache/roller
619a3d275933e6543bb6ad6c993a9cf8872f1ab3,Fixes to User Admin pages: disable edit button if nothing selected and send user back to user admin page after save.
1ca1853de6f3d3389ed1e9990c5442a2880ad898,Formatting change only.
7c498e5eb4824f84f3a2c4fdbc01802cac08938d,"Added the information for latest release

Also, fixed typo and done some formatting for properly line break while rendering the content on https://projects.apache.org/project.html?roller"
08902287253491d75c1c54d87e66d0b0453b7466,Converted Install Guide documentation from ODT to AsciiDoc
c9edae799a302a950357dc0511d99828a9d862a7,Added the image for roller deployment on Tomcat
8feb74a98eea42889407c0fdf562258b0602ad9a,"Added the screenshot for roller-home, DB connection & No tables error"
b6dac5d46938e3fd2f4b6f10c5b78e23e5372574,Fixed some formatting issues
8a8618f88371ac01755a3c528f99f9d80c20b306,Removed the acknowledgment of OpenDS project
21f3aabff23cb5958b5691670b9209914a74287c,Fixed some formatting issue
07434a13c30e238955a57536f1683a0f01e59211,"Merge pull request #38 from swapnilmmane/patch-1

Added the information for the latest release"
deaab1988e3fc4e5bb29712f0d8f4594a41bf099,Update to work with latest docker-compose.
026f8f139b73e796a9a3de2f94d93a7cefe96876,Dockerfile in master should build against master.
23739e2b98f75158c74c04605fe601dec1368166,"Merge branch 'master' into roller-6.0.x

# Conflicts:
#	LICENSE.txt
#	NOTICE.txt"
c0b56361bab325215247d517aea2ed1e9730b39c,Dockerfile in roller-6.0.x should build against roller-6.0.x.
cc00163a4571eed5b26148431d8916fd2c2e49e2,"Merge pull request #39 from swapnilmmane/master

Added the AsciiDoc version of 'Install Guide' documentation"
26fcd8b202bad336195337ae2e9982c52534a226,Merge branch 'master' into roller-6.0.x
dacf7e05551332b31764f6b115cc1284362e6cb0,"Improve alert messages (ROL-2154)
1. Add close button
2. Remove bulleted text
3. Autoclose messages after 10 seconds"
f9f1668f4a10c0f6d9dc29a2947fcc46c5585371,"Merge pull request #40 from adityasharma7/ROL-2154

Improve alert messages (ROL-2154)"
038acff21968ca360c26e10aaa3bb39479a5ee1e,"Improve alert messages (ROL-2154)
1. Add close button
2. Remove bulleted text
3. Autoclose messages after 10 seconds"
10a8432c2de18c33c48d68c29ea963eb7bf0ef26,"Merge pull request #41 from adityasharma7/ROL-2150-roller-6.0.x

Improve alert messages (ROL-2154)"
cb8ba65a38b39f02077621a351faf4e77db84957,"Improved: Editor should confirm user before leaving the page (ROL-2136)
Added custom code to add confimation box for text area which adds an event handler to beforeunload event if the text area is changed."
82bbde0b2cc143fdde62874e6c542fec44b73d55,Improved: used jQuery alias for consistency (ROL-2136)
79419bd2d34bb6546413d73a927c880f74816764,"Merge pull request #43 from adityasharma7/ROL-2136

Improved: Editor should confirm user before leaving the page (ROL-2136)"
99e2bda2d4cb86b298b8cefe5f292434f6235eef,"Improved: Editor should confirm user before leaving the page (ROL-2136)
Added custom code to add confimation box for text area which adds an event handler to beforeunload event if the text area is changed."
b170cafd0e3f0a9d62eb166c7f822ea6331b004c,Improved: used jQuery alias for consistency (ROL-2136)
fb9d1419d686baf21c5b9b374158cde798c79b67,"Merge pull request #44 from adityasharma7/ROL-2136-6.0.x

Improved: Editor should confirm user before leaving the page (ROL-2136)"
a541cc0dcf238e0168111f598a22f5dcbce36086,"Fixed: Variables scoping in ajax-user.js (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
3ab437abdfe72ebd44dec417ea9dd7d13c43f2a5,"Fixed: Variables scoping in roller and searchhi js files (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
430795f4d63cb099ab59d56b4b818bac24d8d2e9,"Fixed: Variables scoping in weblog.vm js code (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
b317b48086bb4d0944042590cac00fb441ef69e9,"Improved: Replaced pom.basedir deprecated property with project.basedir.

NOTE:
Deprecated features are those that have been retained temporarily for backward compatibility, but which will eventually be removed. In effect, deprecation announces a grace period to allow the smooth transition from the old features to the new ones. In that period, no use of the deprecated features should be added, and all existing uses should be gradually removed."
5956f26923116edd30bd1faf43c24a912a52d49b,"Improved: Replaced pom.basedir deprecated property with project.basedir.

NOTE:
Deprecated features are those that have been retained temporarily for backward compatibility, but which will eventually be removed. In effect, deprecation announces a grace period to allow the smooth transition from the old features to the new ones. In that period, no use of the deprecated features should be added, and all existing uses should be gradually removed."
3457d03d672e4bbda068a9544e7163936be52d2a,Temporarily add Struts staging repo to POM so I can test new Struts 2.5.21 pre-release.
aedc3ef4e873798e018808dae11216d12cadf7cf,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileView.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MemberResign.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Members.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MembersInvite.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Pings.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/StylesheetEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/TemplateEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/TemplateRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Templates.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/ThemeEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/WeblogConfig.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/WeblogRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/StringTagSupport.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/TruncateNicelyTag.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/WordWrapTag.java
app/src/main/java/org/apache/roller/weblogger/util/LRUCache2.java
app/src/main/java/org/apache/roller/weblogger/util/LinkbackExtractor.java
app/src/main/java/org/apache/roller/weblogger/util/cache/LRUCacheImpl.java
app/src/main/java/org/apache/roller/weblogger/webservices/opensearch/OpenSearchServlet.java
app/src/main/java/org/apache/roller/weblogger/webservices/tagdata/TagDataServlet.java"
81576330fdf4bc782427385f753ad5f2861a6ceb,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Profile.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Register.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Setup.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/BookmarkEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Bookmarks.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/BookmarksImport.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Categories.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/CategoryEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/CategoryRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Comments.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Entries.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryAddWithMediaFile.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/FolderEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Maintenance.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileAdd.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileImageChooser.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileImageDim.java"
d958054f45de1a7595d196d0917e3a331016b152,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/SearchServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/TrackbackServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogMediaResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogPreviewRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogPreviewResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/CacheInfo.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/GlobalCommentManagement.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/PingTargetEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/PingTargets.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/UserAdmin.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/UserEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/CommentDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/ThemeDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/UserDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/CreateWeblog.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Install.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Login.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/MainMenu.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/OAuthKeys.java"
dd07eb844896428acdcd5063df56c82977646e34,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/MediaFilesPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/PlanetEntriesPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/SearchResultsFeedPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/UsersPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesDayPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesLatestPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesListPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesMonthPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesPermalinkPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesPreviewPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogsPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/CommentAuthenticatorServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/FeedServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/MediaResourceServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PageServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PlanetFeedServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PreviewResourceServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PreviewServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/RSDServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/ResourceServlet.java"
28e95fa6d156df29d3881f3ab0cb5a8a89533902,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/core/RollerContext.java
app/src/main/java/org/apache/roller/weblogger/ui/core/RollerSession.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/BootstrapFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/CharEncodingFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/DebugFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/IPBanFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/InitFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/LoadSaltFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/PersistenceSessionFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/RoleAssignmentFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/ValidateSaltFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/security/RollerRememberMeServices.java
app/src/main/java/org/apache/roller/weblogger/ui/core/tags/calendar/BigWeblogCalendarModel.java
app/src/main/java/org/apache/roller/weblogger/ui/core/tags/calendar/CalendarTag.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/filters/RequestMappingFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/FeedModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/PreviewPageModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/PreviewURLModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/SearchResultsModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/CommentsPager.java"
258e534bf056f7bb77c36247da0890261502c5c6,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/RollerException.java
app/src/main/java/org/apache/roller/weblogger/business/PreviewURLStrategy.java
app/src/main/java/org/apache/roller/weblogger/business/jpa/JPAWebloggerImpl.java
app/src/main/java/org/apache/roller/weblogger/business/pings/PingQueueTask.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/ContinuousWorkerThread.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/ResetHitCountsTask.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/WorkerThread.java
app/src/main/java/org/apache/roller/weblogger/business/search/operations/WriteToIndexOperation.java
app/src/main/java/org/apache/roller/weblogger/planet/business/PlanetURLStrategy.java
app/src/main/java/org/apache/roller/weblogger/planet/tasks/SyncWebsitesTask.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetConfig.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetGroupSubs.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetGroups.java
app/src/main/java/org/apache/roller/weblogger/pojos/GlobalPermission.java
app/src/main/java/org/apache/roller/weblogger/pojos/WeblogPermission.java
app/src/main/java/org/apache/roller/weblogger/ui/core/CmaRollerContext.java"
50a3717f68ed78a2bea2ff5d5b74eeec4eac5063,"Merge pull request #48 from isdixit/roller-6.0.x

Improved: Replaced pom.basedir deprecated property with project.basedir. (ROL-2158)"
6dacccf0e865cb2b926e1c0cbf80bafa502c3ba0,"Merge pull request #47 from isdixit/master

Improved: Replaced pom.basedir deprecated property with project.basedir. (ROL-2158)"
a9157ed91f7cb1abc710c7e42db40c56883f600e,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileView.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MemberResign.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Members.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MembersInvite.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Pings.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/StylesheetEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/TemplateEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/TemplateRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Templates.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/ThemeEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/WeblogConfig.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/WeblogRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/StringTagSupport.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/TruncateNicelyTag.java
app/src/main/java/org/apache/roller/weblogger/ui/tags/WordWrapTag.java
app/src/main/java/org/apache/roller/weblogger/util/LRUCache2.java
app/src/main/java/org/apache/roller/weblogger/util/LinkbackExtractor.java
app/src/main/java/org/apache/roller/weblogger/util/cache/LRUCacheImpl.java
app/src/main/java/org/apache/roller/weblogger/webservices/opensearch/OpenSearchServlet.java
app/src/main/java/org/apache/roller/weblogger/webservices/tagdata/TagDataServlet.java"
d56aa8c94157d43588ac8a5ce382ef69576d58ec,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Profile.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Register.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Setup.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/BookmarkEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Bookmarks.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/BookmarksImport.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Categories.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/CategoryEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/CategoryRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Comments.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Entries.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryAddWithMediaFile.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/EntryRemove.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/FolderEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/Maintenance.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileAdd.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileImageChooser.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/editor/MediaFileImageDim.java"
b056035b2ca8cead7f8d0b1883d0490796d93f8a,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/SearchServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/TrackbackServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogMediaResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogPreviewRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogPreviewResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/util/WeblogResourceRequest.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/CacheInfo.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/GlobalCommentManagement.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/PingTargetEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/PingTargets.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/UserAdmin.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/admin/UserEdit.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/CommentDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/ThemeDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/ajax/UserDataServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/CreateWeblog.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Install.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/Login.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/MainMenu.java
app/src/main/java/org/apache/roller/weblogger/ui/struts2/core/OAuthKeys.java"
a240a4aa0e13656a381f64b20475feea125a4185,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/MediaFilesPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/PlanetEntriesPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/SearchResultsFeedPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/UsersPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesDayPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesLatestPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesListPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesMonthPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesPermalinkPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogEntriesPreviewPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/WeblogsPager.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/CommentAuthenticatorServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/FeedServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/MediaResourceServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PageServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PlanetFeedServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PreviewResourceServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/PreviewServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/RSDServlet.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/servlets/ResourceServlet.java"
3029d2a6eda618375af7796614558a8e1eba9eff,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/weblogger/ui/core/RollerContext.java
app/src/main/java/org/apache/roller/weblogger/ui/core/RollerSession.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/BootstrapFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/CharEncodingFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/DebugFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/IPBanFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/InitFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/LoadSaltFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/PersistenceSessionFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/RoleAssignmentFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/filters/ValidateSaltFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/core/security/RollerRememberMeServices.java
app/src/main/java/org/apache/roller/weblogger/ui/core/tags/calendar/BigWeblogCalendarModel.java
app/src/main/java/org/apache/roller/weblogger/ui/core/tags/calendar/CalendarTag.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/filters/RequestMappingFilter.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/FeedModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/PreviewPageModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/PreviewURLModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/model/SearchResultsModel.java
app/src/main/java/org/apache/roller/weblogger/ui/rendering/pagers/CommentsPager.java"
5504b473e8af7d96f76afa73e1dcb7a819277325,"Improved: Added '@Override' should be used on overriding and implementing methods.
Affected files:
app/src/main/java/org/apache/roller/RollerException.java
app/src/main/java/org/apache/roller/weblogger/business/PreviewURLStrategy.java
app/src/main/java/org/apache/roller/weblogger/business/jpa/JPAWebloggerImpl.java
app/src/main/java/org/apache/roller/weblogger/business/pings/PingQueueTask.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/ContinuousWorkerThread.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/ResetHitCountsTask.java
app/src/main/java/org/apache/roller/weblogger/business/runnable/WorkerThread.java
app/src/main/java/org/apache/roller/weblogger/business/search/operations/WriteToIndexOperation.java
app/src/main/java/org/apache/roller/weblogger/planet/business/PlanetURLStrategy.java
app/src/main/java/org/apache/roller/weblogger/planet/tasks/SyncWebsitesTask.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetConfig.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetGroupSubs.java
app/src/main/java/org/apache/roller/weblogger/planet/ui/PlanetGroups.java
app/src/main/java/org/apache/roller/weblogger/pojos/GlobalPermission.java
app/src/main/java/org/apache/roller/weblogger/pojos/WeblogPermission.java
app/src/main/java/org/apache/roller/weblogger/ui/core/CmaRollerContext.java"
36772dd7c38948c4ad8f11ed8175d7edda7c1314,"Merge pull request #49 from isdixit/master

Added '@Override' should be used on overriding and implementing methods. (ROL-2159)"
a8e34f68028b7da84a29a18db9272ad5c5825081,"Merge pull request #50 from isdixit/roller-6.0.x

Added '@Override' should be used on overriding and implementing methods. (ROL-2159)"
8424a8388cb589a90ced8427209a9a282ce6bed3,"Merge pull request #1 from apache/master

Merged upstream in local copy"
6ecfd22b2f8685fa8b63e97b52aa4d773298d305,Temporarily switch to test version of Struts 2.5.22 for testing.
5e045807e5875b57affb4a02fbd2c90cae383354,Merge branch 'roller-6.0.x' of https://github.com/apache/roller into roller-6.0.x
4c0c78a325ffeba8e946af1999f1405f4592584a,Merge branch 'master' into roller-6.0.x
f4c1094a969d0b554a3ec3126f0d43cda04253c4,"made it easier to run roller on latest JVMs (tested with JDK 13).
- use ""no_aop"" version of guice which doesn't bundle its own ASM version
- bumped ASM dependency to 7.2 for Java 13 compatibility

fixed some jetty warnings by not adding the javax.activation api classes twice.
minor maven dependency updates.
added version checker maven plugin, can be run with: mvn versions:display-dependency-updates."
2c4da1128b6fe33e2d65057e8ac81ebb0bd7fa47,"Merge pull request #51 from mbien/master

made it easier to run roller on latest JVMs (tested with JDK 13)."
c108ab09847045b30cb53583feae7b7c584efb67,Merge branch 'master' into roller-6.0.x
4716af395175503e009266c20ec2c59824086b2d,Struts 2.5.22 is released.
13ee95cd3d46bbf04df8181a9479bd861091c50d,Merge from 6.0.0 and move master version up to 6.0.1-SNAPSHOT.
8cb3da13831485886d9905fee45ddb5d89e680a6,Switch to AsciiDoc version of install guide in standard release bundle.
60bf7f41c89fcdfa804b7f179a0bfa0336e5c5e5,Switch to AsciiDoc version of install guide in binary release bundle.
3bb06f7ba548d221be8a19f0b4ce027ef5d8edb3,Merge AsciiDoc changes into 6.
ca02d5c0c7dc9f3b38f31c78985f22f3cebdcbff,Fix suggested by Greg Huber.
4373757c98defb39a48e2b300ea367f903a5a974,Implement template remove.
f77c3d762c7ecf0bdebb1ace39f5330d05657029,Preparing for  Roller 6 rc3.
340044157fb93e4b3175df47dbe9925427025f28,"Merge pull request #46 from apache/ROL-2157

Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)"
32051364c5f8ec6adae214e3ecca7e60176aef8c,"Fixed: Variables scoping in ajax-user.js (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
9dbc9aa1b0d3b0932410bab94396bfc5dbae065a,"Fixed: Variables scoping in roller and searchhi js files (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
45d0837dd8e2df57266ac781dbcb6f8ad61566ea,"Fixed: Variables scoping in weblog.vm js code (ROL-2157)
Pattern is identified and reported at  sonacloud.io as Blocker

JavaScript variable scope can be particularly difficult to understand and get right. The situation gets even worse when you consider the accidental creation of global variables, which is what happens when you declare a variable inside a function or the for clause of a for-loop without using the let, const or var keywords."
900b75974816093d22e4bebd609fd00a0cf7cc0b,"Merge pull request #52 from adityasharma7/ROL-2157-6.0

Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)"
a459f6f7420baa9b40e391374f2136485ad25c57,Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)
3e7c421f2eb736ccfda2580c9361d27cfe10ec06,"Merge pull request #53 from adityasharma7/ROL-2157

Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)"
d69b27b8f3dae837c91f0675b013b36cde8cf603,Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)
7d11070df10d16721906620f586531b4dc7a325d,"Merge pull request #54 from adityasharma7/ROL-2157-6.0

Fixed: Variables should be declared explicitly in Custom JS code (ROL-2157)"
88f8d5f87bf4bab60cff4716666edde07c1d1e4e,"Converted the Template guide from ODT to ADOC, first version (ROL-2151)"
4ba28cc9a50f3da21074d2dd0cc7c99649173db0,Corrected the section information (ROL-2151)
e0bc7cf5553586780358c1c251ccd56ce43a7290,Added the various missing table and fixed formatting issus (ROL-2151)
c987fc7da742c02130643460d4623c3e32b8c92a,"Added the images for model-object and, customizing theme and template  (ROL-2151)"
65f962b67609a3c7c8cb8d8f8ff2a1f674281dcd,Updated the theme edit instructions as per new Roller UX (ROL-2151)
89655adef648df8eec2d5c009969746cfef1a253,Updated the image for customizing the theme (ROL-2151)
3b472b3e234bd851ae8949a29fb0d325f92a5656,Done minor formatting changes (ROL-2151)
3a28709d350b0e7114f09e68cd47555f2658837f,Removed the page template properties which are no longer shown in the new Roller UI (ROL-2151)
827b7a824d7f5d8bc7c5fc46eb8a7d0220444a5f,[ROL-2160] work around apparent Struts but by showing weblog handle instead of name in front-page select.
527c2713389b871da30a61fe43644775d067e70b,"Merge pull request #56 from swapnilmmane/master

Converted the Template Guide document from ODT to ADOC (ROL-2151)"
56fc6a88cb8cd96127e8a10a512b978b6ac2c29c,"Merge pull request #55 from apache/ROL-2160

[ROL-2160] Fix for Server admin page failes to render bug"
31747ff65e02f5b4b480ceb478fa525bc3586f2b,[ROL-2161] Allow user emails up to 255 characters and add validation to User Edit page.
d707a7a1408355cde650ad560633a4c8feb0583e,"Merge pull request #57 from apache/ROL-2161

[ROL-2161] Create new user improvements"
0b22358fb22a60bcf5257b6df872b2000df513eb,Attempt to fix tests that are broken on builds.apache.org but work on my machine.
eb35445860ae25d333a922c963d409535f276172,Attempt to fix tests that are broken on builds.apache.org but work on my machine.
f39e32bac6e2b2fe103668da98a38c6942fe7370,Fix add user page.
bc9a5880bda35fe1c33a72f3d1c8f781a0b699e8,Fix add user page.
c78fc67380827e6486f83f2f6b77e79f7bb3e5b7,[ROL-2161] Allow user emails up to 255 characters and add validation to User Edit page.
5d8c5ff8312f9a90427e1311943123660a91664d,[ROL-2160] work around apparent Struts but by showing weblog handle instead of name in front-page select.
0f1edb2a219171d7600325c6ad1b32ece7a355f7,Prepare for 6.0.1 release.
b8df01916df4501694c703a2cd0ac5a40fcf4e84,Preparing for 6.0.1 rc-1
5941c751441378ca2d5ab4a97e35dbe5ba27d4ec,"Fix incorrect  text key, fix suggested by ghuber"
0e3aaa24f7c11ea1965e65bb9d352e018dc6f01d,"Fix incorrect text key, fix suggested by ghuber."
286b4e1a7280b7cd109fa44db98c8205244e184b,"Fixed: Moved the roller-install-guide to appropriate location (ROL-2151)

Please refer this thread https://s.apache.org/0de5b for more details."
9cb16274ffe910ca5358e054eab09b9df7133216,"Merge pull request #59 from swapnilmmane/master

Fixed: Moved the roller-install-guide to appropriate location (ROL-2151)"
55bae9334f0d8edd92536f3c364b1cd9e676d1c7,Converted User Guide document from ODT to ASCII Doc (ROL-2151)
f108f800da4dc39326f0c9ed3939a50feba12af1,Merge branch 'master' into roller-6.0.x
2b12891d7e3351a6345f25d568e2502724296d72,Preparing for  6.0.1 rc-2: switch to AsciiDoc versions of docs.
269736db9da31f8da3fc67f7d6f7d7f1045fd67a,Cleanup the docs directory.
e531acbc124ad03aecccd4044fed88b264ec8879,Updated the references of ODT and PDF to AsciiDoc.
6a55bb734e4d539c990717c563594f79b341e502,"Implemented: validation using the jquery validation plugin (ROL-2156)
Used validation on the Create weblog page"
4e788f78f955efbe302a66e231f904a381c89106,Master call master 6.0.2-SNAPSHOT for now.
df071dceb75a5c0dbdf34a88c9358cf932c14590,"Removed notice for build time dependencies downloaded via Maven
Refer https://markmail.org/message/o4fagzrjhbuqt2ce"
b610398c714c7f1ea3593855cb693981e0455791,"Removed notice for build time dependencies downloaded via Maven
Refer https://markmail.org/message/o4fagzrjhbuqt2ce"
dd8dd78332eb6ab61a67fd7f1bd9d75b3ccb3756,"Implemented: logic to apply email validations (ROL-2156)
Added method to apply regular expression and added rules to validate email
Added error message with internationalised text instead of hard coded text
Removed existing custom code to validate inputs"
3965bc94985fbc7dfeaff30d018e0ea1a220fb46,Merge branch 'master' into ROL-2156
7d90ac3026ab98cf7a52084512eef87e6cb4b46d,"Merge pull request #62 from adityasharma7/ROL-2156

Implemented: validation using the jquery validation plugin (ROL-2156)"
bd164d6df9679a7f546b4bf8bd8da5cc2cf1fbfb,"Implemented: validation using the jquery validation plugin (ROL-2156)
Used validation on the Create weblog page"
46abbd7f52e839cbb2ae8d2fc8e28598e7f8e585,"Implemented: logic to apply email validations (ROL-2156)
Added method to apply regular expression and added rules to validate email
Added error message with internationalised text instead of hard coded text
Removed existing custom code to validate inputs"
96b226f0bfab8bf593d9f760ae262222cf1196fd,"Remove all references to term ""blacklist"" with more descriptive ""banned-words list"" terminology."
c9247d2596417012a331ab2ac1db51709df9212a,"Remove all references to term ""blacklist"" with more descriptive ""banned-words list"" terminology."
93c7526792ddd13a53b16f19679cc8b36e039388,"Merge pull request #65 from apache/banned-words

Remove all references to term ""blacklist"""
7ef338af97f26404cc4be9be3edacf637ad90296,Merge branch 'roller-6.0.x'
3f62d2c820fe5ff3677be3ae2b680d906339fc60,Merging 6.0.x into master.
b5086b98b6a4958af15beef1eb2c73d9295e61b7,"rebuild index in background if lucene throws an IllegalArgumentException (incompatible/old index).
split getFSDirectory(boolean delete) into two methods so that resources can be properly closed."
4d13416b2ddaac952dcff4a516e25f0df8d49806,upgraded spring security from 3 to 4.
5b435481998b8520cb84401791e719a0435edb33,upgraded spring + spring-security from 4 to 5.
7e3238d43421906b0c6353559e73c8872be29c3e,code cleanup.
8800c321a8878ef2cb006b85bd12ca5c69630706,"StrictHttpFirewall causes problems.

Spring 4.2.4 added StrictHttpFirewall which throws RequestRejectedExceptions,
this servlet filter catches the exception, logs rejections and returns 404."
6384e8784069acc9d8752fb8f5ea64cffe168872,"Set struts.convention.action.includeJars=false.

Caused a NoClassDefFoundError in struts when it tried to inspect a log4j2 class via reflection which had optional dependencies."
6abff018ba4ac3e93b5210987d2c4365c987dbe8,"added lucene-backward-codecs dependency for index compatibility between point-release updates.
updated most other dependencies to latest versions.
tested on 11, 14 and 15b26."
26d97ffdd46bedbaba576a086875678de67d0cb9,"set x-frame policy to SAMEORIGIN.

media file editor is used in an iframe. To allow this we have to set the policy to 'sameorigin'."
037fe73b63125c6bf9ecb869e9508060999ec5bc,"upgraded apache velocity from 1.7 to 2.2.

Build-time DB script generation is still using velocity 1.7 but it is now a build-time plugin dependency,
since it is the last version which contained the Texen Ant task.

TODO: GeneratePlanetTask is not ported yet."
ce48772be06c13916295be474e4d2f44ae71281d,"Wrapped all IO streams in try-with-resources so that resources won't leak anymore.

 + removed hard dependency to log4j1
 + fix/opt: getProperty() called config.getProperty() twice"
c124e3b7079005570fe382b796ea0ea677d60e71,"removed redundant synchronized map wrapper since cache is only accessed from within synchronized blocks and doesn't escape.
added @Override."
d53b0c08ea7450d2e6707aec341e7b5a8c25ef13,"Implemented a DelegatingPasswordEncoder for up2date pw encryption and as upgrade path from legacy encodings.

 - the default codec for db storage is now bcrypt (the other option is pbkdf2)
 - simple hashing functions like SHA and MD5 (which don't salt) are no longer supported
 - lazy upgrade is possible via the passwds.encryption.lazyUpgradeFrom=[SHA|MD5] property
 - the property won't be needed for future upgrades since the encoding is stored as prefix of the pw

TODO: only tested db setups, no LDAP"
237faae510653784ecfdf5ac4d4eb480d74aa37d,"ws-commons-util has a compile scope dependency to junit, which pulled an old junit jar into the project.

 + excluded dependency
 + fixed tests which imported the wrong class"
8239a8d65d162fe3f417f02f5256706aedad49f4,"moved roller to log4j2.

new setup:
- commons-logging impl is replaced by jcl-over-slf4j impl, interfaces remain
- java.util.logging is redirected to slf4j (used by WebJars dep, possibly others)
- eclipselink is configured to use its own slf4j logger
- log4j-slf4j-impl (which is log4j2) is used as actual logging impl

changes:
- loggers can no longer be configured using roller.properties or roller-custom.properties.
- configuration is now in log4j2.xml.
- a custom config file can be set using the standard log4j.configurationFile system property.
  (can be for example in roller-custom.properties or set as JVM -D property)"
3b82684b226f4792aa6dcbd44ff70cc346fd327f,"fixed dusty integration tests.

 - the pom was broken possibly from a merge conflict from some time ago
 - fixed some paths and dependencies
 - adapted for firefox driver api changes
 - some tests needed minor updates due to the new bootstrap UI
 - some tests threw StaleElementReference exceptions when they tried to access elements after
   clicking a hyperlink which reloaded the page; fixed that too

tested with:
 cd it-selenium
 mvn clean integration-test -Dwebdriver.gecko.driver=/path/to/geckodriver

used:
 geckodriver v0.26.0 on 64bit linux, latest firefox, jdk 14 and everything worked fine.

note:
 do a mvn install of the roller root project first. Doing this for ./app is not sufficient
 since the tests look for the project pom/war in local repo, not roller.war.
note2:
 the test will display a few meters of jetty ""class scanned from multiple locations"" warnings
 since the classpath is apperently set to target/ and the local copy in the maven repo.
 Isn't convention over configuration great? I did not further attempt to fix this after trying
 out some different dependency scopes without any effect."
c18b9037148ef46c758e3d3f2b38a931e42786bc,"Merge pull request #63 from mbien/roller-6.0.x

search index compatibility and other minor changes."
fe697f42f3851c6be53529086b96824c60434df8,"Merge pull request #66 from mbien/spring_renovations

Spring Renovations"
53addde71e23d5d1c6ad291b0a31ee2df6f525ee,"Merge pull request #67 from mbien/velocity_renovations

Velocity Renovations"
b89e72a397f27f5b4364dbb74c08a4ad267a6b1a,"Merge pull request #68 from mbien/logger_renovations

Logger Renovations. Looks good! thanks @mbien"
475a35347f908975d351b203743754b482c21603,"This commit fixes both the Maven 'jetty:run' target and the it-selennium tests, upgrades Jetty to v10 and Selenium to 3.14.0.

I left the it-selenium commented out in the parent POM because it requires that geckodriver be installed."
f70b8d58b7f33f35ccdb37c6442d0cc25a4aabc5,"Merge pull request #69 from mbien/integration_repairs

Fix for dusty integration tests"
0e2fb77da19d6fa0b2d829fc626e8a6482479604,"Merge branch 'master' into update-selenium-tests

# Conflicts:
#	it-selenium/pom.xml
#	it-selenium/src/test/java/org/apache/roller/selenium/AbstractRollerPage.java
#	it-selenium/src/test/java/org/apache/roller/selenium/InitialLoginTestIT.java
#	it-selenium/src/test/java/org/apache/roller/selenium/core/MainMenuPage.java
#	it-selenium/src/test/java/org/apache/roller/selenium/core/RegisterPage.java"
c96f8836d82c0f844d67d99502ecf7534a9e4d93,merge fix
6cba28b3a2c6b89dd5e54d64b77d56c0551e68cd,backout unnecessary changes
77dfe3e048a5fb746a0047d244e48040b569b465,backout unnecessary changes
4d6ee11db6d3e61c8790c64f31045909c391206a,No longer necessary to be in app directory to run with Jetty.
e8f868bbf032743b55b7c9711611608d434dd2be,"Merge pull request #72 from snoopdave/update-selenium-tests

Upgrade to Jetty 11 maven plugin"
c6e23a6e38639bc902f7108658ddc9173126de55,fixing sonarqube issue - static members should be accessed statically
ae82860818ae6d8d0964c3b799b4285962bac151,back-out change to Spring dependency.
18e18f8e16484627fbde66849025652dcdf10f56,"Merge pull request #74 from snoopdave/update-selenium-tests

back-out change to Spring dependency"
5740bd338c37d06cd22d0f3923c7b82520677433,"Merge pull request #73 from mookkiah/sonar_issue

fixing sonarqube issue - static members should be accessed statically"
ce4a4b37c7569a1e170788b9fb756eca98bf636b,"Fixed: sonarqube issue - 'public static' fields should be constant
There is no good reason to declare a field public and static without also declaring it final. Most of the time this is a kludge to share a state among several objects. But with this approach, any object can do whatever it wants with the shared state, such as setting it to null."
9578c5cf2ead00eb6efce3a945e8ec7c88fb8b28,Create codeql-analysis.yml
50a4a093e76ad04d2cdf4c10d327179ee974ba67,"Fixed: sonarqube issue - Empty blocks should be removed
Leftover empty blocks are usually introduced by mistake. They are useless and prevent readability of the code. They should be removed or completed with real code."
07dcff15491b8aa8bca9fe5509067e588df07daa,Merge branch 'master' of https://github.com/apache/roller
00b5039fbbda3f1cdf84f6381965e1ac817875d6,Fixed: sonarqube issue - strike was redundant
0001a2aada47b5c264ca1e2804820e9df472c0ec,"Fixed: sonarqube issue - 'i' is already defined
Variables and functions should not be redeclared
Used let to provide let scope to it"
71a951edcb5218cf2f257d0e5898c865755606ef,Fixed: sonarqube issue - 'e' is already declared in the upper scope
82c5a5b53650cb24b83417308374c8b3297121bc,"Fixed: sonarqube issue - 'checked' is already defined
Variables and functions should not be redeclared"
793310ab4d7a96875522f913f172e98713b96c6d,"Fixed: sonarqube issue - 'toggle' is already declared in the upper scope
Variables should not be shadowed

Changed the name of variable instead of changing declaration in upper scope to avoid any code failure"
6738f25bc33cc58be063142e58da0d51648238a7,Update codeql-analysis.yml
57535b8d0120e1ebcf7d34615d79658490f8d8c4,"Fixed: sonarqube issue - Constructors of an 'abstract' class should not be declared 'public'
Abstract classes should not have public constructors. Constructors of abstract classes can only be called in constructors of their subclasses. So there is no point in making them public. The protected modifier should be enough."
a5cabd3160f9a79c993789bfbc88f5094e3fa595,Merge branch 'master' of https://github.com/apache/roller
8b6e2b22138110a51fe5f4e31a4c4a91ae49c611,Fixed: sonarqube issue - removed unused private fields
c2133b65943652c6c7668ef0dc74ae41c2067434,"Fixed: sonarqube issue - Static non-final field names should comply with a naming convention

Renamed the field runtime_config to match the regular expression '^[a-z][a-zA-Z0-9]*$'."
b8ea6346fc800364095f3b720a0a8f270e1f17b9,"Fixed: sonarqube issue - Boolean(String s) constructor is deprecated
 Used parseBoolean(String) to convert a string to a boolean primitive
https://docs.oracle.com/javase/9/docs/api/java/lang/Boolean.html#Boolean-java.lang.String-"
2d4fc5a6f1b6d585629ca8e78307d82bbda18412,"Fixed: sonarqube issue - 'Random' objects should be reused
Creating a new Random object each time a random value is needed is inefficient and may produce numbers which are not random depending on the JDK. For better efficiency and randomness, create a single Random, then store, and reuse it.

The Random() constructor tries to set the seed with a distinct value every time. However there is no guarantee that the seed will be random or even uniformly distributed. Some JDK will use the current time as seed, which makes the generated numbers not random at all.

This rule finds cases where a new Random is created each time a method is invoked and assigned to a local random variable."
d9efad61837ebc12aa3378c69ef51d70fef9c32e,"Fixed: sonarqube issue - used prepared statement instead of create statement

Though the above code is quite safe from any SQL injection as the passed values are not related to any user input.

SQL queries often need to use a hardcoded SQL string with a dynamic parameter coming from a user request. Formatting a string to add those parameters to the request is a bad practice as it can result in an SQL injection. The safe way to add parameters to a SQL query is to use SQL binding mechanisms.

We should use parameterized queries, prepared statements, or stored procedures whenever possible."
701acc389ae3aab6ee171962d4066c4e73cc4cdf,Fixed: sonarqube issue - Used try-with-resources for the PreparedStatement
4c652856e4cb4dba3c415144000d616f831e4857,"Fixed: sonarqube issue - Methods returns should not be invariant
When a method is designed to return an invariant value, it may be poor design, but it shouldn't adversely affect the outcome of your program. However, when it happens on all paths through the logic, it is surely a bug."
16d3ee48f875e4cfbfccc21736784f74c60f5943,"Fixed: sonarqube issue - used try with resource for BufferedReader
Connections, streams, files, and other classes that implement the Closeable interface or its super-interface, AutoCloseable, needs to be closed after use. Further, that close call must be made in a finally block otherwise an exception could keep the call from being made. Preferably, when class implements AutoCloseable, resource should be created using try-with-resources pattern and will be closed automatically."
7c8974f88f27ca0435c89d0ec7fd29880ac8f658,Add unit tests for the IPBanList class
0fd0b39a65a8284f5e4bed7a98e54f7130a3277b,Use a synchronized set as it's shared across multiple threads and gets mutated
491c3b70a724e24e6fa2ec93e6de42204faf279a,"Make a non-final log static field final, make an inner class static which doesn't have to be non-static"
7620d3b456a44aac7d79d33ed7e44e6412ea5345,Use ConcurrentHashMap.newKeySet() instead of a synchronized set for better performance
a5417a5c3a6b7df83931871cc9b3721da19a97fd,Remove the forceLoad parameter which is always false from the loadBannedIpsIfNeeded() method as per review comment
15bf4733b099a78945e5f66e945c7106740ad71c,Remove Mockito from pom.xml as it's not used at this point
c3d5d10bfcec7aae5cc75b63c5d298e631361c11,"made fast path faster.

 - small optimizations on the fast path of PageServlet
 - better initial size for StringBuilders; resize won't be needed for most keys.
 - replaced String append with char append for single char Strings; should be easier to inline"
233ba6434b40da63c9b12c060f9ccd0c73f8a292,"updated lucene and rome dependencies to latest version.

cleaned up some exclusions which didn't do anything anymore."
1ad852905def4e4de117f64c72ad2cc0706bf8a0,"fixed bug: custom stylesheet is never set to the StylesheetEdit.jsp action.

- commit 48e9708 only implemented isSharedTheme() branch
- added else branch for custom themes
- used the opportunity clean the method up"
8475fdaed28dfdb21e5c94f5d5cb41f4caef3f5d,updated dependencies + added commons-text to fix deprecation of lang3.StringEscapeUtils.
f60aa0be6a7538bb07da94b6d04b419d19b405d9,project wide refactoring to String isEmpty() or isBlank().
fb504c55fbe748c9321bee31c7548044282e22c2,removed redundant toString().
8741056c0459954174c17c6e19627b1a6edcb219,"use EnumMap where applicable, Arrays.asList() and isEmpty()."
fe00f34a485922dddd43d9d3d271503a433094f1,"use EnumSet where applicable, Set.of and (synchronized) HashMap instead of HashTable."
410dd720eec67635466e1878b584b84c0efde366,project wide refactoring to !Collection::isEmpty.
73d2873f691a961fb3b7c67bfeb3dee6960e2533,added @Deprecated to methods which were deprecated via javadoc comments.
7f0fb523d6902d9ef1e636d918faa02ec2087007,Fixed: type specification when using generics
4917d29c92160aa26267b3f9463292270ad3f35a,"Merge pull request #77 from ymaheshwari1/type-spec

Fixed: type specification when using generics"
d852d9c63f6b276bc052716814feec9bb5667564,project wide @Override refactoring.
fa142271eced7716fc6e0b8bda155f59d7b98270,Removed: unused css rule background-repeat from the menu.css file
f5f3e6a8657f01586a7553757275bcb4ace19d10,"Merge pull request #78 from ymaheshwari1/unused-css

Removed: unused css rule background-repeat from the menu.css file"
3495b5131c704a2705b373d018043d830df8c809,"Merge pull request #76 from mbien/refactor

String and Collection Renovations"
1628c3a3c4425cb39d2aa5197cd94f817c9e935e,"Merge pull request #70 from mbien/misc_updates

Misc updates + lang3.StringEscapeUtils deprecation + stylesheet edit action fix"
b8d99db863acedc088c59463a449905bd9a8fe0a,"minor jsp changes.

 - entry edit page; full preview button: reuse last preview window instead of opening a new tab on every button press.
 - final upgrade database page: added big blue start roller button to mirror UX of previous page (the hyperlink in the text block is easy to miss)"
ea8ec7f935f001383387c5b91f01ee56d08e723f,updated sidebar text truncation and textfield size.
1f0b2c19f9bbce0853ae909bc7918f8c16bba7d6,trim whitespace caused by jsp tags for better readability of admin page code.
a9b38245e69946330ecac6ddfa1d0dc5f8de7e71,Improved: css margin and padding rule to use shorthand property
9df2d4bf139be3effbb7a04b1f7f59c83ea5da66,Improved: code to use shorthand properties in basic-mobile theme
2c269835d82350f171b83f94fdea138b30a4bf7a,added missing roller 6.1 db table upgrade functionality.
ac26e05be99c4f68358618e57c499aeaca2416a3,"updated dependencies + JDK16 compatibility.

updated maven dependencies
 - guice 5 can be used again without the noaop tag on latest jdks
 - asm, spring, lucene, velocity etc
updated webjars
 - bootstrap 3.4.1 is the last version before 4.x which comes with breaking changes
checked JDK16 compatibility
 - required war plugin update in selenium pom"
9f3751d2e6d6a7e3d79b2f3ddb1da7b5720118bf,I should not have removed provided scope for JSTL as it is NOT provided by Tomcat.
ad6386873481fa268834bec523edf4da799f9035,"Merge pull request #81 from mbien/jsp_updates

JSP updates"
664ec3348eb3966ac6015138ace3bf3f0b9da6f2,"Merge pull request #82 from mbien/table_upgrade

Roller 6.1 db table upgrade logic + maven dependency upgrades"
19f7f12bcd6d73681e3aa68360bcfa003e495512,"Merge pull request #80 from ymaheshwari1/update-css

Improved: css margin and padding rule to use shorthand property"
3ca3bdafcb284330baa1827952c543a04e4f7c17,Fixed: typo in the documentation
0434cb30b49113f0d855739abe4b8ef243daab5e,fixes the failing SubscriptionFunctionalTest by removing subs added by PlanetManagerLocalTest.
a0e238c017296dc15b25bf757330ec30f95678c2,"Merge pull request #86 from ymaheshwari1/typo-docs

Fixed: typo in the documentation"
044ef2f9e6a7fb35366740642b593fb47ef7857a,"Removed: the type specification from right side when using generics (#79)

* Removed: the type specification from right side when using generics

* Removed: the types specification from the pagers package

* Removed: the type specification from the fetcher package

* Removed: type specification from the util package

* Removed: type specification from the business/jpa package

* Removed: type specification from the business/plugins package

* Removed: type specification from the business/runnable package

* Removed: type specification from the business/startup package

* Removed: type specification from the business/themes package

* Removed: type specification from the business package

* Removed: type specification from the config package

* Removed: type specification from the planet/tasks package

* Removed: type specification from the planet/ui package

* Removed: type specification from the pojos/wrapper package

* Removed: type specification from the pojos package

* Removed: type specification from the ui/core package

* Removed: type specification from the ui/rendering package

* Removed: type specification from the ui/struts2 package

* Removed: type specification from the ui/util package

* Removed: type specification from the weblogger/webservices package

* Removed: type specification from the constructors"
0701f6d7438afd84e19b230d61e7a0a9b23fa642,Improved: the UI for the blog entries page
605d9d3012977bbbd5adc737af45786f51956633,"Merge pull request #87 from ymaheshwari1/roller-ui

Improved: the UI for the blog entries page"
4d1294ddd9ac725cda5574ee901d46700f912097,performance: skip map.contains() since we have to call map.get() anyway.
6e0d7878f1381ec7ce497f7d892921caae5db675,"performance + cleanup: copy the stream content only once.

 - stream.toByteArray() is now only called in close() if the stream index didn't move since flush()
 - some modernizations: AutoCloseable + made some fields final."
f364033ed12fded83f5ac44e4c9528cf7b548908,performance: replace String::replaceAll with String::replace if there is no regexp involved.
d472e4feb365f78eabff4dbbda3ac8bfa11a72d4,close input stream.
fd4d127a9569b292a79955b5a051a88ecf1eb629,call getSession() only once.
0ebf7c483ff54f197f87fca03ee71e516afc688e,lucene and spring point release update.
24e6f84707163d8e9cdbed623b4345ba61c7aac9,"Merge pull request #88 from mbien/performance

Small performance improvements"
9dca2dace7e179f17c4de42e352bc3bd2e167460,Remove AssertJ as per review comment
6742bb37505a892eb040bfe1d1637dc468f0acb7,"Merge pull request #75 from nuzayats/ipbanlist_fixes

Ipbanlist fixes"
316b9cd2ce4c35646b239403ca61567d7ea06f33,Upgraded bootstrap to 3.4.0 for Gaurav theme
6a0affbd7b2f9eac1ebdac8e4cb97430bb5c09cb,Upgraded jQUery to 1.12.4 for Gaurav theme
743f1d246deab7d90221cc864093f00c4f672ecd,Create CONTRIBUTING.md
c977da392bd3ac249aa053ab2c45143d175a0281,Parse referrer URL instead of using string value directly.
b9b5ff3b1a57c1481829d944860207f9b6b862d9,Improved: tooltip content on the registration form
3860e96186dd2d26a7c08f926923b59c7b119cb9,Switch to URLValidator to avoid exception logic as suggested by mbien.
7a0651cd99bab6358452c9a0908d28cb54cfc59b,Workaround for flakey test.
07826638c9b9223936dd5bbecd0c24a746f7979c,Merge branch 'master' into parse-referrer
bb20abe179e08a64d19e5120838a5dc72e0407e0,"fixed selenium test classpath + maven updates.

 - class path is now properly set up for the selenium tests (no jetty warnings anymore, significantly faster startup)
 - some maven cleanup to fix duplicate libraries in classpath
 - removed unused dependencies
 - updated maven dependencies
 - added -Xlint:deprecation as compiler arg for future cleanups"
afee18b3c3b03d8f5e5f1c68bcfc862c09e9b2f5,Merge branch 'master' into parse-referrer
5ef9181c768dc481b3250e679fe6912f79ef7cd3,"Merge pull request #83 from snoopdave/jstl-not-provided

Remove provided scope for JSTL"
4c55a622cbaa5c3d30e1973ae5b07d688a01639e,Eliminate use of regex in referrer processing.
7f7d5026d7139580bff2797780ddfa7cae3735bf,Merge branch 'master' into parse-referrer
58e61b06d168e8f58468f9a7dfb8fca022b3c0c5,"Merge pull request #90 from snoopdave/parse-referrer

Parse referrer URL instead of using string value directly."
97cf6e7d66d186fca9c184e077d1f7bd013f3988,TagDataServlet input validation.
2c68105e781492236857ef45e6960bb7736e0d45,OpenSearchServlet input validation.
21c3c320b274c17eb3fe8a15d8b55c38d2eea4b2,weblog handle validation.
253c309fa8fedf86230b71a5c6a89d41f65330c8,WeblogRequest and WeblogFeedRequest input validation.
89ec086fc031c082f345dd7548bac76afda4aba7,Exception handling can be simplified since velocity is now throwing subtypes of VelocityException.
b4985671aa7a4c097bb742caa2473ae0451c2fa6,exception handling / logging.
2fc77ed38902933e526bd39730f1ba9c4eed7d4e,added error pages for 400 and 500 errors.
f816257ce3517369dcf5aac844722bb92c2648e2,fix: this should be && not ||.
8e09e8f9e82e796eb9cd8de2a894263218878159,escape html in weblog title + remove non alphanumeric chars in tags.
043da93db5af3e68007365855c26f3ff6c5a33de,replaced deprecated rome-fetcher with java 11 HttpClient.
bac178deba380d765446a91dd58867845b8c67bc,"removed getEmptyString(); listValue="""" has the same effect."
2e142a2c2472af3065782445d32692ec10e6f776,Updated: the main menu to have proper space when displaying permission message
277233cf6965eeb18b0d7f5837a142b10f59ed3f,Updated: the header to show the tagline only when its available
94ebf3b8c36c1942bc6a1eabd398d8730b4d8720,Updated: gaurav theme to show the tagline only when available
6038648c6ef76e64d3887cc4b5a8b6c2574cc3ab,add space between text and link.
e18726f9f0a623d5e3ed81e1e065e1a115220a56,CSS fixes for media files and maintenance page.
2191f796c648a9422fd355bcdcaf0ae84d1318b0,Class.newInstance() deprecation.
a7237f9d979a8618e95db8f49e0bc9dd4a557ac7,struts2: refactored deprecated ParameterAware to HttpParametersAware.
3faedb231ce6aca3049c100a940fe4d0b0d37d18,"MethodOrderer.Alphanumeric is deprecated, use MethodOrder.MethodName instead."
499b02ffa9a06d9ca862dc0a20a7198d1b4c4e78,UrlValidator package changed.
ef196034ea7ecb5f2900e505cbc8f43326b9b3da,removed unused commons collections dependency.
6577ba24fd3c968ea80da04daee272af87b07f7c,ui package: compiler warning fixes combined with collection improvements.
625a309d5a7e8fa1ab755ee5ec7e5f613427450e,pojos: compiler warning fixes combined with collection improvements.
97e8dd20992415a09915770ccab07bf882c73216,misc: compiler warning fixes combined with collection improvements.
7a0c86f66355505450016b613928f8f35928d14d,Pojo wrapper stream refactoring + warning fixes.
5fe8291314b0ff85b85ae7442f664f195ad5b80e,"URLStrategy: better StringBuilder sizing, generics and collection improvements."
7d07a845feed451d0356c9954ad2f11a0e148e96,Cache: type compiler warning fixes and collection improvements.
ba2a6ce3d3d908822231db7cfede4153395a0e33,Pagers: type compiler warning fixes and collection improvements.
5d0279b5bb63955923953cb9a70dda81f9f3a3ae,Models: refactoring and compiler warning fixes.
675364602034c0b69b308f78126aeca9fa0d6b82,fixed remaining rawtype warnings in atomprotocol and xmlrpc packages.
5a675ae518c1eb693e7198c6bded776a55369dc0,Extracted common reflection code into new Reflection util.
4a41c06cae2a8d8deba4fd3c22b8c24d8c87de85,close input stream + use InputStream.transferTo().
c4b405bd5ee44bbfdba1acea8bf3327193e04ffe,cleanup + unused code removal.
1bc342caa5a849fcab58565b4c3913a35adb99e0,final set of rawtype warning fixes.
637cf3aa5b8c76f7a485151efa8bb4facecf9e5d,"Dependency updates, roller runs now on JDK 17 (and 11)."
6988b826f02eb146aed402de5594984c85cceb9d,replaced deprecated velocity properties with new ones.
009d5eeced25dc8d69b1da13adea5b2b73608fd5,updated velocity properties + set log level to info.
42c32e86f0c1f54cd58a4295af4bf2381f6e44b4,fixed UTF encoding.
c68ca04d164bb14353ebf9dc41d9b43844f15784,make session cookie inaccessible form JS.
de1f33a7e2ed11163bdf259fe56430f016ab65cb,precompile regex patterns.
a8be8dff2949c30428452613111bdeeda4bcf18c,remove autobuild from CodeQL config so that we don't build roller twice.
09489e6c3630fac21ff6b40c8195eecca2de1b78,"Added EscapeSourceCodePlugin, a WeblogEntryPlugin to escape angle brackes from code within pre tags."
4a476e6530b344f2d074496388c5b03fad121adb,renamed EscapeSourceCodePlugin to EncodePreTagsPlugin.
f90f714d1a0db34baa7556d04977c7275589a7fe,quote $ and \ to not confuse the Matcher.
2d5bc971cab183df5ee0d1b1ffecc3946a1e9f2c,RememberMeService should use a better hash function.
3b53a62195787c3b00cec86e5845959250aabc99,Context URL validation.
d673ecd72d45dd5ac576d968574f993eacc81622,"TagDataServlet: Escape URIs for XML output to make CodeQL happy.

This is technically not needed, but CodeQL thinks those variables are client provided Strings,
since one code path leads to the InitFilter. We do it anyway to fix 3 alerts + its trivial."
24e53029faeab078d73e043800b8e63771d132cd,"FileContentManagerImpl: Validate Path before creating a File.

CodeQL doesn't understand validation which is happening *after* Files or Paths are created.
Rewriting the method a little bit solves that + its now using Path instead of File."
28f9ca1c589d7847f9685f6f6aef369b461cf9e7,FileContentManagerImpl: Validate filename in saveFileContent() + use stream transferTo() shortcut.
2181cb796aa3057bd8b692d34ada970b17d21fc6,FolderEdit: HTTP response splitting defense.
5a4af10a6adf55d2b00639509415d80ecc57bb05,WeblogRequestMapper: Use already validated weblog handle for redirect logic.
27c120127a453413a581a2d0991b8963255c376e,close the right stream (getter would return a new stream).
c86fffed7b6a1f24b4ead87cd7c141a4077ed4b2,"set cookie ""secure"" and ""SameSite"" flags by default."
440ef707696bbe9f0c4d65deeff19bd3d3a9988f,"CodeQL: don't scan JS files three times.

this requires unfortunately another config file since path settings
can't be set in the workflow config.
see https://github.com/github/codeql-action/issues/283"
c69764a03340167cb2e50247ff33d54b87c9e558,"bugfix: ""/tags/"" appears twice in the cache key (introduced in 7d07a84)."
44172c6dd97a0c3617cdecd03af12b009a2dcb0c,fixed JS error during MediaFileView#deleteFolder action.
4b8d5cca8d523e132de2d053f4c342dad8e47876,semicolons for consistency.
e23b32f11822c4c43e0225b94ebb396c4377ec57,Use getDeviceType() of the already parsed request instead of parsing it again.
eec6c794a0709b90a80d65b1af7998860c908a34,"Use StandardCharsets.UTF_8 constant instead of ""UTF-8"" String lookup."
2e31b23107ae55f77d324935ae36a464cf876fba,Use Colleciton.toArray(T::new) instead of Colleciton.toArray(new T[size]).
86eabeaaf07a913ac7af1d1fe18e3ea03c4b2af2,Small optimizations like better buffer sizing and switch instead of long else if chain.
083252695e6c494ecbd8b7fc95858a990f16dbfb,Use collection.sort() instead of Collections.sort(col).
fc8cdba6f86d4c8a39ba36fc19deb1112e7df0ef,Use copy collection copy constructors instead of addAll().
4de79d5c5b13af48703dad8f469ada7db8a4519b,Use ByteArrayOutputStream::toString.
cb3090fa0c2c89100ae350afa7722dcebf5f8e94,Use String::equalsIgnoreCase where applicable.
92b993243bbd43af3983f4beec31278b2d497920,Use set/getProperty methods instead of Hashtable put/get.
d6ed11cecf6ffb39a4c4f0b91b013fabb4ea5272,Use try-with-resource and input.transferTo(output) where applicable.
bf4f7509a1414f391daf34b9102e550e33f4aba3,maven dependency updates.
1a6f44f267eccdcf75df11edb98883bf878e19db,skip derby startup if tests are skipped.
80e12aedb99a6bac2dfa44340080847502f093db,"Merge pull request #105 from mbien/optimizations

Small Code Optimizations + Dependency Updates"
57a64ac355abebf9df2e99d4c46cd3904dfbf1e3,Translation: Simplified Chinese
2340d7b58585006c41088080bd1537401519f1fb,"Merge pull request #100 from silkriver/leo

Translation: Simplified Chinese"
e91676c5626316ac0eebd3758433f665e579cc52,"maven dependency updates

highlights:
 - log4j 2.15.0 (fixes CVE)
 - lucene 9
 - spring security 5.6
 - jquery-ui 1.13 via webjar
 - other minor version bumps"
4e7d63fd98180acedba62fb9abb5354ac8234898,"Dependency update to log4j2 2.16.

- disables JNDI by default
- removes support for msg lookups"
8d5c6c4f8ffcd142e522204688a330a60665a666,Prepare for 6.1.0 release.
70e0ebf03eb757cb3f931bf538244b4f8a8ac708,Omit answer from CommentServlet response.
92e791360562ba56ed60d1685db956201bf6a21e,"Dependency update to log4j2 2.17.

- fixes more log4j issues
- other minor version bumps"
27b7042b2d70ccc942006651eea239058d3984e9,"Merge pull request #108 from mbien/noanswer

Omit answer from CommentServlet response."
730b9c73b151f6bd7938a5a772a3f47013c622df,"Merge pull request #109 from mbien/log217

Dependency update to log4j2 2.17."
cee44785902ad75aa2ac13dd571489557fc5279f,Fix for intermittently failing test.
f1f80002ace0c5983bb4f7437110b4216e62cba9,bugfix: SearchServlet forgot to copy the user to WeblogPageRequest.
f23df8a20bc16e74e571fdd78f40f9e6bce03712,formatting and reordering for better readability.
b49e2a7ffcbb8ebb30e3a85781ea2448dad9bc82,"updated container setup.

 - fixed urls
 - upgraded to jdk17 and latest lib versions
 - better signal handling (made sure container stop signal propagates to tomcat)"
1c5edce86e2f5aa7eb4585a6620e9cb6ea8638e7,"Merge pull request #110 from mbien/containerfile

updated container setup."
826751ce16f4068736675c91920a4179350e631d,"[ROL-2074] fix for ""DB upgrade fails on MySQL 5.6"""
5d60f14ee4015727ec7c89dfa10a795679d177b4,Prepare for 6.1.1 release.
9a7f701bc72cac7817bb578f915a98ee5a7868a7,"Merge pull request #111 from mbien/searchmodel

bugfix: SearchServlet forgot to copy the user to WeblogPageRequest."
329f1aad7bf6962eb77275b9f96267b9be803c13,"updated velocity templates.

- use $foreach.index instead of old $velocityCount in loops.
- don't use deprecated methods"
e74ba32589200ab79679f87fee0c7be70189015e,close stream.
b5fb65dcbcf98cd4b3b08f58b2c8897ca5a4134a,"Added build/test github action.

 - runs on JDK 11 and 17
 - reports test results"
2c6d1bb538d43e998a29a7fda0adffb4e3e420f8,Disable failing test.
85d35898d97e03e29b713b075edbb548a784ee5e,Added Integration Test step.
683ca631b31b4ed2ed4e038a0f3c3f12cf162a4b,"Merge pull request #113 from mbien/gh-actions

Added github actions for basic build/test setup."
08e8a5585bc1259eb58a276b1e94596885093526,minor version dependency updates.
149b5d32e2f26926f8b9a638d8e3245797a12aa5,registered some maven actions for NetBeans.
287bc9febb4b6f0d75903555a7c4590d329dedee,"Merge pull request #112 from mbien/templates

Minor fixes in Velocity Templates and dependency updates"
d1467165624a229b0f56e7edc934e05eb42d9530,"dependency updates, added bouncycastle, minor log level update.

 - notable dependency update: spring 5.3.18 with security fixes
 - bouncy castle was added so that the popular Argon2 pw encoder can be used
   available encoders: bcrypt, pbkdf2, scrypt, argon2"
8e2890d7026e3bbdc01c307ccc0e29d2c9422aa2,"Merge pull request #115 from mbien/dependency_updates

dependency updates, added bouncycastle, minor log level update."
9382c28bdb15fdcf5528798d1c8765031d853757,upload dev build + add JDK 18 to the matrix + version bumps.
2deb12060cfb4b980a2075abc5b26a8b526bc0aa,"Merge pull request #116 from mbien/ci-improvements

upload dev build + add JDK 18 to the matrix + version bumps."
3ef1c07cd70c90de30415585076dbc99a92ee02f,upgrade eclipselink from 2.7.x to 3.0.x
d0216fa19279e2c12a87be11b48ff88b0fa878fa,"minor dependency updates. (asm, lucene, spring, jquery-ui webjar)"
80565b6fb16387de36ea0a31a70f05c6c24467eb,"Merge pull request #118 from mbien/eclipselink302

Upgrade to Jakarta Eclipselink + other minor dependency bumps"
8316ee315f104b09304b4c5a94be6cf1c1d476d9,Better error logging around access-denied/
e71be55e8b545318f1e30dec878752fadffccf2b,Merge branch 'master' of https://github.com/apache/roller
e66a2a86f8298f33f7c4ce6a4f9b1dd34813117a,"Start Derby from Java so that tests can be run without Maven, e.g. within an IDE debugger."
efb1f71e3b32d50dc23c9d37d1731f44ae133d73,Cleanups
85be536308b6d0f0179b71e56eed17efa366ec0a,Refactoring index implementation to isolate Lucene dependency.
928e031e726eba8315ca72d172d869536970bae3,Restore autocommit logic.
935bf28f5e8e11c4cd0eb5dbbe390caf01e9c062,"Merge pull request #121 from snoopdave/tests-without-mvn

Start Derby from Java so tests can run without Maven"
1157bc3bf5e7a58533cc56e9b9e95cd0cdf5ac71,Progress towards test for SearchResultsModel
880a94d8f6ba2380edb7d1d49bcc8cc2134afb0f,Progress on refactoring
4b68db5c90f7f2a50eb61842362f306e1f84468f,inmemdb still needed by it-selenium.
d725bc4ea931a90b2586785d163edd11fa025ea9,Lucene API usage now isolated in search.lucene package.
6de2fcf844a2136d597d089b437ed81ea06f157c,test fix
51e40eeb11b9529cd2b8f54156cab7982e943e2e,Whittle down the code a bit more.
c8865d35958db2a735e115784eca18f8ffc9d032,Whittle down the code a bit more.
0bb29eaefd4330e27de32f654eaf1674631d76e8,"workflow updates: test-summary, bump matrix to JDK 20, version updates.

 - use the geckodriver of the test runner
 - enable xserver for headful integration testing
 - strip repo credentials after checkout just to be sure"
b97238ae2dd2a368e5f6a1e76286389e73b59142,"minor dependency updates.

 - asm
 - commons text
 - eclipse link
 - apache lucene
 - spring
 - jquery webjars
 - various maven plugins"
f60e75f9cbe5664319be824a17bd24c074e29efa,added missing before/after test annotations.
5b6cbbf3a5a090dabedbdff6c2db68bedf8e0303,"Merge pull request #119 from mbien/dependency_updates_2

minor dependency updates + test-summary workflow action"
fab95f5a2a49da9d8ed4c7c56d137ee0525ec933,"Merge pull request #123 from snoopdave/solr-impl

Isolate Lucene API in search.lucene"
047daf53777e268cf75e56bf9c83d2c2d6149eb2,dependency updates (JDK 21 compatibility)
5c94c2582c4e19a1fdc8475c8f96783bfc788494,some field validation
a8a46a16b94a02550704133c101934b0b90d12b4,add basic content-security-policy for preset themes.
b6df636117156a79c834e3fc9266338cc521d990,Remove HTML from a couple of fields that should not allow HTML and clarify docs.
811b0fea0f3ab239c298ffc9b4e42a57b84de501,"Merge pull request #127 from mbien/validation-and-csp

Some field validation CSP updates"
23b79cbb7bb31c54bd806996cb1837ccdebb10c4,Merge branch 'master' into inputs-and-docs
cd4808e397e974756e6aa05182480f6fc16ff9a5,"Remove redundant escaping, POJO does the escape"
94b2f72ceed5ae15b21c44e6b352944587dc4490,"Merge pull request #126 from mbien/dependency-updates-3

Dependency updates (JDK 21 compatibility)"
c30027e006419f7a33d688eb58d7122c72cb6ea1,"Merge pull request #128 from apache/inputs-and-docs

Santize some inputs and clarify docs"
b271cdd008b8ddb881af6012d9de4f907e6eee6b,Prepare for 6.1.2 release.
bafc3b50b842b054019c1ff8bfb00c8b905dd2f5,Remove unnecessary Solr dependency.
384062b3085226336c37df9410df5390cb18525f,"Merge pull request #130 from apache/remove-solr

Remove unnecessary Solr dependency."
f7f01e9c76c94cfb02de1a8da5fd5e9f58268fab,Remove unnecessary error message and fix use of back-tic quotes in Install guide.
700a03b88c10c966c318ad30ced0e911a5d62798,I'm going to sneak this quick formatting related fix to make form labels left align.
fd17702a87d782dcaf4781406024073df80b062a,"Add a Jetty event listener to start Derby when Roller is run via mvn jetty:run (#131)

* Add a Jetty event listener to start Derby when Roller is run via mvn jetty:run.

* Ensure tables are created when running IT/Selenium tests.

I'm going to ignore the one failing JDK 21 test for now."
af8df0aaeaf77d0fba0330a7caa348ce3b44159a,Update JDK 21ea to 21ga in github actions.
